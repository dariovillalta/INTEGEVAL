{"version":3,"sources":["components/Filtro.js"],"names":[],"mappings":"AAAA","sourcesContent":["/*var arregloVariables = [];\t\n\n\tgetResultadosVariables () {\n\t\t//OBTENER LA LISTA DE POSIBLES VARIABLES A VISUALIZAR\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ResultadosNombreVariables\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                        return [];\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var temp = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            temp.push({valor: result.recordset[i].tabla, ID: result.recordset[i].ID});\n                        };\n                        this.setState({\n                            conexiones: temp\n                        });\n                        conexionesOriginales = temp;\n                        this.getFieldsConections();\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getFieldsConections () {\n        var arregloTemp = [];\n        for (var i = 0; i < conexionesOriginales.length; i++) {\n            this.getFieldConections(conexionesOriginales[i].valor, i, arregloTemp, conexionesOriginales[i].ID);\n        };\n    }\n\n    getFieldConections(nombreTabla, index, array, tablaID) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = '\"+nombreTabla+\"'\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var nombreColumnas = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            nombreColumnas.push({valor: result.recordset[i].COLUMN_NAME, tipo: result.recordset[i].DATA_TYPE, tablaID: tablaID});\n                        };\n                        if(array[index] == undefined) {\n                            array[index] = [];\n                        }\n                        array[index] = $.merge(array[index], nombreColumnas);\n                        this.setState({\n                            camposConexiones: array\n                        });\n                        camposConexionesOriginales = array;\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n//PROCESO ES:\n\t1) SE SELECCIONA UNA VARIABLE\n\t2) SE APLICAN FILTROS\n\t3) REPETIR HASTA PRESIONAR VISUALIZAR\n\ngetVariableDatos() {\n\t//OBTENER LOS VALORES DE LAS VARIABLES CALCULADOS\n\t//EN EL RETORNO DEL RECORDSET CREAR METODO QUE ACEPTE EL ARREGLO, PARA LUEGO APLICAR LOS FILTROS\n\t//CREAR VARIABLE GLOBAL\n}\n\ngetDashboard () {\n\t//ESTE PARTE PUEDE OMMITIRSE CUANDO LA VISUALIZACION SE ESTA CREANDO, ES CUSTOMIZADA\n}\n\ngetSeccionDashboard () {\n\t//TRAER CONFIGURACION NECESARIA PARA VISUALIZAR LA INFORMACION\n\t\t//TIPO DE GRAFICO\n\t\t//ARREGLO A VISUALIZAR\n\t\t//TAMAÃ‘O\n\t\t//CREAR HTML\n\t\t//CREAR JS\n}\n\n//CADA DASHBOARD ES UN SEGMENTO DE LA PAGINA, ESTA DIVIDIDO POR SECCIONES QUE REPRESENTAN EL ESPACIO PARA LA GRAFICA\n\n*/"],"file":"Filtro.js"}