{"version":3,"sources":["components/Body.js"],"names":["Body","props","state","showLoadingScreen","mensajeLoadingScreen","navbar","idVarEditarFormula","tablaVarEditarFormula","bind","hideLoadingScreen","updateNavBar","updateFormula","crearArregloFormula","setState","idVarEditar","tablaVarEditar","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","result","console","log","rollback","commit","recordset","length","formula","router","showRiskControlHome","showUmbralHome","showVariables","showIndicador","showRiesgos","showRiskMonitorHome","showFormula","showCondicionVar","showCalulo","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport ConfiguracionRiesgos from './ConfiguracionRiesgos.js';\nimport Umbral from './Umbral/Umbral.js';\nimport ConfigVariablesContenedor from './Variables/ConfigVariablesContenedor.js';\nimport Formula from './Formula.js';\nimport CondicionVariable from './CondicionVariable.js';\nimport IndicadorHome from './Indicadores/IndicadorHome.js';\nimport RiesgoHome from './Riesgos/RiesgoHome.js';\nimport Calculo from './Calculo.js';\n\nexport default class Body extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showLoadingScreen: false,\n            mensajeLoadingScreen: '',\n            navbar: '',\n            idVarEditarFormula: -1,\n            tablaVarEditarFormula: \"\",\n        }\n        this.showLoadingScreen = this.showLoadingScreen.bind(this);\n        this.hideLoadingScreen = this.hideLoadingScreen.bind(this);\n        this.updateNavBar = this.updateNavBar.bind(this);\n        this.updateFormula = this.updateFormula.bind(this);\n        this.crearArregloFormula = this.crearArregloFormula.bind(this);\n    }\n\n    componentDidMount() {\n        this.updateNavBar();\n    }\n\n    showLoadingScreen () {\n        this.setState({\n            showLoadingScreen: true\n        });\n    }\n\n    hideLoadingScreen () {\n        this.setState({\n            showLoadingScreen: false\n        });\n    }\n\n    updateNavBar (navbar) {\n        this.setState({\n            navbar: navbar\n        });\n    }\n\n    updateFormula (idVarEditar, tablaVarEditar) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select formula from \"+tablaVarEditar+\" where ID = \"+idVarEditar, (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if(result.recordset.length > 0) {\n                            this.crearArregloFormula(result.recordset[0].formula);\n                        }\n                    });\n                }\n            });\n        }); // fin transaction\n        this.setState({\n            idVarEditarFormula: idVarEditar,\n            tablaVarEditarFormula: tablaVarEditar\n        });\n    }\n\n    crearArregloFormula(formula) {\n        //\n    }\n\n    render() {\n        if(this.props.router.showRiskControlHome) {\n            return (\n                <div>\n                    <ConfiguracionRiesgos showUmbralHome={this.props.showUmbralHome} showVariables={this.props.showVariables} showIndicador={this.props.showIndicador} showRiesgos={this.props.showRiesgos} pool={this.props.pool}> </ConfiguracionRiesgos>\n                </div>\n            );\n        } else if(this.props.router.showRiskMonitorHome) {\n            return (\n                <div>\n                    <ConeccionTablas configuracionHome={this.props.showRiskControlHome} pool={this.props.pool}> </ConeccionTablas>\n                </div>\n            );\n        } else if(this.props.router.showUmbralHome) {\n            return (\n                <div>\n                    <Umbral navbar={this.state.navbar} pool={this.props.pool}> </Umbral>\n                </div>\n            );\n        } else if(this.props.router.showVariables) {\n            return (\n                <div>\n                    <ConfigVariablesContenedor updateNavBar={this.updateNavBar} showUmbralHome={this.props.showUmbralHome} showVariables={this.props.showVariables} configuracionHome={this.props.showRiskControlHome} pool={this.props.pool} showFormula={this.props.showFormula} showCondicionVar={this.props.showCondicionVar}> </ConfigVariablesContenedor>\n                </div>\n            );\n        } else if(this.props.router.showFormula) {\n            return (\n                <div>\n                    <Formula configuracionHome={this.props.showRiskControlHome} pool={this.props.pool} showVariables={this.props.showVariables} idVarEditar={this.state.idVarEditarFormula} tablaVarEditar={this.state.tablaVarEditarFormula}> </Formula>\n                </div>\n            );\n        } else if(this.props.router.showCondicionVar) {\n            return (\n                <div>\n                    <CondicionVariable configuracionHome={this.props.showRiskControlHome} pool={this.props.pool}> </CondicionVariable>\n                </div>\n            );\n        } else if(this.props.router.showIndicador) {\n            return (\n                <div>\n                    <IndicadorHome showIndicador={this.props.showIndicador} configuracionHome={this.props.showRiskControlHome} pool={this.props.pool} showFormula={this.props.showFormula} showCondicionVar={this.props.showCondicionVar}> </IndicadorHome>\n                </div>\n            );\n        } else if(this.props.router.showRiesgos) {\n            return (\n                <div>\n                    <RiesgoHome updateNavBar={this.updateNavBar} showUmbralHome={this.props.showUmbralHome} showRiesgos={this.props.showRiesgos} configuracionHome={this.props.showRiskControlHome} pool={this.props.pool} showFormula={this.props.showFormula} showCondicionVar={this.props.showCondicionVar} updateFormula={this.props.updateFormula}> </RiesgoHome>\n                </div>\n            );\n        } else if(this.props.router.showCalulo) {\n            return (\n                <div>\n                    <Calculo pool={this.props.pool}> </Calculo>\n                </div>\n            );\n        } else {\n            return (\n                <div>\n                </div>\n            );\n        }\n    }\n}\n"],"file":"Body.js"}