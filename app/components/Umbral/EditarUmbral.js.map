{"version":3,"sources":["components/Umbral/EditarUmbral.js"],"names":["colores","CrearUmbral","props","state","titulo","umbralSeleccionadoID","umbralNombreSeleccionado","seccionesUmbral","seccionUmbralSeleccionadoID","tituloSeccionUmbralNombreSeleccionado","seccionUmbralNombreSeleccionado","colorSeccionUmbralSeleccionado","rangosSeccionUmbral","valorRangoMaximoMinimoNuevo","valorRangoMaximoMaximoNuevo","valorRangoMaximo","valoresMinMaxSeccionesUmbral","rangosCreados","bandera","traerUmbral","bind","crearUmbral","traerSeccionesUmbral","agregarSeccionUmbral","modificarSeccionUmbral","seleccionSeccionUmbral","retornoSeccionSeleccionUmbral","traerRangosSeccionUmbral","agregarRangoSeccionUmbral","updateValorRangoMinimoNuevo","updateValorRangoMaximoNuevo","updateValorRangoMinimoCreado","updateValorRangoMaximoCreado","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","idVariable","tablaVariable","result","console","log","rollback","commit","recordset","length","setState","ID","tituloUmbral","nombre","$","val","isNaN","undefined","alert","each","minicolors","control","attr","defaultValue","format","keywords","inline","letterCase","opacity","position","swatches","split","change","value","theme","color","existeNombre","i","toLowerCase","localeCompare","index","sort","a","b","valorMinimo","valorMaximo","valorMaximoEsValorMedio","push","inicializarColores","valMinimo","parseInt","valMaximo","valoresFueraDeOtrosRangos","valorMinimoNuevo","valorMaximoNuevo","x","copy","height","width","display","alignItems","justifyContent","borderBottom","fontSize","fontWeight","map","seccionUmbral","marginTop","rangoSeccionUmbral","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport sql from 'mssql';\nimport Slider from 'react-input-slider';\n\nvar colores = [\"primary\", \"brand\", \"secondary\", \"success\", \"danger\", \"warning\", \"info\", \"dark\"];\n\nexport default class CrearUmbral extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            titulo: 'Cargado Datos',\n            umbralSeleccionadoID: -1,\n            umbralNombreSeleccionado: '',\n            seccionesUmbral: [],\n            seccionUmbralSeleccionadoID: -1,\n            tituloSeccionUmbralNombreSeleccionado: '',\n            seccionUmbralNombreSeleccionado: '',\n            colorSeccionUmbralSeleccionado: '',\n            rangosSeccionUmbral: [],\n            valorRangoMaximoMinimoNuevo: 0,\n            valorRangoMaximoMaximoNuevo: 1,\n            valorRangoMaximo: 0,\n            valoresMinMaxSeccionesUmbral: [],\n            rangosCreados: [],\n            bandera: \"\"\n        }\n        this.traerUmbral = this.traerUmbral.bind(this);\n        this.crearUmbral = this.crearUmbral.bind(this);\n        this.traerSeccionesUmbral = this.traerSeccionesUmbral.bind(this);\n        this.agregarSeccionUmbral = this.agregarSeccionUmbral.bind(this);\n        this.modificarSeccionUmbral = this.modificarSeccionUmbral.bind(this);\n        this.seleccionSeccionUmbral = this.seleccionSeccionUmbral.bind(this);\n        this.retornoSeccionSeleccionUmbral = this.retornoSeccionSeleccionUmbral.bind(this);\n        this.traerRangosSeccionUmbral = this.traerRangosSeccionUmbral.bind(this);\n        this.agregarRangoSeccionUmbral = this.agregarRangoSeccionUmbral.bind(this);\n        this.updateValorRangoMinimoNuevo = this.updateValorRangoMinimoNuevo.bind(this);\n        this.updateValorRangoMaximoNuevo = this.updateValorRangoMaximoNuevo.bind(this);\n        this.updateValorRangoMinimoCreado = this.updateValorRangoMinimoCreado.bind(this);\n        this.updateValorRangoMaximoCreado = this.updateValorRangoMaximoCreado.bind(this);\n    }\n\n    componentDidMount() {\n        this.traerUmbral();\n    }\n\n    traerUmbral () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from Umbral where variableID = \"+this.props.idVariable+\" and tablaVariable = '\"+this.props.tablaVariable+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if(result.recordset.length > 0) {\n                            console.log('result.recordset');\n                            console.log(result.recordset);\n                            this.setState({\n                                umbralSeleccionadoID: result.recordset[0].ID,\n                                umbralNombreSeleccionado: 'Umbral '+this.props.tituloUmbral,\n                                titulo: this.props.tituloUmbral\n                            });\n                            this.traerSeccionesUmbral();\n                        } else {\n                            this.crearUmbral();\n                        }\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    crearUmbral () {\n        var nombre = $(\"#nombreUmbral\").val();\n        if(!isNaN(this.props.idVariable)) {\n            if(this.props.tablaVariable != undefined && this.props.tablaVariable.length > 0) {\n                const transaction = new sql.Transaction( this.props.pool );\n                transaction.begin(err => {\n                    var rolledBack = false;\n                    transaction.on('rollback', aborted => {\n                        rolledBack = true;\n                    });\n                    const request = new sql.Request(transaction);\n                    request.query(\"insert into Umbral (variableID, tablaVariable) values (\"+this.props.idVariable+\", '\"+this.props.tablaVariable+\"')\", (err, result) => {\n                        if (err) {\n                            console.log(err);\n                            if (!rolledBack) {\n                                transaction.rollback(err => {\n                                });\n                            }\n                        } else {\n                            transaction.commit(err => {\n                                console.log(\"Umbral creado.\");\n                                this.traerUmbral();\n                                //alert(\"Umbral Creado\");\n                            });\n                        }\n                    });\n                }); // fin transaction\n            } else {\n                alert(\"Ingrese un valor para el nombre de tabla de la variable.\");\n            }\n        } else {\n            alert(\"Ingrese un valor númerico para el ID de variable.\");\n        }\n    }\n\n    traerSeccionesUmbral () {\n        $('.demo').each(function() {\n            //\n            // Dear reader, it's actually very easy to initialize MiniColors. For example:\n            //\n            //  $(selector).minicolors();\n            //\n            // The way I've done it below is just for the demo, so don't get confused\n            // by it. Also, data- attributes aren't supported at this time...they're\n            // only used for this demo.\n            //\n            $(this).minicolors({\n                control: $(this).attr('data-control') || 'hue',\n                defaultValue: $(this).attr('data-defaultValue') || '',\n                format: $(this).attr('data-format') || 'hex',\n                keywords: $(this).attr('data-keywords') || '',\n                inline: $(this).attr('data-inline') === 'true',\n                letterCase: $(this).attr('data-letterCase') || 'lowercase',\n                opacity: $(this).attr('data-opacity'),\n                position: $(this).attr('data-position') || 'bottom left',\n                swatches: $(this).attr('data-swatches') ? $(this).attr('data-swatches').split('|') : [],\n                change: function(value, opacity) {\n                    if (!value) return;\n                    if (opacity) value += ', ' + opacity;\n                    if (typeof console === 'object') {\n                        //console.log(value);\n                    }\n                },\n                theme: 'bootstrap'\n            });\n\n        });\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from SeccionUmbral where umbralID = \"+this.state.umbralSeleccionadoID, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.setState({\n                            seccionesUmbral: result.recordset\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    agregarSeccionUmbral() {\n        var nombre = $(\"#nuevaSeccionUmbral\").val();\n        var color = $(\"#colorSeccionNuevo\").val();\n        var existeNombre = false;\n        for (var i = 0; i < this.state.seccionesUmbral.length; i++) {\n            if(this.state.seccionesUmbral[i].nombre.toLowerCase().localeCompare(nombre) == 0) {\n                existeNombre = true;\n                break;\n            }\n        };\n        if(!existeNombre) {\n            if(nombre.length > 0 && nombre.length < 101) {\n                if(color != undefined && color.length > 0 && color.length < 26) {\n                    const transaction = new sql.Transaction( this.props.pool );\n                    transaction.begin(err => {\n                        var rolledBack = false;\n                        transaction.on('rollback', aborted => {\n                            rolledBack = true;\n                        });\n                        const request = new sql.Request(transaction);\n                        request.query(\"insert into SeccionUmbral (umbralID, nombre, color) values (\"+this.state.umbralSeleccionadoID+\", '\"+nombre+\"', '\"+color+\"')\", (err, result) => {\n                            if (err) {\n                                console.log(err);\n                                if (!rolledBack) {\n                                    transaction.rollback(err => {\n                                    });\n                                }\n                            } else {\n                                transaction.commit(err => {\n                                    $(\"#nuevaSeccionUmbral\").val(\"\");\n                                    $('#colorSeccionNuevo').minicolors('value','#db913d');\n                                    this.traerSeccionesUmbral();\n                                });\n                            }\n                        });\n                    }); // fin transaction\n                } else {\n                    alert(\"Ingrese un valor para el color de la sección de umbral.\");\n                }\n            } else {\n                alert(\"Ingrese un valor para el nombre de la sección de umbral.\");\n            }\n        } else {\n            alert(\"El nombre de la sección debe ser único.\");\n        }\n    }\n\n    modificarSeccionUmbral() {\n        var nombre = $(\"#seccionUmbralSeleccionado\").val();\n        var color = $(\"#colorSeccionUmbralSeleccionado\").val();\n        var existeNombre = false;\n        for (var i = 0; i < this.state.seccionesUmbral.length; i++) {\n            if(this.state.seccionesUmbral[i].nombre.toLowerCase().localeCompare(nombre) == 0 && this.state.seccionUmbralSeleccionadoID != this.state.seccionesUmbral[i].ID) {\n                existeNombre = true;\n                break;\n            }\n        };\n        if(!existeNombre) {\n            if(nombre.length > 0 && nombre.length < 101) {\n                if(color != undefined && color.length > 0 && color.length < 26) {\n                    const transaction = new sql.Transaction( this.props.pool );\n                    transaction.begin(err => {\n                        var rolledBack = false;\n                        transaction.on('rollback', aborted => {\n                            rolledBack = true;\n                        });\n                        const request = new sql.Request(transaction);\n                        request.query(\"insert into SeccionUmbral (umbralID, nombre, color) values (\"+this.state.umbralSeleccionadoID+\", '\"+nombre+\"', '\"+color+\"')\", (err, result) => {\n                            if (err) {\n                                console.log(err);\n                                if (!rolledBack) {\n                                    transaction.rollback(err => {\n                                    });\n                                }\n                            } else {\n                                transaction.commit(err => {\n                                    alert(\"Sección modificada.\")\n                                });\n                            }\n                        });\n                    }); // fin transaction\n                } else {\n                    alert(\"Ingrese un valor para el color de la sección de umbral.\");\n                }\n            } else {\n                alert(\"Ingrese un valor para el nombre de la sección de umbral.\");\n            }\n        } else {\n            alert(\"El nombre de la sección debe ser único.\");\n        }\n    }\n\n    seleccionSeccionUmbral (index) {\n        this.setState({\n            seccionUmbralSeleccionadoID: this.state.seccionesUmbral[index].ID,\n            tituloSeccionUmbralNombreSeleccionado: 'Sección Umbral: '+this.state.seccionesUmbral[index].nombre,\n            seccionUmbralNombreSeleccionado: this.state.seccionesUmbral[index].nombre,\n            colorSeccionUmbralSeleccionado: this.state.seccionesUmbral[index].color\n        }, this.traerRangosSeccionUmbral );\n        $(\"#seccionUmbralSeleccionado\").val(this.state.seccionesUmbral[index].nombre);\n    }\n\n    retornoSeccionSeleccionUmbral () {\n        this.setState({\n            seccionUmbralSeleccionadoID: -1,\n            tituloSeccionUmbralNombreSeleccionado: \"\",\n            seccionUmbralNombreSeleccionado: \"\",\n            colorSeccionUmbralSeleccionado: \"\"\n        });\n    }\n\n    traerRangosSeccionUmbral () {\n        /*CARGANDO COLOR DE RANGO*/\n        $('.demo').each(function() {\n            $(this).minicolors({\n                control: $(this).attr('data-control') || 'hue',\n                defaultValue: $(this).attr('data-defaultValue') || '',\n                format: $(this).attr('data-format') || 'hex',\n                keywords: $(this).attr('data-keywords') || '',\n                inline: $(this).attr('data-inline') === 'true',\n                letterCase: $(this).attr('data-letterCase') || 'lowercase',\n                opacity: $(this).attr('data-opacity'),\n                position: $(this).attr('data-position') || 'bottom left',\n                swatches: $(this).attr('data-swatches') ? $(this).attr('data-swatches').split('|') : [],\n                change: function(value, opacity) {\n                    if (!value) return;\n                    if (opacity) value += ', ' + opacity;\n                    if (typeof console === 'object') {\n                        //console.log(value);\n                    }\n                },\n                theme: 'bootstrap'\n            });\n\n        });\n        $('#colorSeccionUmbralSeleccionado').minicolors('value',this.state.colorSeccionUmbralSeleccionado);\n\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from RangoSeccionUmbral where seccionUmbralID = \"+this.state.seccionUmbralSeleccionadoID, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        result.recordset.sort(function(a, b){\n                            return a.valorMinimo-b.valorMinimo\n                        });\n                        /*preparando valores minimo y maximo de nuevo rango*/\n                        var valorMinimo = 0, valorMaximo = 0, valorMaximoEsValorMedio = false;\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            if(valorMinimo == result.recordset[i].valorMinimo) {\n                                valorMinimo = result.recordset[i].valorMaximo+1;\n                                if(i+1 < result.recordset.length && valorMinimo != result.recordset[i+1].valorMinimo) {\n                                    valorMaximo = result.recordset[i+1].valorMinimo-1;\n                                    valorMaximoEsValorMedio = true;\n                                } else {\n                                    valorMaximoEsValorMedio = false;\n                                }\n                            }\n                        };\n                        if(!valorMaximoEsValorMedio)\n                            valorMaximo = valorMinimo + 100;\n                        var rangosCreados = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            rangosCreados.push({\n                                valorRangoMaximoMinimoNuevo: result.recordset[i].valorMinimo,\n                                valorRangoMaximoMaximoNuevo: result.recordset[i].valorMaximo+100,\n                                valorRangoMaximo: result.recordset[i].valorMaximo,\n                                color: result.recordset[i].color\n                            });\n                        };\n                        console.log('rangosCreados')\n                        console.log(rangosCreados)\n                        this.setState({\n                            rangosSeccionUmbral: result.recordset,\n                            valorRangoMaximoMinimoNuevo: valorMinimo,\n                            valorRangoMaximoMaximoNuevo: valorMaximo,\n                            rangosCreados: rangosCreados\n                        }, this.inicializarColores );\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    inicializarColores () {\n        for (var i = 0; i < this.state.rangosCreados.length; i++) {\n            $('#colorSeccionUmbralSeleccionado'+i).minicolors('value',this.state.rangosCreados[i].color);\n        };\n    }\n\n    agregarRangoSeccionUmbral() {\n        var valMinimo = parseInt($(\"#nuevoRangoValorMinimo\").val());\n        var valMaximo = this.state.valorRangoMaximo;\n        var valoresFueraDeOtrosRangos = true;\n        for (var i = 0; i < this.state.rangosSeccionUmbral.length; i++) {\n            if(valMinimo >= this.state.rangosSeccionUmbral[i].valorMinimo && valMinimo <= this.state.rangosSeccionUmbral[i].valorMaximo) {\n                valoresFueraDeOtrosRangos = false;\n            }\n            if(valMaximo >= this.state.rangosSeccionUmbral[i].valorMinimo && valMinimo <= this.state.rangosSeccionUmbral[i].valorMaximo) {\n                valoresFueraDeOtrosRangos = false;\n            }\n        };\n        if(valoresFueraDeOtrosRangos) {\n            if(!isNaN(valMinimo)) {\n                if(!isNaN(valMaximo)) {\n                    const transaction = new sql.Transaction( this.props.pool );\n                    transaction.begin(err => {\n                        var rolledBack = false;\n                        transaction.on('rollback', aborted => {\n                            rolledBack = true;\n                        });\n                        const request = new sql.Request(transaction);\n                        request.query(\"insert into RangoSeccionUmbral (umbralID, seccionUmbralID, valorMinimo, valorMaximo) values (\"+this.state.umbralSeleccionadoID+\", \"+this.state.seccionUmbralSeleccionadoID+\", \"+valMinimo+\", \"+valMaximo+\")\", (err, result) => {\n                            if (err) {\n                                console.log(err);\n                                if (!rolledBack) {\n                                    transaction.rollback(err => {\n                                    });\n                                }\n                            } else {\n                                transaction.commit(err => {\n                                    this.traerRangosSeccionUmbral();\n                                });\n                            }\n                        });\n                    }); // fin transaction\n                } else {\n                    alert(\"Ingrese un número válido para el valor máximo.\");\n                }\n            } else {\n                alert(\"Ingrese un número válido para el valor mínimo.\");\n            }\n        } else {\n            alert(\"Los valores ingresados traspasan otros rangos.\");\n        }\n    }\n\n    updateValorRangoMinimoNuevo () {\n        var valorMinimoNuevo = parseInt($(\"#nuevoRangoValorMinimo\").val());\n        this.setState({\n            valorRangoMaximoMinimoNuevo: valorMinimoNuevo+1,\n            valorRangoMaximo: valorMinimoNuevo+1\n        })\n    }\n\n    updateValorRangoMaximoNuevo () {\n        var valorMaximoNuevo;\n        if(this.state.valorRangoMaximo == 0) {\n            valorMaximoNuevo = 100;\n        } else if(this.state.valorRangoMaximo >= this.state.valorRangoMaximoMaximoNuevo-(this.state.valorRangoMaximoMaximoNuevo*0.1)) {\n            valorMaximoNuevo = (this.state.valorRangoMaximoMaximoNuevo*0.5)+this.state.valorRangoMaximoMaximoNuevo;\n            this.setState({\n                valorRangoMaximoMaximoNuevo: valorMaximoNuevo\n            });\n        }\n    }\n\n    updateValorRangoMinimoCreado (index) {\n        var valorMinimoNuevo = parseInt($(\"#nuevoRangoValorMinimo\"+index).val());\n        /*this.setState({\n            valorRangoMaximoMinimoNuevo: valorMinimoNuevo+1,\n            valorRangoMaximo: valorMinimoNuevo+1\n        });*/\n    }\n\n    updateValorRangoMaximoCreado (index, x) {\n        var copy = [...this.state.rangosCreados];\n        copy[index].valorRangoMaximo = x;\n        var valorMaximoNuevo;\n        if(this.state.valorRangoMaximo == 0) {\n            valorMaximoNuevo = 100;\n        } else if(this.state.valorRangoMaximo >= copy[index].valorRangoMaximoMaximoNuevo-(copy[index].valorRangoMaximoMaximoNuevo*0.1)) {\n            valorMaximoNuevo = (copy[index].valorRangoMaximoMaximoNuevo*0.5)+copy[index].valorRangoMaximoMaximoNuevo;\n            copy[index].valorRangoMaximoMaximoNuevo = valorMaximoNuevo;\n            this.setState({\n                rangosCreados: copy\n            });\n        }\n    }\n    \n    render() {\n        if(this.state.umbralSeleccionadoID == -1) {\n            return (\n                <div>\n                    <div className={\"row\"}>\n                        <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                            <div className={\"card influencer-profile-data\"}>\n                                <div className={\"card-body\"}>\n                                    <div className={\"row\"} style={{height: \"2em\",width: \"100%\"}}>\n                                        <div className={\"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 font-18\"} style={{height: \"100%\",width: \"100%\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", borderBottom: \"1px solid #e6e6f2\"}}>\n                                            {this.state.titulo}\n                                        </div>\n                                    </div>\n                                    <br/>\n                                 </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            );\n        } else if(this.state.umbralSeleccionadoID != -1 && this.state.seccionUmbralSeleccionadoID == -1) {\n            return (\n                <div>\n                    <div className={\"row\"}>\n                        <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                            <div className={\"card influencer-profile-data\"}>\n                                <div className={\"card-body\"}>\n                                    <div className={\"row\"} style={{height: \"2em\",width: \"100%\"}}>\n                                        <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 font-18\"} style={{height: \"100%\",width: \"100%\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", borderBottom: \"1px solid #e6e6f2\"}}>\n                                            {this.state.titulo}\n                                        </div>\n                                    </div>\n                                    <br/>\n                                    <div className={\"row\"}>\n                                        <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                                            <div style={{width: \"100%\", height: \"100%\"}}>\n                                                <div className={\"row\"}>\n                                                    <div className={\"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 form-group\"}>\n                                                    </div>\n                                                    <div className={\"col-xl-10 col-lg-10 col-md-10 col-sm-10 col-10 form-group\"}>\n                                                        <h2>{this.state.umbralNombreSeleccionado}</h2>\n                                                    </div>\n                                                </div>\n                                                <hr/>\n                                                <div className={\"row\"}>\n                                                    <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                                        <label htmlFor=\"nuevaSeccionUmbral\" className=\"col-form-label\">Nombre Nueva Sección de Umbral:</label>\n                                                    </div>\n                                                    <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                                                        <input id=\"nuevaSeccionUmbral\" type=\"text\" className=\"form-control form-control-sm\"/>\n                                                    </div>\n                                                </div>\n                                                <div className={\"row\"}>\n                                                    <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                                        <label htmlFor=\"colorSeccionNuevo\" className=\"col-form-label\">Color de la Sección de Umbral:</label>\n                                                    </div>\n                                                    <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                                                        <div className=\"form-group\">\n                                                            <input type=\"hidden\" id=\"colorSeccionNuevo\" className=\"demo\" value=\"#db913d\"/>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div className={\"text-center\"}>\n                                                    <a onClick={this.agregarSeccionUmbral} className={\"btn btn-primary col-xs-6 col-6\"} style={{color: \"white\", fontSize: \"1.2em\", fontWeight: \"bold\"}}>Agregar Sección de Umbral</a>\n                                                </div>\n                                                <br/>\n                                                {this.state.seccionesUmbral.map((seccionUmbral, i) => (\n                                                    <div key={seccionUmbral.ID} className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                                                        <a href=\"#\" onClick={() => this.seleccionSeccionUmbral(i)} className={\"btn btn-outline-\"+ ( colores[i]!= undefined ? colores[i] : colores[i%colores.length]) } style={{width: \"100%\"}}>{seccionUmbral.nombre}</a>\n                                                    </div>\n                                                ))}\n                                            </div>\n                                        </div>\n                                    </div>\n                                 </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            );\n        } else if(this.state.umbralSeleccionadoID != -1 && this.state.seccionUmbralSeleccionadoID != -1) {\n            return (\n                <div>\n                    <div className={\"row\"}>\n                        <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                            <div className={\"card influencer-profile-data\"}>\n                                <div className={\"card-body\"}>\n                                    <div className={\"row\"} style={{height: \"2em\",width: \"100%\"}}>\n                                        <div className={\"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 font-18\"} style={{height: \"100%\",width: \"100%\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", borderBottom: \"1px solid #e6e6f2\"}}>\n                                            {this.state.titulo}\n                                        </div>\n                                    </div>\n                                    <br/>\n                                    <div className={\"row\"}>\n                                        <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                                            <div style={{width: \"100%\", height: \"100%\"}}>\n                                                <div className={\"row\"}>\n                                                    <div onClick={() => this.retornoSeccionSeleccionUmbral()} className={\"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2 form-group addPointer border\"}>\n                                                        <label className=\"font-24 addPointer\"> {\"<\"} </label>\n                                                    </div>\n                                                    <div className={\"col-xl-10 col-lg-10 col-md-10 col-sm-10 col-10 form-group\"}>\n                                                        <h2>{this.state.tituloSeccionUmbralNombreSeleccionado}</h2>\n                                                    </div>\n                                                </div>\n                                                <hr/>\n                                                <div className={\"row\"}>\n                                                    <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                                        <label htmlFor=\"seccionUmbralSeleccionado\" className=\"col-form-label\">Nombre Sección de Umbral:</label>\n                                                    </div>\n                                                    <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                                                        <input id=\"seccionUmbralSeleccionado\" defaultValue={this.state.seccionUmbralNombreSeleccionado} type=\"text\" className=\"form-control form-control-sm\"/>\n                                                    </div>\n                                                </div>\n                                                <div className={\"row\"}>\n                                                    <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                                        <label htmlFor=\"colorSeccionUmbralSeleccionado\" className=\"col-form-label\">Color de la Sección de Umbral:</label>\n                                                    </div>\n                                                    <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                                                        <div className=\"form-group\">\n                                                            <input type=\"hidden\" id=\"colorSeccionUmbralSeleccionado\" className=\"demo\" value=\"#db913d\"/>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div className={\"text-center\"}>\n                                                    <a onClick={this.modificarSeccionUmbral} className={\"btn btn-primary col-xs-6 col-6\"} style={{color: \"white\", fontSize: \"1.2em\", fontWeight: \"bold\"}}>Modificar Sección de Umbral</a>\n                                                </div>\n                                                <hr/>\n                                                <div className={\"row\"}>\n                                                    <div className={\"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 form-group text-center\"}>\n                                                        <label htmlFor=\"nuevoRangoValorMinimo\" className=\"col-form-label\">Valor mínimo:</label>\n                                                    </div>\n                                                    <div className={\"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 form-group text-center\"}>\n                                                        <label htmlFor=\"nuevoRangoValorMaximo\" className=\"col-form-label\">Valor máximo:</label>\n                                                    </div>\n                                                </div>\n                                                <div className={\"row\"}>\n                                                    <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                                        <input id=\"nuevoRangoValorMinimo\" name=\"dias\" step=\"1\" min=\"0\" type=\"number\" defaultValue=\"0\" onChange={this.updateValorRangoMinimoNuevo}/>\n                                                    </div>\n                                                    <div className={\"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-8 form-group\"}>\n                                                        <Slider\n                                                            axis=\"x\"\n                                                            xstep={1}\n                                                            xmin={this.state.valorRangoMaximoMinimoNuevo}\n                                                            xmax={this.state.valorRangoMaximoMaximoNuevo}\n                                                            x={this.state.valorRangoMaximo}\n                                                            onChange={ ({ x }) => this.setState({valorRangoMaximo: x}, this.updateValorRangoMaximoNuevo) }\n                                                            style={{width: \"100%\", marginTop: \"10px\"}}/>\n                                                    </div>\n                                                    <div className={\"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 form-group\"}>\n                                                        <label id=\"nuevoRangoValorMaximo\" className=\"col-form-label\">{this.state.valorRangoMaximo}</label>\n                                                    </div>\n                                                </div>\n                                                <div className={\"text-center\"}>\n                                                    <a onClick={this.agregarRangoSeccionUmbral} className={\"btn btn-brand col-xs-6 col-6\"} style={{color: \"white\", fontSize: \"1.2em\", fontWeight: \"bold\"}}>Agregar Rango de Sección de Umbral</a>\n                                                </div>\n                                                {this.state.rangosSeccionUmbral.map((rangoSeccionUmbral, i) => (\n                                                    <div key={rangoSeccionUmbral.ID}>\n                                                        <hr/>\n                                                        <div className={\"row\"}>\n                                                            <div className={\"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 form-group text-center\"}>\n                                                                <label htmlFor={\"rangoValorMinimo\"+i} className=\"col-form-label\">Valor Mínimo Nuevo:</label>\n                                                            </div>\n                                                            <div className={\"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 form-group text-center\"}>\n                                                                <label htmlFor={\"rangoValorMaximo\"+i} className=\"col-form-label\">Valor Máximo Nuevo:</label>\n                                                            </div>\n                                                        </div>\n                                                        <div className={\"row\"}>\n                                                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-4 col-3 form-group\"}>\n                                                                <input id={\"rangoValorMinimo\"+i} type=\"text\" className=\"form-control form-control-sm\" defaultValue={rangoSeccionUmbral.valorMinimo}/>\n                                                            </div>\n                                                            <div className={\"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-8 form-group\"}>\n                                                                <Slider\n                                                                    axis=\"x\"\n                                                                    xstep={1}\n                                                                    xmin={this.state.rangosCreados[i].valorRangoMaximoMinimoNuevo}\n                                                                    xmax={this.state.rangosCreados[i].valorRangoMaximoMaximoNuevo}\n                                                                    x={this.state.rangosCreados[i].valorRangoMaximo}\n                                                                    onChange={ ({ x }) => this.setState({bandera: \"\"}, this.updateValorRangoMaximoCreado(i, x) ) }\n                                                                    style={{width: \"100%\", marginTop: \"10px\"}}/>\n                                                            </div>\n                                                            <div className={\"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 form-group\"}>\n                                                                <label id={\"rangoValorMaximo\"+i} className=\"col-form-label\">{this.state.rangosCreados[i].valorRangoMaximo}</label>\n                                                            </div>\n                                                        </div>\n                                                        <div className={\"row\"}>\n                                                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                                                <label htmlFor={\"colorSeccionUmbralSeleccionado\"+i} className=\"col-form-label\">Color de la Sección de Umbral:</label>\n                                                            </div>\n                                                            <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                                                                <div className=\"form-group\">\n                                                                    <input type=\"hidden\" id={\"colorSeccionUmbralSeleccionado\"+i} className=\"demo\" value=\"#db913d\"/>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                        <div className={\"text-center\"}>\n                                                            <a onClick={this.modificarSeccionUmbral} className={\"btn btn-success col-xs-6 col-6\"} style={{color: \"white\", fontSize: \"1.2em\", fontWeight: \"bold\"}}>Modificar Rango de Sección de Umbral</a>\n                                                        </div>\n                                                    </div>\n                                                ))}\n                                            </div>\n                                        </div>\n                                    </div>\n                                 </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n    }\n}\n"],"file":"EditarUmbral.js"}