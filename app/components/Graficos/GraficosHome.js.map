{"version":3,"sources":["components/Graficos/GraficosHome.js"],"names":["GraficosHome","props","state","componenteActual","variables","camposDeVariables","indicadores","camposDeIndicadores","riesgos","camposDeRiesgos","seccionesGraficos","retornarCrearGrafico","bind","verGrafico","getResultsVariables","getResultsVariablesFieldsInit","getFieldAttributes","getFieldResults","getResultsIndicators","getResultsIndicatorsFieldsInit","getFieldAttributesIndicators","getFieldResultsIndicators","getResultsRisks","getResultsRisksFieldsInit","getFieldAttributesRisks","getFieldResultsRisks","setState","secciones","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","result","console","log","rollback","commit","recordset","resultados","arregloTemp","arregloTempCampos","i","length","valor","nombreVariable","esVariable","esIndicador","esRiesgo","push","resultado","index","array","inicioVigencia","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","arrTemp","nombre","COLUMN_NAME","tipo","DATA_TYPE","atributos","nombreIndicador","nombreRiesgo","localeCompare","terminoCrearFuenteDatosPasarAEdit","terminoCrearDashboardPasarAEdit","retornarSeleccionDashboards","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport sql from 'mssql';\n\nimport CrearGrafico from './CrearGrafico.js';\nimport VerGrafico from './VerGrafico.js';\n\nexport default class GraficosHome extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            componenteActual: \"crearGrafico\",\n            variables: [],\n            camposDeVariables: [],\n            indicadores: [],\n            camposDeIndicadores: [],\n            riesgos: [],\n            camposDeRiesgos: [],\n            seccionesGraficos: null\n        }\n        this.retornarCrearGrafico = this.retornarCrearGrafico.bind(this);\n\n        this.verGrafico = this.verGrafico.bind(this);\n\n        this.getResultsVariables = this.getResultsVariables.bind(this);\n        this.getResultsVariablesFieldsInit = this.getResultsVariablesFieldsInit.bind(this);\n        this.getFieldAttributes = this.getFieldAttributes.bind(this);\n        this.getFieldResults = this.getFieldResults.bind(this);\n\n        this.getResultsIndicators = this.getResultsIndicators.bind(this);\n        this.getResultsIndicatorsFieldsInit = this.getResultsIndicatorsFieldsInit.bind(this);\n        this.getFieldAttributesIndicators = this.getFieldAttributesIndicators.bind(this);\n        this.getFieldResultsIndicators = this.getFieldResultsIndicators.bind(this);\n\n        this.getResultsRisks = this.getResultsRisks.bind(this);\n        this.getResultsRisksFieldsInit = this.getResultsRisksFieldsInit.bind(this);\n        this.getFieldAttributesRisks = this.getFieldAttributesRisks.bind(this);\n        this.getFieldResultsRisks = this.getFieldResultsRisks.bind(this);\n    }\n\n    componentDidMount () {\n        this.getResultsVariables();\n        this.getResultsIndicators();\n        this.getResultsRisks();\n    }\n\n    retornarCrearGrafico () {\n        this.setState({\n            componenteActual: \"crearGrafico\"\n        });\n    }\n\n    verGrafico (secciones) {\n        this.setState({\n            seccionesGraficos: secciones,\n            componenteActual: \"verGrafico\"\n        });\n    }\n\n    /////////////////////////////////////////////////////////\n\n    getResultsVariables () {\n        //OBTENER LA LISTA DE POSIBLES VARIABLES A VISUALIZAR\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ResultadosNombreVariables\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                        return [];\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.getResultsVariablesFieldsInit(result.recordset);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsVariablesFieldsInit (resultados) {\n        var arregloTemp = [], arregloTempCampos = [];\n        for (var i = 0; i < resultados.length; i++) {\n            resultados[i].valor = resultados[i].nombreVariable;\n            resultados[i].esVariable = true;\n            resultados[i].esIndicador = false;\n            resultados[i].esRiesgo = false;\n            arregloTemp.push(resultados[i]);\n            this.getFieldAttributes(resultados[i], i, arregloTemp, arregloTempCampos);\n            this.getFieldResults(resultados[i], i, arregloTemp);\n        };\n    }\n\n    getFieldAttributes(resultado, index, array, arregloTempCampos) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = '\"+resultado.nombreVariable+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds()+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var arrTemp = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            arrTemp.push({nombre: result.recordset[i].COLUMN_NAME, valor: result.recordset[i].COLUMN_NAME, tipo: result.recordset[i].DATA_TYPE, esVariable: true, esIndicador: false, esRiesgo: false, nombreVariable: resultado.nombreVariable});\n                        };\n                        array[index].atributos = arrTemp;\n                        arregloTempCampos[index] = arrTemp;\n                        this.setState({\n                            variables: array,\n                            camposDeVariables: arregloTempCampos\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getFieldResults(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from \"+resultado.nombreVariable+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds(), (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        array[index].resultados = result.recordset;\n                        this.setState({\n                            variables: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsIndicators () {\n        //OBTENER LA LISTA DE POSIBLES VARIABLES A VISUALIZAR\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ResultadosNombreIndicadores\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                        return [];\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.getResultsIndicatorsFieldsInit(result.recordset);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsIndicatorsFieldsInit (resultados) {\n        var arregloTemp = [], arregloTempCampos = [];\n        for (var i = 0; i < resultados.length; i++) {\n            resultados[i].valor = resultados[i].nombreIndicador;\n            resultados[i].esVariable = false;\n            resultados[i].esIndicador = true;\n            resultados[i].esRiesgo = false;\n            arregloTemp.push(resultados[i]);\n            this.getFieldAttributesIndicators(resultados[i], i, arregloTemp, arregloTempCampos);\n            this.getFieldResultsIndicators(resultados[i], i, arregloTemp);\n        };\n    }\n\n    getFieldAttributesIndicators(resultado, index, array, arregloTempCampos) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = '\"+resultado.nombreIndicador+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds()+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var arrTemp = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            arrTemp.push({nombre: result.recordset[i].COLUMN_NAME, valor: result.recordset[i].COLUMN_NAME, tipo: result.recordset[i].DATA_TYPE, esVariable: false, esIndicador: true, esRiesgo: false, nombreIndicador: resultado.nombreIndicador});\n                        };\n                        array[index].atributos = arrTemp;\n                        arregloTempCampos[index] = arrTemp;\n                        this.setState({\n                            indicadores: array,\n                            camposDeIndicadores: arregloTempCampos\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getFieldResultsIndicators(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from \"+resultado.nombreIndicador+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds(), (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        array[index].resultados = result.recordset;\n                        this.setState({\n                            indicadores: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsRisks () {\n        //OBTENER LA LISTA DE POSIBLES VARIABLES A VISUALIZAR\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ResultadosNombreRiesgos\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                        return [];\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.getResultsRisksFieldsInit(result.recordset);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsRisksFieldsInit (resultados) {\n        var arregloTemp = [], arregloTempCampos = [];\n        for (var i = 0; i < resultados.length; i++) {\n            resultados[i].valor = resultados[i].nombreRiesgo;\n            resultados[i].esVariable = false;\n            resultados[i].esIndicador = false;\n            resultados[i].esRiesgo = true;\n            arregloTemp.push(resultados[i]);\n            this.getFieldAttributesRisks(resultados[i], i, arregloTemp, arregloTempCampos);\n            this.getFieldResultsRisks(resultados[i], i, arregloTemp);\n        };\n    }\n\n    getFieldAttributesRisks(resultado, index, array, arregloTempCampos) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = '\"+resultado.nombreRiesgo+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds()+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var arrTemp = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            arrTemp.push({nombre: result.recordset[i].COLUMN_NAME, valor: result.recordset[i].COLUMN_NAME, tipo: result.recordset[i].DATA_TYPE, esVariable: false, esIndicador: false, esRiesgo: true, nombreRiesgo: resultado.nombreRiesgo});\n                        };\n                        array[index].atributos = arrTemp;\n                        arregloTempCampos[index] = arrTemp;\n                        this.setState({\n                            riesgos: array,\n                            camposDeRiesgos: arregloTempCampos\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getFieldResultsRisks(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from \"+resultado.nombreRiesgo+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds(), (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        array[index].resultados = result.recordset;\n                        this.setState({\n                            riesgos: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    render() {\n        if(this.state.componenteActual.localeCompare(\"crearGrafico\") == 0) {\n            return (\n                <div>\n                    <CrearGrafico pool={this.props.pool}\n                                            verGrafico={this.verGrafico}\n                                            terminoCrearCampo={this.terminoCrearFuenteDatosPasarAEdit}\n                                            variables={this.state.variables}\n                                            camposDeVariables={this.state.camposDeVariables}\n                                            indicadores={this.state.indicadores}\n                                            camposDeIndicadores={this.state.camposDeIndicadores}\n                                            riesgos={this.state.riesgos}\n                                            camposDeRiesgos={this.state.camposDeRiesgos}\n                                            terminoCrearDashboardPasarAEdit={this.terminoCrearDashboardPasarAEdit}>\n                    </CrearGrafico>\n                </div>\n            );\n        } else if(this.state.componenteActual.localeCompare(\"verGrafico\") == 0) {\n            return (\n                <div>\n                    <VerGrafico pool={this.props.pool}\n                                    retornarSeleccionDashboards={this.retornarSeleccionDashboards}\n                                    variables={this.state.variables}\n                                    indicadores={this.state.indicadores}\n                                    riesgos={this.state.riesgos}\n                                    seccionesGraficos={this.state.seccionesGraficos}>\n                    </VerGrafico>\n                </div>\n            );\n        }\n    }\n}\n"],"file":"GraficosHome.js"}