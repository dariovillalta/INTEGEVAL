{"version":3,"sources":["components/Formula.js"],"names":["operaciones","operacionesNumero","valor","tipo","operacionesNumeroMasDeUnValor","operacionesFecha","operacionesBoolean","operacionesCadena","operacionesCadenaMasDeUnValor","variablesEscalares","objetos","camposDeObjetos","anchuraSeccionFormula","tablasOriginales","camposTablasOriginales","variablesEscalaresOriginales","variablesOriginales","camposVariablesOriginales","excelOriginales","camposExcelOriginales","formasOriginales","variablesOriginalesSQL","camposVariablesOriginalesSQL","variableSeleccionada","operacionSeleccionada","posicionDeIndicadorSeleccionadoEnFormula","posicionIndicador","posicionIndicadorAgregarEnFormula","operacionGuardarFormula","formulaGuardarFormula","seleccionValidaVarDivision","identificadorIndicador","seleccionManual","banderaCargaVariablesINICIO","banderaCargaVariablesFIN","objetoFormulaParaSacarID","Formula","props","state","formula","tablas","camposTablas","variables","camposVariables","excel","camposDeExcel","formas","variablesSQL","camposVariablesSQL","clickEnFormula","bind","retornoSeleccionCampo","retornoSeleccionOperacion","existeReglaAsignacion","retornarCodigoOperacion","exitseCodigoOperacion","agregarAFormula","verificarSeleccionoTodosDivision","crearArregloDeFormula","crearObjetosDeArregloDeFormula","encontrarCierreParentesis","esOperacionAritmetica","esOperacionCompleja","getPalabraFormula","esVariable","agregarFormulaAnchuraYAltura","findVariableInFormula","clearSelectsInFormulaIndicadores","clearSelectsInFormulaVariables","findSelectedIndicador","getSelectedVariables","getFormulaAndOperationText","iniciarGuardarFormula","guardarVariable","actualizarEstadoInputManual","keyupEstadoInputManual","isValidDate","loadTablas","initLoadTablasCampos","loadTablasCampos","loadScalarVariables","loadScalarVariablesFields","loadVariables","initLoadVariablesCampos","loadVariablesCampos","loadVariablesSQL","initLoadVariablesCamposSQL","loadVariablesCamposSQL","loadExcel","initLoadExcelCampos","loadExcelCampos","loadFormas","esEditarVar","arreglo","variable","posicionEnArreglo","index","i","length","Array","isArray","toString","localeCompare","posicion","$","removeClass","addClass","activa","undefined","hasClass","arregloVarSeleccionadas","push","e","nombre","copyTemp","setState","temp","tempVar","eval","esOperacion","posicionTabla","columnaSeleccionada","jQuery","extend","tipoVariable","nivelRegla","nivel","actualizarNivelNuevaRegla","operacion","retornoOperacion","codigo","val","isNaN","parseFloat","esFuenteDato","esObjeto","esInstruccionSQL","esValorManual","tipoOriginal","retornoCampo","formulaTemp","texto","varAInsertar","concat","arregloConexionesTemp","arregloCamposConexionesTemp","ID","tablaID","j","arregloVariablesTemp","arregloCamposVariablesTemp","variableID","arregloVariablesSQLTemp","arregloCamposVariablesSQLTemp","ultimoIndice1","substring","lastIndexOf","ultimoIndice2","parseInt","indiceVarAEliminar1","indiceVarAEliminar2","indiceVarAEliminarAnterior1","indiceVarAEliminarAnterior2","variableAEliminar","variableAntesEliminar","copyFormula","self","setTimeout","console","log","showMessage","posicionArreglo","ultimoIndice","noHaLeidoUltimoIndice","charAt","indicadorSeleccionado","split","pos1","pos2","esUltimoIndice","indicesVarSeleccionadas","arregloVarSeleccionadasPorIndicesInicial","posInicial","existe","posInicialComparacion","elMasCorto","seleccionVariablesContinuas","a","variableAEvaluar","variableDeComparacion","indiceOriginal","seleccionVarEnNumerador","esAntesDenominador","copiaAntiguaVariable","arregloAInsertarNuevo","indIzquierdo","width","height","signoDivision","division","indDerecho","posicionAInsertarNuevaDivsion","divisionAInsertar","nuevoArregloFormula","formulaSeleccionadaEdit","arregloRef","esArregloOrig","esArreglo","posIndex","cierreParentesis","objeto","esOperacionSQL","operacionSQL","count","contadorPar","caracter","posicionCaracter","palabra","arregloFormula","esIndiceCero","contadorIndicadoresNumerador","contadorIndicadoresDenominador","contadorSignosNumerador","contadorSignosDenominador","contadorVariablesNumerador","contadorVariablesDenominador","esDespuesDivision","widthNumerador","restaTotalIndicadoresNumerador","restaTotalSignosNumerador","widthDenominador","restaTotalIndicadoresDenominador","restaTotalSignosDenominador","esDespuesDivisionWidth","esNivelRaiz","excelVariableID","formaVariableID","variableCampoID","excelArchivoID","objetoFormula","numeroDeFormulaDeVariable","anadirFormula","modificarFormula","showSuccesMessage","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","tablaVarEditar","idVarEditar","result","rollback","commit","seleccion","Date","fecha","Object","prototype","call","getTime","recordset","arregloTemp","tabla","nombreTabla","array","nombreColumnas","COLUMN_NAME","DATA_TYPE","merge","navbar","display","alignItems","justifyContent","backgroundColor","color","overflowWrap","wordWrap","whiteSpace","borderRight","borderTop","borderBottom","padding","overflowY","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport sql from 'mssql';\n\nimport Equacion from './Equacion.js';\nimport ListasSeleVariableContenedorVariable from './ListasSeleVariableContenedorVariable.js';\nimport ListasSeleVariableContenedorOperador from './ListasSeleVariableContenedorOperador.js';\n\n//const campos = [{valor: \"idCLiente\", tipo: \"variable\"}, {valor: \"saldoTotal\", tipo: \"variable\"}, {valor: \"tipoPersona\", tipo: \"variable\"}, {valor: \"impuestosTotal\", tipo: \"variable\"}, {valor: \"nombreCliente\", tipo: \"variable\"}, {valor: \"diasMora\", tipo: \"variable\"}, {valor: \"mesMora\", tipo: \"variable\"}];\n//var tablas = [], camposTablas = [];\nconst operaciones = [];\n//const operaciones = [{valor: \"Asignar\", tipo: \"signo\"}, {valor: \"Contar\", tipo: \"signo\"}];\nconst operacionesNumero = [{valor: \"Contar\", tipo: \"signo\"}, {valor: \"Calcular Promedio\", tipo: \"signo\"}, {valor: \"Máximo\", tipo: \"signo\"}, {valor: \"Mínimo\", tipo: \"signo\"}, {valor: \"Autosumar\", tipo: \"signo\"}];\nconst operacionesNumeroMasDeUnValor = [{valor: \"+\", tipo: \"signo\"}, {valor: \"-\", tipo: \"signo\"}, {valor: \"*\", tipo: \"signo\"}, {valor: \"/\", tipo: \"signo\"}];\nconst operacionesFecha = [{valor: \"Contar\", tipo: \"signo\"}, {valor: \"Máximo\", tipo: \"signo\"}, {valor: \"Mínimo\", tipo: \"signo\"}, {valor: \"Día\", tipo: \"signo\"}, {valor: \"Mes\", tipo: \"signo\"}, {valor: \"Año\", tipo: \"signo\"}];\nconst operacionesBoolean = [{valor: \"Contar\", tipo: \"signo\"}];\nconst operacionesCadena = [{valor: \"Contar\", tipo: \"signo\"}];\nconst operacionesCadenaMasDeUnValor = [{valor: \"+\", tipo: \"signo\"}];\n/*const operaciones = [{valor: \"Asignar Valor Único\", tipo: \"signo\"}, {valor: \"Asignar Valor Único Si\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples Si\", tipo: \"signo\"}, {valor: \"Contar\", tipo: \"signo\"}, {valor: \"Contar Si\", tipo: \"signo\"}];\nconst operacionesNumero = [{valor: \"Asignar Valor Único\", tipo: \"signo\"}, {valor: \"Asignar Valor Único Si\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples Si\", tipo: \"signo\"}, {valor: \"Contar\", tipo: \"signo\"}, {valor: \"Contar Si\", tipo: \"signo\"}, {valor: \"Calcular Promedio\", tipo: \"signo\"}, {valor: \"Máximo\", tipo: \"signo\"}, {valor: \"Mínimo\", tipo: \"signo\"}, {valor: \"+\", tipo: \"signo\"}, {valor: \"-\", tipo: \"signo\"}, {valor: \"*\", tipo: \"signo\"}, {valor: \"/\", tipo: \"signo\"}];\nconst operacionesFecha = [{valor: \"Asignar Valor Único\", tipo: \"signo\"}, {valor: \"Asignar Valor Único Si\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples Si\", tipo: \"signo\"}, {valor: \"Contar\", tipo: \"signo\"}, {valor: \"Contar Si\", tipo: \"signo\"}];\nconst operacionesBoolean = [{valor: \"Asignar Valor Único\", tipo: \"signo\"}, {valor: \"Asignar Valor Único Si\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples Si\", tipo: \"signo\"}, {valor: \"Contar\", tipo: \"signo\"}, {valor: \"Contar Si\", tipo: \"signo\"}];\nconst operacionesCadena = [{valor: \"Asignar Valor Único\", tipo: \"signo\"}, {valor: \"Asignar Valor Único Si\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples Si\", tipo: \"signo\"}, {valor: \"Contar\", tipo: \"signo\"}, {valor: \"Contar Si\", tipo: \"signo\"}, {valor: \"+\", tipo: \"signo\"}];*/\n\nconst variablesEscalares = [];\nconst objetos = [];\nconst camposDeObjetos = [];\nconst anchuraSeccionFormula = [\"100%\", \"50\", \"33%\", \"25%\", \"25%\", \"17%\", \"15%\", \"13%\", \"11%\", \"10%\", \"9%\"];\n\nvar tablasOriginales = [], camposTablasOriginales = [], variablesEscalaresOriginales = [], variablesOriginales = [], camposVariablesOriginales = [], excelOriginales = [], camposExcelOriginales = [], formasOriginales = [], variablesOriginalesSQL = [], camposVariablesOriginalesSQL = [];\n\nvar variableSeleccionada = [], operacionSeleccionada = [], posicionDeIndicadorSeleccionadoEnFormula = '', posicionIndicador ='';\n\nvar posicionIndicadorAgregarEnFormula = '';\n\nvar operacionGuardarFormula = '';\nvar formulaGuardarFormula = '';\n\n//bandera para ver si seleccion de variables para agregar division es correcta\nvar seleccionValidaVarDivision = true;\n//contador para poner identificadorIndicador\nvar identificadorIndicador = 0;\n\n//bandera para ver si selecciono\nvar seleccionManual = false;\n\n//bandera para saber si ya trajo todas las variables\nvar banderaCargaVariablesINICIO = 0;\nvar banderaCargaVariablesFIN = 0;\n\n//objeto para sacar las tablas de los valores de formula\nvar objetoFormulaParaSacarID = {};\n\n// diferencia posicionDeIndicadorSeleccionadoEnFormula y posicionIndicadorAgregarEnFormula\n//se usan en diferentes metodos, posicionDeIndicadorSeleccionadoEnFormula en clickFormula, y posicionIndicadorAgregarEnFormula para agregar var a formula\n\n/*var arrregloPrueba = [  {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"},\n                        {valor: [{valor: \"a\", width: \"100%\", height: \"49%\", tipo: \"variable\"},\n                            {valor: \"division\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\"},\n                            {valor: \"b\", width: \"100%\", height: \"49%\", tipo: \"variable\"}],\n                        width: \"90%\", height: \"100%\", tipo: \"contenedorDivision\"},\n                        {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"}];\nX = (SALDOS_MAYO)/(CLIENTES_RIESGOS)    |     (SONDEO_FINAL)/((CLIENTES_RIESGOS+FINALES_X)-B)\nINPUT: NOMBRE VARIABLE, CADA TECLA SE METE A ARREGLO A MOSTRAR, QUE ES INPUT EN MAYUSCULA SI ES LETRA, CADA ESPACIO ES _*/\n/*var arrregloPrueba = [\n                        {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"},\n                            {valor: [\n                                {valor: \"a\", width: \"49%\", height: \"49%\", tipo: \"variable\"},\n                                {valor: \"-\", width: \"2%\", height: \"49%\", tipo: \"signo\"},\n                                {valor: \"m\", width: \"49%\", height: \"49%\", tipo: \"variable\"},\n                                {valor: \"division\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\"},\n                                {valor: \"b\", width: \"100%\", height: \"49%\", tipo: \"variable\"}],\n                            width: \"90%\", height: \"100%\", tipo: \"contenedorDivision\"},\n                        {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"}];*/\n//var arrregloPrueba = [{valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"}, {valor: [{valor: \"a\", width: \"49%\", height: \"49%\", tipo: \"variable\"}, {valor: \"-\", width: \"2%\", height: \"49%\", tipo: \"signo\"}, {valor: \"m\", width: \"49%\", height: \"49%\", tipo: \"variable\"}, {valor: \"division\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\"}, {valor: \"b\", width: \"32%\", height: \"49%\", tipo: \"variable\"}, {valor: \"+\", width: \"2%\", height: \"49%\", tipo: \"signo\"}, {valor: \"zsasasas\", width: \"32%\", height: \"49%\", tipo: \"variable\"}, {valor: \"*\", width: \"2%\", height: \"49%\", tipo: \"signo\"}, {valor: \"d\", width: \"32%\", height: \"49%\", tipo: \"variable\"}], width: \"90%\", height: \"100%\", tipo: \"contenedorDivision\"}, {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"}];\n//var arrregloPrueba = [{valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"}, {valor: \"a\", width: \"90%\", height: \"100%\", tipo: \"variable\"}, {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"}];\n/*var arrregloPrueba = [\n                        {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\", identificadorIndicador: 0}, \n                            {valor: [\n                                {valor: \"a\", width: \"44%\", height: \"49%\", tipo: \"variable\"},\n                                {valor: \"-\", width: \"2%\", height: \"49%\", tipo: \"signo\"},\n                                {valor: \"\\\\\", width: \"5%\", height: \"49%\", tipo: \"indicador\", posicion: \"izquierda\", identificadorIndicador: 1},\n                                    {valor: [\n                                        {valor: \"saldo\", width: \"100%\", height: \"49%\", tipo: \"variable\"},\n                                        {valor: \"division\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\"},\n                                        {valor: \"local\", width: \"100%\", height: \"49%\", tipo: \"variable\"}]\n                                    , width: \"44%\", height: \"49%\", tipo: \"contenedorDivision\"},\n                                {valor: \"\\\\\", width: \"5%\", height: \"49%\", tipo: \"indicador\", posicion: \"derecha\", identificadorIndicador: 2},\n                                {valor: \"division\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\"},\n                                {valor: \"b\", width: \"100%\", height: \"49%\", tipo: \"variable\"}]\n                            , width: \"90%\", height: \"100%\", tipo: \"contenedorDivision\"},\n                        {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\", identificadorIndicador: 3}];*/\n/*var arrregloPrueba = [\n                        {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\", identificadorIndicador: 0},\n                        {valor: [\n                            {valor: \"\\\\\", width: \"5%\", height: \"49%\", tipo: \"indicador\", posicion: \"izquierda\", identificadorIndicador: 1},\n                            {valor: [\n                                {valor: \"a\", width: \"100%\", height: \"49%\", tipo: \"variable\"},\n                                {valor: \"division\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\"},\n                                {valor: \"b\", width: \"100%\", height: \"49%\", tipo: \"variable\"}]\n                            , width: \"90%\", height: \"49%\", tipo: \"contenedorDivision\"},\n                            {valor: \"\\\\\", width: \"5%\", height: \"49%\", tipo: \"indicador\", posicion: \"derecha\", identificadorIndicador: 2},\n                            {valor: \"division\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\"},\n                            {valor: \"c\", width: \"100%\", height: \"49%\", tipo: \"variable\"},]\n                        , width: \"90%\", height: \"100%\", tipo: \"contenedorDivision\"},\n                        {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\", identificadorIndicador: 3}];*/\n\nexport default class Formula extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            formula: [],\n            tablas: [],\n            camposTablas: [],\n            variablesEscalares: [],\n            variables: [],\n            camposVariables: [],\n            operaciones: [],\n            excel: [],\n            camposDeExcel: [],\n            formas: [],\n            variablesSQL: [],\n            camposVariablesSQL: []\n        }\n        this.clickEnFormula = this.clickEnFormula.bind(this);\n        this.retornoSeleccionCampo = this.retornoSeleccionCampo.bind(this);\n        this.retornoSeleccionOperacion = this.retornoSeleccionOperacion.bind(this);\n        this.existeReglaAsignacion = this.existeReglaAsignacion.bind(this);\n        this.retornarCodigoOperacion = this.retornarCodigoOperacion.bind(this);\n        this.exitseCodigoOperacion = this.exitseCodigoOperacion.bind(this);\n        this.agregarAFormula = this.agregarAFormula.bind(this);\n        this.verificarSeleccionoTodosDivision = this.verificarSeleccionoTodosDivision.bind(this);\n        this.crearArregloDeFormula = this.crearArregloDeFormula.bind(this);\n        this.crearObjetosDeArregloDeFormula = this.crearObjetosDeArregloDeFormula.bind(this);\n        this.encontrarCierreParentesis = this.encontrarCierreParentesis.bind(this);\n        this.esOperacionAritmetica = this.esOperacionAritmetica.bind(this);\n        this.esOperacionCompleja = this.esOperacionCompleja.bind(this);\n        this.getPalabraFormula = this.getPalabraFormula.bind(this);\n        this.esVariable = this.esVariable.bind(this);\n        this.agregarFormulaAnchuraYAltura = this.agregarFormulaAnchuraYAltura.bind(this);\n        this.findVariableInFormula = this.findVariableInFormula.bind(this);\n        this.clearSelectsInFormulaIndicadores = this.clearSelectsInFormulaIndicadores.bind(this);\n        this.clearSelectsInFormulaVariables = this.clearSelectsInFormulaVariables.bind(this);\n        this.findSelectedIndicador = this.findSelectedIndicador.bind(this);\n        this.getSelectedVariables = this.getSelectedVariables.bind(this);\n        this.getFormulaAndOperationText = this.getFormulaAndOperationText.bind(this);\n        this.iniciarGuardarFormula = this.iniciarGuardarFormula.bind(this);\n        this.guardarVariable = this.guardarVariable.bind(this);\n        this.actualizarEstadoInputManual = this.actualizarEstadoInputManual.bind(this);\n        this.keyupEstadoInputManual = this.keyupEstadoInputManual.bind(this);\n        this.isValidDate = this.isValidDate.bind(this);\n        this.loadTablas = this.loadTablas.bind(this);\n        this.initLoadTablasCampos = this.initLoadTablasCampos.bind(this);\n        this.loadTablasCampos = this.loadTablasCampos.bind(this);\n        this.loadScalarVariables = this.loadScalarVariables.bind(this);\n        this.loadScalarVariablesFields = this.loadScalarVariablesFields.bind(this);\n        this.loadVariables = this.loadVariables.bind(this);\n        this.initLoadVariablesCampos = this.initLoadVariablesCampos.bind(this);\n        this.loadVariablesCampos = this.loadVariablesCampos.bind(this);\n        this.loadVariablesSQL = this.loadVariablesSQL.bind(this);\n        this.initLoadVariablesCamposSQL = this.initLoadVariablesCamposSQL.bind(this);\n        this.loadVariablesCamposSQL = this.loadVariablesCamposSQL.bind(this);\n        this.loadExcel = this.loadExcel.bind(this);\n        this.initLoadExcelCampos = this.initLoadExcelCampos.bind(this);\n        this.loadExcelCampos = this.loadExcelCampos.bind(this);\n        this.loadFormas = this.loadFormas.bind(this);\n        if(this.props.esEditarVar) {\n            banderaCargaVariablesINICIO = 0;\n            banderaCargaVariablesFIN = 0;\n        }\n        variableSeleccionada = [];\n        operacionSeleccionada = [];\n    }\n\n    componentDidMount() {\n        /*console.log('arrregloPrueba');\n        console.log(arrregloPrueba);\n        this.findVariableInFormula(arrregloPrueba, \"b\", '');\n        console.log( posicionDeIndicadorSeleccionadoEnFormula );*/\n        //this.getFormula();\n        this.loadTablas();\n        this.loadScalarVariables();\n        this.loadVariables();\n        this.loadVariablesSQL();\n        this.loadExcel();\n        this.loadFormas();\n    }\n\n\n\n    findVariableInFormula (arreglo, variable, posicionEnArreglo, index) {\n        for (var i = 0; i < arreglo.length; i++) {\n            if( !Array.isArray(arreglo[i].valor) /*&& !arreglo[i].esValorManual*/ && arreglo[i].valor.toString().localeCompare(variable) == 0 && index == i) {\n                posicionDeIndicadorSeleccionadoEnFormula = posicionEnArreglo+'['+i+']';\n            } else if( Array.isArray(arreglo[i].valor) ) {\n                this.findVariableInFormula (arreglo[i].valor, variable, posicionEnArreglo+'['+i+'].valor', index);\n            }\n        };\n    }\n\n    clearSelectsInFormulaIndicadores (arreglo) {\n        for (var i = 0; i < arreglo.length; i++) {\n            if( !Array.isArray(arreglo[i].valor)) {\n                if(arreglo[i].tipo.localeCompare(\"indicador\") == 0) {\n                    if(arreglo[i].posicion.localeCompare(\"izquierda\") == 0) {\n                        $(\"#indicadorIzquierdaDiv\"+arreglo[i].identificadorIndicador).removeClass(\"colorPunteroFormula\");\n                        $(\"#indicadorIzquierdaDiv\"+arreglo[i].identificadorIndicador).removeClass(\"blink\");\n                        $(\"#indicadorIzquierdaDiv\"+arreglo[i].identificadorIndicador).addClass(\"highlightFormulaBackground\");\n                    } else {\n                        $(\"#indicadorDerechaDiv\"+arreglo[i].identificadorIndicador).removeClass(\"colorPunteroFormula\");\n                        $(\"#indicadorDerechaDiv\"+arreglo[i].identificadorIndicador).removeClass(\"blink\");\n                        $(\"#indicadorDerechaDiv\"+arreglo[i].identificadorIndicador).addClass(\"highlightFormulaBackground\");\n                    }\n                } else {\n                    $(\"#indicadorIzquierda\"+arreglo[i].valor+i).removeClass(\"colorPunteroFormula\");\n                    $(\"#indicadorIzquierda\"+arreglo[i].valor+i).removeClass(\"blink\");\n                    $(\"#indicadorIzquierda\"+arreglo[i].valor+i).addClass(\"highlightFormulaBackground\");\n                    $(\"#indicadorDerecha\"+arreglo[i].valor+i).removeClass(\"colorPunteroFormula\");\n                    $(\"#indicadorDerecha\"+arreglo[i].valor+i).removeClass(\"blink\");\n                    $(\"#indicadorDerecha\"+arreglo[i].valor+i).addClass(\"highlightFormulaBackground\");\n                }\n            } else if( Array.isArray(arreglo[i].valor) ) {\n                this.clearSelectsInFormulaIndicadores (arreglo[i].valor);\n            }\n        };\n    }\n\n    clearSelectsInFormulaVariables (arreglo) {\n        for (var i = 0; i < arreglo.length; i++) {\n            if( !Array.isArray(arreglo[i].valor) && arreglo[i].activa != undefined) {\n                arreglo[i].activa = false;\n            } else if( Array.isArray(arreglo[i].valor) ) {\n                this.clearSelectsInFormulaVariables (arreglo[i].valor);\n            }\n        };\n    }\n\n    findSelectedIndicador (arreglo, posicionEnArreglo) {\n        for (var i = 0; i < arreglo.length; i++) {\n            if( !Array.isArray(arreglo[i].valor)) {\n                if(arreglo[i].tipo.localeCompare(\"indicador\") == 0) {\n                    if(arreglo[i].posicion.localeCompare(\"izquierda\") == 0) {\n                        if ($(\"#indicadorIzquierdaDiv\"+arreglo[i].identificadorIndicador).hasClass(\"colorPunteroFormula\") ) {\n                            posicionIndicadorAgregarEnFormula = posicionEnArreglo+'['+i+'].valor';\n                        }\n                    } else {\n                        if ($(\"#indicadorDerechaDiv\"+arreglo[i].identificadorIndicador).hasClass(\"colorPunteroFormula\") ) {\n                            posicionIndicadorAgregarEnFormula = posicionEnArreglo+'['+i+'].valor';\n                        }\n                    }\n                } else {\n                    if ($(\"#indicadorIzquierda\"+arreglo[i].valor+i).hasClass(\"colorPunteroFormula\") ) {\n                        posicionIndicadorAgregarEnFormula = posicionEnArreglo+'['+i+'].valor';\n                    }\n                    if ($(\"#indicadorDerecha\"+arreglo[i].valor+i).hasClass(\"colorPunteroFormula\") ) {\n                        posicionIndicadorAgregarEnFormula = posicionEnArreglo+'['+i+'].valor';\n                    }\n                }\n            } else if( Array.isArray(arreglo[i].valor) ) {\n                this.findSelectedIndicador (arreglo[i].valor, posicionEnArreglo+'['+i+'].valor');\n            }\n        };\n    }\n\n    getSelectedVariables (arreglo, arregloVarSeleccionadas, posicionEnArreglo) {\n        for (var i = 0; i < arreglo.length; i++) {\n            if( !Array.isArray(arreglo[i].valor) && arreglo[i].activa ) {\n                arregloVarSeleccionadas.push(posicionEnArreglo+'['+i+']');\n            } else if( Array.isArray(arreglo[i].valor) ) {\n                this.getSelectedVariables (arreglo[i].valor, arregloVarSeleccionadas, posicionEnArreglo+'['+i+'].valor');\n            }\n        };\n    }\n\n    clickEnFormula (e, posicion, nombre, index) {\n        var copyTemp = [...this.state.formula];\n        if(posicion != null) {\n            this.clearSelectsInFormulaVariables(copyTemp);\n            this.setState({\n                formula: copyTemp\n            });\n        }\n        this.clearSelectsInFormulaIndicadores(this.state.formula);\n        if(posicion == null) {\n            posicionIndicador = '';\n            this.findVariableInFormula(this.state.formula, nombre, '', index);\n            var temp = [...this.state.formula];\n            var tempVar;\n            eval(\"tempVar = temp\"+posicionDeIndicadorSeleccionadoEnFormula);\n            tempVar.activa = !tempVar.activa;\n            //temp.splice(index, 1, tempVar);\n            this.setState({\n                formula: temp\n            });\n        } else if (posicion.localeCompare(\"izquierda\") == 0) {\n            posicionIndicador = 'izquierda';\n            $(\"#indicadorIzquierda\"+nombre+index).addClass(\"colorPunteroFormula\");\n            $(\"#indicadorIzquierda\"+nombre+index).addClass(\"blink\");\n            $(\"#indicadorIzquierda\"+nombre+index).removeClass(\"highlightFormulaBackground\");\n            this.findVariableInFormula(this.state.formula, nombre, '', index);\n        } else if (posicion.localeCompare(\"derecha\") == 0) {\n            posicionIndicador = 'derecha';\n            $(\"#indicadorDerecha\"+nombre+index).addClass(\"colorPunteroFormula\");\n            $(\"#indicadorDerecha\"+nombre+index).addClass(\"blink\");\n            $(\"#indicadorDerecha\"+nombre+index).removeClass(\"highlightFormulaBackground\");\n            this.findVariableInFormula(this.state.formula, nombre, '', index);\n        } else if (posicion.localeCompare(\"empty\") == 0) {\n            if($(\"#indicadorFormulaVacia\").hasClass(\"colorPunteroFormula\")) {\n                $(\"#indicadorFormulaVacia\").removeClass(\"blink\");\n                $(\"#indicadorFormulaVacia\").removeClass(\"colorPunteroFormula\");\n            } else {\n                $(\"#indicadorFormulaVacia\").addClass(\"blink\");\n                $(\"#indicadorFormulaVacia\").addClass(\"colorPunteroFormula\");\n            }\n        } else if (posicion.localeCompare(\"indicadorIzq\") == 0) {\n            $(\"#indicadorIzquierdaDiv\"+nombre).addClass(\"colorPunteroFormula\");\n            $(\"#indicadorIzquierdaDiv\"+nombre).addClass(\"blink\");\n            $(\"#indicadorIzquierdaDiv\"+nombre).removeClass(\"highlightFormulaBackground\");\n            posicionIndicador = 'izquierda';\n        } else if (posicion.localeCompare(\"indicadorDer\") == 0) {\n            $(\"#indicadorDerechaDiv\"+nombre).addClass(\"colorPunteroFormula\");\n            $(\"#indicadorDerechaDiv\"+nombre).addClass(\"blink\");\n            $(\"#indicadorDerechaDiv\"+nombre).removeClass(\"highlightFormulaBackground\");\n            posicionIndicador = 'derecha';\n        }\n    }\n\n    retornoSeleccionCampo (esOperacion, variable, posicionTabla) {\n        if(variable[0].valor.length > 0) {\n            var columnaSeleccionada = variable[0];\n            variableSeleccionada = jQuery.extend(true, {}, variable[0]);\n            if(variableSeleccionada.tipo.localeCompare(\"numero\") == 0)\n                variableSeleccionada.tipo = \"decimal\";\n            var tipoVariable = '';\n            if(columnaSeleccionada.tipo.localeCompare(\"int\") == 0 && this.state.formula.length == 0) {\n                tipoVariable = 'int';\n                this.setState({\n                    operaciones: operacionesNumero\n                });\n            } else if((columnaSeleccionada.tipo.localeCompare(\"decimal\") == 0 || columnaSeleccionada.tipo.localeCompare(\"numero\") == 0) && this.state.formula.length == 0) {\n                tipoVariable = 'decimal';\n                this.setState({\n                    operaciones: operacionesNumero\n                });\n            } else if(columnaSeleccionada.tipo.localeCompare(\"varchar\") == 0 && this.state.formula.length == 0) {\n                tipoVariable = 'varchar';\n                this.setState({\n                    operaciones: operacionesCadena\n                });\n            } else if(columnaSeleccionada.tipo.localeCompare(\"date\") == 0 && this.state.formula.length == 0) {\n                tipoVariable = 'date';\n                this.setState({\n                    operaciones: operacionesFecha\n                });\n            } else if(columnaSeleccionada.tipo.localeCompare(\"bit\") == 0 && this.state.formula.length == 0) {\n                tipoVariable = 'bit';\n                this.setState({\n                    operaciones: operacionesBoolean\n                });\n            } else if(columnaSeleccionada.tipo.localeCompare(\"int\") == 0 && this.state.formula.length > 0) {\n                tipoVariable = 'int';\n                this.setState({\n                    operaciones: operacionesNumeroMasDeUnValor\n                });\n            } else if((columnaSeleccionada.tipo.localeCompare(\"decimal\") == 0 || columnaSeleccionada.tipo.localeCompare(\"numero\") == 0) && this.state.formula.length > 0) {\n                tipoVariable = 'decimal';\n                this.setState({\n                    operaciones: operacionesNumeroMasDeUnValor\n                });\n            } else if(columnaSeleccionada.tipo.localeCompare(\"varchar\") == 0 && this.state.formula.length > 0) {\n                tipoVariable = 'varchar';\n                this.setState({\n                    operaciones: operacionesCadenaMasDeUnValor\n                });\n            }\n            var nivelRegla = 0;\n            if(variableSeleccionada.nivel != undefined)\n                nivelRegla = variableSeleccionada.nivel+1;\n            this.props.actualizarNivelNuevaRegla(nivelRegla);\n        }\n    }\n\n    retornoSeleccionOperacion (esOperacion, operacion) {\n        if(operacion[0].valor.length > 0) {\n            operacionSeleccionada = operacion[0];\n            this.props.retornoOperacion(operacionSeleccionada);\n        }\n    }\n\n    existeReglaAsignacion (operacion) {\n        for (var i = 0; i < this.state.operaciones.length; i++) {\n            if( (this.state.operaciones[i].valor.localeCompare(\"Asignar\") == 0 && this.state.operaciones[i].valor.localeCompare(operacion) == 0) || \n                (this.state.operaciones[i].valor.localeCompare(\"Contar\") == 0 && this.state.operaciones[i].valor.localeCompare(operacion) == 0) || \n                (this.state.operaciones[i].valor.localeCompare(\"Calcular Promedio\") == 0 && this.state.operaciones[i].valor.localeCompare(operacion) == 0) || \n                (this.state.operaciones[i].valor.localeCompare(\"Máximo\") == 0 && this.state.operaciones[i].valor.localeCompare(operacion) == 0) || \n                (this.state.operaciones[i].valor.localeCompare(\"Mínimo\") == 0 && this.state.operaciones[i].valor.localeCompare(operacion) == 0) ||\n                (this.state.operaciones[i].valor.localeCompare(\"Autosumar\") == 0 && this.state.operaciones[i].valor.localeCompare(operacion) == 0) /*|| \n                this.state.operaciones[i].valor.localeCompare(\"Sumar\") == 0*/) {\n                return true;\n            }\n        };\n        return false;\n    }\n\n    retornarCodigoOperacion (codigo) {\n        if(codigo.localeCompare(\"Asignar\") == 0) {\n            return \"ASIG\";\n        }\n        if(codigo.localeCompare(\"Contar\") == 0) {\n            return \"COUNT\";\n        }\n        if(codigo.localeCompare(\"Calcular Promedio\") == 0) {\n            return \"PROM\";\n        }\n        if(codigo.localeCompare(\"Máximo\") == 0) {\n            return \"MAX\";\n        }\n        if(codigo.localeCompare(\"Mínimo\") == 0) {\n            return \"MIN\";\n        }\n        if(codigo.localeCompare(\"Autosumar\") == 0) {\n            return \"AUTOSUM\";\n        }\n        if(codigo.localeCompare(\"Sumar\") == 0) {\n            return \"SUM\";\n        }\n        if(codigo.localeCompare(\"Día\") == 0) {\n            return \"DATE\";\n        }\n        if(codigo.localeCompare(\"Mes\") == 0) {\n            return \"MONTH\";\n        }\n        if(codigo.localeCompare(\"Año\") == 0) {\n            return \"YEAR\";\n        }\n    }\n\n    exitseCodigoOperacion (codigo) {\n        if(codigo.localeCompare(\"ASIG\") == 0) {\n            return true;\n        }\n        if(codigo.localeCompare(\"COUNT\") == 0) {\n            return true;\n        }\n        if(codigo.localeCompare(\"PROM\") == 0) {\n            return true;\n        }\n        if(codigo.localeCompare(\"MAX\") == 0) {\n            return true;\n        }\n        if(codigo.localeCompare(\"MIN\") == 0) {\n            return true;\n        }\n        if(codigo.localeCompare(\"AUTOSUM\") == 0) {\n            return true;\n        }\n        if(codigo.localeCompare(\"SUM\") == 0) {\n            return true;\n        }\n        if(codigo.localeCompare(\"DATE\") == 0) {\n            return true;\n        }\n        if(codigo.localeCompare(\"MONTH\") == 0) {\n            return true;\n        }\n        if(codigo.localeCompare(\"YEAR\") == 0) {\n            return true;\n        }\n    }\n\n    agregarAFormula () {\n        if (variableSeleccionada.valor != undefined || seleccionManual || operacionSeleccionada.valor.localeCompare(\"Borrar\") == 0) {\n            if(seleccionManual) {\n                var valor = $(\"#valorManual\").val();\n                var tipo = 'varchar';\n                if(isNaN(valor)) {\n                    tipo = 'varchar';\n                } else {\n                    tipo = 'decimal';\n                    valor = parseFloat(valor);\n                }\n                variableSeleccionada = {\n                    valor: valor,\n                    tipo: tipo,\n                    activa: false,\n                    esFuenteDato: false,\n                    esObjeto: false,\n                    esInstruccionSQL: false,\n                    esValorManual: true,\n                    nivel: 0,\n                    tipoOriginal: tipo\n                }\n            }\n            //retornando tipo de variable\n            if (operacionSeleccionada.valor == undefined) {\n                this.props.retornoCampo(variableSeleccionada.tipo);\n            } else {\n                if(operacionSeleccionada.valor.localeCompare(\"Asignar\") == 0 || operacionSeleccionada.valor.localeCompare(\"Máximo\") == 0 || operacionSeleccionada.valor.localeCompare(\"Mínimo\") == 0 || operacionSeleccionada.valor.localeCompare(\"Autosumar\") == 0 || operacionSeleccionada.valor.localeCompare(\"Sumar\") == 0) {\n                    this.props.retornoCampo(variableSeleccionada.tipo);\n                }\n                if(operacionSeleccionada.valor.localeCompare(\"Contar\") == 0 || operacionSeleccionada.valor.localeCompare(\"Día\") == 0 || operacionSeleccionada.valor.localeCompare(\"Mes\") == 0 || operacionSeleccionada.valor.localeCompare(\"Año\") == 0) {\n                    this.props.retornoCampo(\"int\");\n                }\n                if(operacionSeleccionada.valor.localeCompare(\"Calcular Promedio\") == 0) {\n                    this.props.retornoCampo(\"decimal\");\n                }\n            }\n            if(this.state.formula.length == 0 && $(\"div\").hasClass(\"colorPunteroFormula\")) {        //caso inicial, agregar primera variable\n                var formulaTemp = [...this.state.formula];\n                variableSeleccionada.activa = false;\n                var tipoOriginal = variableSeleccionada.tipo;\n                variableSeleccionada.tipo = \"variable\";\n                variableSeleccionada.texto = variableSeleccionada.valor;\n                variableSeleccionada.operacion = '';\n                variableSeleccionada.tipoOriginal = tipoOriginal;\n                //variableSeleccionada.tipoColumnaEnTabla = ;\n                if(this.existeReglaAsignacion(operacionSeleccionada.valor)) {\n                    variableSeleccionada.texto = this.retornarCodigoOperacion(operacionSeleccionada.valor) + \"(\" + variableSeleccionada.valor + \")\";\n                    variableSeleccionada.operacion = this.retornarCodigoOperacion(operacionSeleccionada.valor);\n                }\n                if (operacionSeleccionada.valor == undefined || operacionSeleccionada.valor.localeCompare(\"Borrar\") == 0) {\n                    //cuando se agrega campo a formula para crear operacion ASIG\n                    variableSeleccionada.operacion = 'ASIG';\n                }/* else {\n                    variableSeleccionada.operacion = operacionSeleccionada.valor;\n                }*/\n                var varAInsertar = jQuery.extend(true, {}, variableSeleccionada);\n                formulaTemp = formulaTemp.concat(varAInsertar);\n                this.agregarFormulaAnchuraYAltura(formulaTemp, true);\n                this.setState({\n                    operaciones: [],\n                    formula: formulaTemp\n                });\n\n                //actualizando campos de variables a mostrar segun el campo que se acaba de agregar\n                if(variableSeleccionada.esFuenteDato) {\n                    //solo mostrar campos que sean de conexiones tabla\n                    var arregloConexionesTemp = [], arregloCamposConexionesTemp = [];\n                    for (var i = 0; i < tablasOriginales.length; i++) {\n                        if(tablasOriginales[i].ID == variableSeleccionada.tablaID) {\n                            arregloConexionesTemp.push(tablasOriginales[i]);\n                            for (var j = 0; j < camposTablasOriginales[i].length; j++) {\n                                if(arregloCamposConexionesTemp[arregloConexionesTemp.length-1] == undefined)\n                                    arregloCamposConexionesTemp[arregloConexionesTemp.length-1] = [];\n                                if(tipoOriginal.localeCompare(\"int\") == 0 || tipoOriginal.localeCompare(\"decimal\") == 0) {\n                                    if(camposTablasOriginales[i][j].tipo.localeCompare(\"int\") == 0 || camposTablasOriginales[i][j].tipo.localeCompare(\"decimal\") == 0)\n                                        arregloCamposConexionesTemp[arregloConexionesTemp.length-1].push(camposTablasOriginales[i][j]);\n                                } else {\n                                    if(camposTablasOriginales[i][j].tipo.localeCompare(tipoOriginal) == 0)\n                                        arregloCamposConexionesTemp[arregloConexionesTemp.length-1].push(camposTablasOriginales[i][j]);\n                                }\n                            };\n                            break;\n                        }\n                    };\n                    this.setState({\n                        tablas: arregloConexionesTemp,\n                        camposTablas: arregloCamposConexionesTemp,\n                        variablesEscalares: [],\n                        variables: [],\n                        camposVariables: [],\n                        variablesSQL: [],\n                        camposVariablesSQL: []\n                    });\n                } else {\n                    if(variableSeleccionada.esObjeto) {\n                        var arregloVariablesTemp = [], arregloCamposVariablesTemp = [];\n                        for (var i = 0; i < variablesOriginales.length; i++) {\n                            if(variablesOriginales[i].ID == variableSeleccionada.variableID) {\n                                arregloVariablesTemp.push(variablesOriginales[i]);\n                                for (var j = 0; j < camposVariablesOriginales[i].length; j++) {\n                                    if(arregloCamposVariablesTemp[arregloVariablesTemp.length-1] == undefined)\n                                        arregloCamposVariablesTemp[arregloVariablesTemp.length-1] = [];\n                                    if(tipoOriginal.localeCompare(\"int\") == 0 || tipoOriginal.localeCompare(\"decimal\") == 0) {\n                                        if(camposVariablesOriginales[i][j].tipo.localeCompare(\"int\") == 0 || camposVariablesOriginales[i][j].tipo.localeCompare(\"decimal\") == 0)\n                                            arregloCamposVariablesTemp[arregloVariablesTemp.length-1].push(camposVariablesOriginales[i][j]);\n                                    } else {\n                                        if(camposVariablesOriginales[i][j].tipo.localeCompare(tipoOriginal) == 0)\n                                            arregloCamposVariablesTemp[arregloVariablesTemp.length-1].push(camposVariablesOriginales[i][j]);\n                                    }\n                                };\n                                break;\n                            }\n                        };\n                        this.setState({\n                            tablas: [],\n                            camposTablas: [],\n                            variablesEscalares: variablesEscalaresOriginales,\n                            variables: arregloVariablesTemp,\n                            camposVariables: arregloCamposVariablesTemp,\n                            variablesSQL: [],\n                            camposVariablesSQL: []\n                        });\n                    } else if(variableSeleccionada.esInstruccionSQL) {\n                        var arregloVariablesSQLTemp = [], arregloCamposVariablesSQLTemp = [];\n                        for (var i = 0; i < variablesOriginalesSQL.length; i++) {\n                            if(variablesOriginalesSQL[i].ID == variableSeleccionada.variableID) {\n                                arregloVariablesSQLTemp.push(variablesOriginalesSQL[i]);\n                                for (var j = 0; j < camposVariablesOriginalesSQL[i].length; j++) {\n                                    if(arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1] == undefined)\n                                        arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1] = [];\n                                    if(tipoOriginal.localeCompare(\"int\") == 0 || tipoOriginal.localeCompare(\"decimal\") == 0) {\n                                        if(camposVariablesOriginalesSQL[i][j].tipo.localeCompare(\"int\") == 0 || camposVariablesOriginalesSQL[i][j].tipo.localeCompare(\"decimal\") == 0)\n                                            arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1].push(camposVariablesOriginalesSQL[i][j]);\n                                    } else {\n                                        if(camposVariablesOriginalesSQL[i][j].tipo.localeCompare(tipoOriginal) == 0)\n                                            arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1].push(camposVariablesOriginalesSQL[i][j]);\n                                    }\n                                };\n                                break;\n                            }\n                        };\n                        this.setState({\n                            tablas: [],\n                            camposTablas: [],\n                            variablesEscalares: variablesEscalaresOriginales,\n                            variables: [],\n                            camposVariables: [],\n                            variablesSQL: arregloVariablesSQLTemp,\n                            camposVariablesSQL: arregloCamposVariablesSQLTemp\n                        });\n                    } else {\n                        this.setState({\n                            tablas: [],\n                            camposTablas: [],\n                            variablesEscalares: this.state.variablesEscalares,\n                            variables: this.state.variables,\n                            camposVariables: this.state.camposVariables,\n                            variablesSQL: this.state.variablesSQL,\n                            camposVariablesSQL: this.state.camposVariablesSQL\n                        });\n                    }\n                }\n            } else if (operacionSeleccionada.valor != undefined && operacionSeleccionada.valor.localeCompare(\"Borrar\") == 0) {\n                var arregloVarSeleccionadas = [];\n                this.getSelectedVariables (this.state.formula, arregloVarSeleccionadas, '');\n                if(arregloVarSeleccionadas.length == 1) {\n                    //viendo si tiene variable antes de var a eliminar\n                    var ultimoIndice1 = arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf(']'));\n                    var ultimoIndice2 = ultimoIndice1.substring(ultimoIndice1.lastIndexOf('[')+1);\n                    if(parseInt(ultimoIndice2) != 0) {\n                        var indiceVarAEliminar1 = arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf(']'));\n                        var indiceVarAEliminar2 = indiceVarAEliminar1.substring(indiceVarAEliminar1.lastIndexOf('[')+1);\n                        var indiceVarAEliminarAnterior1 = arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf(']'));\n                        var indiceVarAEliminarAnterior2 = indiceVarAEliminar1.substring(indiceVarAEliminar1.lastIndexOf('[')+1);\n                        indiceVarAEliminarAnterior2 = parseInt(indiceVarAEliminarAnterior2)-1;\n                        var variableAEliminar, variableAntesEliminar;\n                        var copyFormula = [...this.state.formula];\n                        eval(\"variableAEliminar = this.state.formula\"+arregloVarSeleccionadas[0]);\n                        eval(\"copyFormula\"+arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf('['))+\".splice(indiceVarAEliminar2, 1)\")\n                        eval(\"variableAntesEliminar = this.state.formula\"+arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf('['))+\"[indiceVarAEliminarAnterior2]\");\n                        if(variableAntesEliminar.tipo.localeCompare(\"signo\") == 0)     \n                            eval(\"copyFormula\"+arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf('['))+\".splice(indiceVarAEliminarAnterior2, 1)\")\n                        this.agregarFormulaAnchuraYAltura(copyFormula, true);\n                        this.setState({\n                            formula: copyFormula\n                        });\n                    } else {\n                        var indiceVarAEliminar1 = arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf(']'));\n                        var indiceVarAEliminar2 = indiceVarAEliminar1.substring(indiceVarAEliminar1.lastIndexOf('[')+1);\n                        var copyFormula = [...this.state.formula];\n                        eval(\"copyFormula\"+arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf('['))+\".splice(indiceVarAEliminar2, 1)\")\n                        this.agregarFormulaAnchuraYAltura(copyFormula, true);\n                        this.setState({\n                            formula: copyFormula\n                        });\n                    }\n                    if(copyFormula.length == 0) {\n                        this.setState({\n                            tablas: tablasOriginales,\n                            camposTablas: camposTablasOriginales,\n                            variablesEscalares: variablesEscalaresOriginales,\n                            variables: variablesOriginales,\n                            camposVariables: camposVariablesOriginales,\n                            excel: excelOriginales,\n                            camposDeExcel: camposExcelOriginales,\n                            formas: formasOriginales,\n                            variablesSQL: variablesOriginalesSQL,\n                            camposVariablesSQL: camposVariablesOriginalesSQL\n                        });\n                    }\n                    var self = this;\n                    setTimeout(function () {\n                        console.log(self.state.formula);\n                    }, 300);\n                } else if(arregloVarSeleccionadas.length > 1) {\n                    this.props.showMessage(\"Error\", \"Solo debe seleccionar una variable a eliminar.\", true, false, {});\n                } else {\n                    this.props.showMessage(\"Error\", \"Debe seleccionar por lo menos la variable a eliminar.\", true, false, {});\n                }\n            } else if(this.state.formula.length > 0 && $(\"div\").hasClass(\"colorPunteroFormula\") && operacionSeleccionada.valor != undefined && operacionSeleccionada.valor.localeCompare(\"/\") != 0) {\n                var formulaTemp = [...this.state.formula];\n                //quitar cualquier operacion seleccionada anteriormente\n                for (var i = 0; i < formulaTemp.length; i++) {\n                    formulaTemp[i].operacion = 'FORMULA';\n                    formulaTemp[i].texto = formulaTemp[i].valor;\n                };\n                var tipoOriginal = variableSeleccionada.tipo;\n                variableSeleccionada.tipoOriginal = tipoOriginal;\n                variableSeleccionada.activa = false;\n                variableSeleccionada.tipo = \"variable\";\n                variableSeleccionada.texto = variableSeleccionada.valor;\n                variableSeleccionada.operacion = '';\n                if(this.existeReglaAsignacion(operacionSeleccionada.valor)) {\n                    variableSeleccionada.texto = this.retornarCodigoOperacion(operacionSeleccionada.valor) + \"(\" + variableSeleccionada.valor + \")\";\n                    variableSeleccionada.operacion = this.retornarCodigoOperacion(operacionSeleccionada.valor);\n                } else {\n                    variableSeleccionada.operacion = 'FORMULA';\n                }\n                var posicionArreglo = '', ultimoIndice = '', noHaLeidoUltimoIndice = true;\n                for (var i = posicionDeIndicadorSeleccionadoEnFormula.length - 1; i >= 0; i--) {\n                    if (!noHaLeidoUltimoIndice) {\n                        posicionArreglo += posicionDeIndicadorSeleccionadoEnFormula.charAt(i);\n                    }\n                    if (posicionDeIndicadorSeleccionadoEnFormula.charAt(i).localeCompare('[') != 0 && posicionDeIndicadorSeleccionadoEnFormula.charAt(i).localeCompare(']') != 0 && noHaLeidoUltimoIndice) {\n                        if( posicionDeIndicadorSeleccionadoEnFormula.charAt(i).localeCompare('[') != 0 && posicionDeIndicadorSeleccionadoEnFormula.charAt(i).localeCompare(']') != 0 )\n                            ultimoIndice += posicionDeIndicadorSeleccionadoEnFormula.charAt(i);\n                        if(posicionDeIndicadorSeleccionadoEnFormula.charAt(i).localeCompare('[') == 0) {\n                            noHaLeidoUltimoIndice = false;\n                        }\n                    }\n                };\n                var arregloVarSeleccionadas = [];\n                //this.getSelectedIndicador (this.state.formula, arregloVarSeleccionadas, '');\n                //this.findVariableInFormula(this.state.formula, nombre, '');\n                this.findSelectedIndicador (this.state.formula, '');\n                var indicadorSeleccionado;\n                //eval(\"indicadorSeleccionado = this.state.formula[\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\".\")))\n                //var tempVar;\n                //eval(\"tempVar = temp\"+posicionArreglo);\n                operacionSeleccionada.operacion = operacionSeleccionada.valor;\n                var varAInsertar = jQuery.extend(true, {}, variableSeleccionada);\n                if(posicionIndicador.localeCompare(\"derecha\") == 0) {\n                    /*if(posicionArreglo.length > 0) {\n                        formulaTemp[posicionArreglo].splice(parseInt(ultimoIndice)+1, 0, varAInsertar);\n                        formulaTemp[posicionArreglo].splice(parseInt(ultimoIndice)+1, 0, operacionSeleccionada);\n                    } else {\n                        formulaTemp.splice(parseInt(ultimoIndice)+1, 0, varAInsertar);\n                        formulaTemp.splice(parseInt(ultimoIndice)+1, 0, operacionSeleccionada);\n                    }*/\n                    if(posicionIndicadorAgregarEnFormula.split(\"[\").length > 2) {\n                        var pos1 = posicionIndicadorAgregarEnFormula.substring(posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\")+1);\n                        var pos2 = pos1.substring(0, pos1.lastIndexOf(\"]\"));\n                        var esUltimoIndice = false;\n                        eval(\"if (formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".length == parseInt(pos2)+1) esUltimoIndice = true\" );\n                        eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+1, 0, operacionSeleccionada)\" );\n                        eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+2, 0, varAInsertar)\" );\n                        /*if(esUltimoIndice) {\n                            eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+1, 0, operacionSeleccionada)\" );\n                            eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+1, 0, varAInsertar)\" );\n                        } else {\n                            eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+1, 0, varAInsertar)\" );\n                            eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+1, 0, operacionSeleccionada)\" );\n                        }*/\n                    } else {\n                        var pos1 = posicionIndicadorAgregarEnFormula.substring(posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\")+1);\n                        var pos2 = pos1.substring(0, pos1.lastIndexOf(\"]\"));\n                        eval(\"formulaTemp.splice( parseInt(pos2)+1, 0, operacionSeleccionada)\" );\n                        eval(\"formulaTemp.splice( parseInt(pos2)+2, 0, varAInsertar)\" );\n                    }\n                    //eval(\"formulaTemp[posicionArreglo].splice(parseInt(ultimoIndice)+1, 0, variableSeleccionada[0])\");\n                } else {\n                    if(posicionIndicadorAgregarEnFormula.split(\"[\").length > 2) {\n                        var pos1 = posicionIndicadorAgregarEnFormula.substring(posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\")+1);\n                        var pos2 = pos1.substring(0, pos1.lastIndexOf(\"]\"));\n                        var esUltimoIndice = false;\n                        eval(\"if (formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".length == parseInt(pos2)+1) esUltimoIndice = true\" );\n                        eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2), 0, operacionSeleccionada)\" );\n                        eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2), 0, varAInsertar)\" );\n                        /*if(esUltimoIndice) {\n                            eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+1, 0, operacionSeleccionada)\" );\n                            eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+1, 0, varAInsertar)\" );\n                        } else {\n                            eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+1, 0, varAInsertar)\" );\n                            eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+1, 0, operacionSeleccionada)\" );\n                        }*/\n                    } else {\n                        var pos1 = posicionIndicadorAgregarEnFormula.substring(posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\")+1);\n                        var pos2 = pos1.substring(0, pos1.lastIndexOf(\"]\"));\n                        eval(\"formulaTemp.splice( parseInt(pos2), 0, operacionSeleccionada)\" );\n                        eval(\"formulaTemp.splice( parseInt(pos2), 0, varAInsertar)\" );\n                    }\n                    /*if(posicionArreglo.length > 0) {\n                        formulaTemp[posicionArreglo].splice(parseInt(ultimoIndice), 0, operacionSeleccionada);\n                        formulaTemp[posicionArreglo].splice(parseInt(ultimoIndice), 0, varAInsertar);\n                    } else {\n                        formulaTemp.splice(parseInt(ultimoIndice), 0, operacionSeleccionada);\n                        formulaTemp.splice(parseInt(ultimoIndice), 0, varAInsertar);\n                    }*/\n                }\n                this.agregarFormulaAnchuraYAltura(formulaTemp, true);\n                this.setState({\n                    operaciones: [],\n                    formula: formulaTemp\n                });\n                //actualizando campos de variables a mostrar segun el campo que se acaba de agregar\n                var tipoOriginal = variableSeleccionada.tipoOriginal;\n                if(variableSeleccionada.esFuenteDato) {\n                    //solo mostrar campos que sean de conexiones tabla\n                    var arregloConexionesTemp = [], arregloCamposConexionesTemp = [];\n                    for (var i = 0; i < tablasOriginales.length; i++) {\n                        if(tablasOriginales[i].ID == variableSeleccionada.tablaID) {\n                            arregloConexionesTemp.push(tablasOriginales[i]);\n                            for (var j = 0; j < camposTablasOriginales[i].length; j++) {\n                                if(arregloCamposConexionesTemp[arregloConexionesTemp.length-1] == undefined)\n                                    arregloCamposConexionesTemp[arregloConexionesTemp.length-1] = [];\n                                if(tipoOriginal.localeCompare(\"int\") == 0 || tipoOriginal.localeCompare(\"decimal\") == 0) {\n                                    if(camposTablasOriginales[i][j].tipo.localeCompare(\"int\") == 0 || camposTablasOriginales[i][j].tipo.localeCompare(\"decimal\") == 0) {\n                                        arregloCamposConexionesTemp[arregloConexionesTemp.length-1].push(camposTablasOriginales[i][j]);\n                                    }\n                                } else {\n                                    if(camposTablasOriginales[i][j].tipo.localeCompare(tipoOriginal) == 0) {\n                                        arregloCamposConexionesTemp[arregloConexionesTemp.length-1].push(camposTablasOriginales[i][j]);\n                                    }\n                                }\n                            };\n                            break;\n                        }\n                    };\n                    this.setState({\n                        tablas: arregloConexionesTemp,\n                        camposTablas: arregloCamposConexionesTemp,\n                        variablesEscalares: [],\n                        variables: [],\n                        camposVariables: [],\n                        variablesSQL: [],\n                        camposVariablesSQL: []\n                    });\n                } else {\n                    if(variableSeleccionada.esObjeto) {\n                        var arregloVariablesTemp = [], arregloCamposVariablesTemp = [];\n                        for (var i = 0; i < variablesOriginales.length; i++) {\n                            if(variablesOriginales[i].ID == variableSeleccionada.variableID) {\n                                arregloVariablesTemp.push(variablesOriginales[i]);\n                                for (var j = 0; j < camposVariablesOriginales[i].length; j++) {\n                                    if(arregloCamposVariablesTemp[arregloVariablesTemp.length-1] == undefined)\n                                        arregloCamposVariablesTemp[arregloVariablesTemp.length-1] = [];\n                                    if(tipoOriginal.localeCompare(\"int\") == 0 || tipoOriginal.localeCompare(\"decimal\") == 0) {\n                                        if(camposVariablesOriginales[i][j].tipo.localeCompare(\"int\") == 0 || camposVariablesOriginales[i][j].tipo.localeCompare(\"decimal\") == 0)\n                                            arregloCamposVariablesTemp[arregloVariablesTemp.length-1].push(camposVariablesOriginales[i][j]);\n                                    } else {\n                                        if(camposVariablesOriginales[i][j].tipo.localeCompare(tipoOriginal) == 0)\n                                            arregloCamposVariablesTemp[arregloVariablesTemp.length-1].push(camposVariablesOriginales[i][j]);\n                                    }\n                                };\n                                break;\n                            }\n                        };\n                        this.setState({\n                            tablas: [],\n                            camposTablas: [],\n                            variablesEscalares: variablesEscalaresOriginales,\n                            variables: arregloVariablesTemp,\n                            camposVariables: arregloCamposVariablesTemp,\n                            variablesSQL: [],\n                            camposVariablesSQL: []\n                        });\n                    } else if(variableSeleccionada.esInstruccionSQL) {\n                        var arregloVariablesSQLTemp = [], arregloCamposVariablesSQLTemp = [];\n                        for (var i = 0; i < variablesOriginalesSQL.length; i++) {\n                            if(variablesOriginalesSQL[i].ID == variableSeleccionada.variableID) {\n                                arregloVariablesSQLTemp.push(variablesOriginalesSQL[i]);\n                                for (var j = 0; j < camposVariablesOriginalesSQL[i].length; j++) {\n                                    if(arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1] == undefined)\n                                        arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1] = [];\n                                    if(tipoOriginal.localeCompare(\"int\") == 0 || tipoOriginal.localeCompare(\"decimal\") == 0) {\n                                        if(camposVariablesOriginalesSQL[i][j].tipo.localeCompare(\"int\") == 0 || camposVariablesOriginalesSQL[i][j].tipo.localeCompare(\"decimal\") == 0)\n                                            arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1].push(camposVariablesOriginalesSQL[i][j]);\n                                    } else {\n                                        if(camposVariablesOriginalesSQL[i][j].tipo.localeCompare(tipoOriginal) == 0)\n                                            arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1].push(camposVariablesOriginalesSQL[i][j]);\n                                    }\n                                };\n                                break;\n                            }\n                        };\n                        this.setState({\n                            tablas: [],\n                            camposTablas: [],\n                            variablesEscalares: variablesEscalaresOriginales,\n                            variables: [],\n                            camposVariables: [],\n                            variablesSQL: arregloVariablesSQLTemp,\n                            camposVariablesSQL: arregloCamposVariablesSQLTemp\n                        });\n                    } else {\n                        this.setState({\n                            tablas: [],\n                            camposTablas: [],\n                            variablesEscalares: this.state.variablesEscalares,\n                            variables: this.state.variables,\n                            camposVariables: this.state.camposVariables,\n                            variablesSQL: this.state.variablesSQL,\n                            camposVariablesSQL: this.state.camposVariablesSQL\n                        });\n                    }\n                }\n                //FIN actualizando campos de variables a mostrar segun el campo que se acaba de agregar\n            } else if(this.state.formula.length > 0  && operacionSeleccionada.valor != undefined && operacionSeleccionada.valor.localeCompare(\"/\") == 0) {\n                //quitar cualquier operacion seleccionada anteriormente\n                var formulaTemp = [...this.state.formula];\n                for (var i = 0; i < formulaTemp.length; i++) {\n                    formulaTemp[i].operacion = 'FORMULA';\n                    formulaTemp[i].texto = formulaTemp[i].valor;\n                };\n                this.setState({\n                    formula: formulaTemp\n                });\n                var arregloVarSeleccionadas = [];\n                this.getSelectedVariables (this.state.formula, arregloVarSeleccionadas, '');\n                if($(\"div\").hasClass(\"colorPunteroFormula\") || arregloVarSeleccionadas.length == 0) {\n                    this.props.showMessage(\"Error\", \"Para agregar una división, seleccione las variables a ser numerador en la fórmula.\", true, false, {});\n                } else {\n                    var tipoOriginal = variableSeleccionada.tipo;\n                    variableSeleccionada.tipoOriginal = tipoOriginal;\n                    variableSeleccionada.tipo = \"variable\";\n                    variableSeleccionada.texto = variableSeleccionada.valor;\n                    variableSeleccionada.operacion = 'FORMULA';\n                    //variableSeleccionada.tipoColumnaEnTabla = ;\n                    if(this.existeReglaAsignacion(operacionSeleccionada.valor)) {\n                        variableSeleccionada.texto = this.retornarCodigoOperacion(operacionSeleccionada.valor) + \"(\" + variableSeleccionada.valor + \")\";\n                        variableSeleccionada.operacion = this.retornarCodigoOperacion(operacionSeleccionada.valor);\n                    }\n\n                    //separar arreglo arregloVarSeleccionadas por diferentes primer indices, elegir el mas corto y quitar ultimo indice solo si length != 1\n                        // 1) eje: [1][0],[1][2]    [5][1][0],[5][1][2],[5][1][4]       [8]\n                        // 2) res: [1], [5][1], [8]\n                    //========================\n                    //SE CREAN ARREGLOS 1) Y 2)\n                    //SI ARREGLO 2) LENGTH > 1\n                        //VER QUE PRIMEROS INDICES DE ARREGLO 2) ESTEN A UNA DISTANCIA DE 3 SI ES DIV Y 2 SI ES VAR, PARA COMPROBAR QUE DIFERENTES\n                            //SELECCIONES DE VARIABLES ESTAN CONTINUAS EN FORMULA, EJE: [\\\\,[P1,DIV\\,P2],\\\\,-,P4,+,\\\\,[P5,DIV\\,P6],\\\\,-,P7,+,P8]\n                                                                                    //  [\\\\,[P1,DIV\\,P2],\\\\,-,P4,+,P6]\n                        //POR CADA POSICION INICIAL (PRIMER INDICE), PROBAR QUE LA SELECCION FUE CORRECTA SI ES DIV\n                            //SI SELECCIONO UNA DIVISION SE TIENE QUE SELECCIONAR TODAS LAS VAR DE LA DIV\n\n                    //SI ARREGLO 2) LENGTH == 1\n                        //COMPROBAR QUE LA SELECCION ES CORRECTA\n                            //SI SOLO SE SELECIONO DEL NUMERADOR\n                                //SI SOLO UNA BIEN\n                                //SINO SI VERIFICAR QUE CADA VAR SELECCIONADA ESTE CONTINUA O SEA A UNA DISTANCIA DE 2, eje: [0] -> [2] -> [4]\n                            //SI SE SELECCIONO DE UN DENOMINADOR SE TIENEN QUE SELECCIONAR LAS DEMAS VAR DEL DENOMINADOR, TAMBIEN TODO LO \n                            //QUE ESTE EN EL NUMERADOR\n                                //SE EMPIEZA POR EL VALOR DE SUB-ARREGLO 1) (EJE: [5][1][0],[5][1][2],[5][1][4]) MAS CORTO Y SE MANDA A LLAMAR METODO:\n                                    //METODO:\n                                        //SE RECORREN TODAS LAS VAR DE ESE NIVEL QUE NO SEAN ARREGLOS Y SE VERIFICAN SI ESTA SEL, SINO RETORNAR FALSO\n                                        //POR ULTIMO SE VUELVE A LLAMAR EL METODO POR CADA ARREGLO\n\n                    //SI SELECCION ES CORRECTA (PROCESO ANTERIOR)\n                        //SI ARREGLO 2) LENGTH == 1\n                            //SACAR EL ULTIMO INDICE EN COMUN MAS CERCANO, CREAR\n                                //SI EL ULTIMO INDICE ES DIV, SOLO INSERTAR NUEVA DIVISION EN ESA POS\n                                //SI NO ES DIV, CREAR INDICADOR IZQ, INSERTAR NUEVA DIVISION Y DESPUES CREAR INDICADOR DER\n                        //SI ARREGLO 2) LENGTH > 1\n                            //RECORRIENDO DE IZQ A DER CREANDO ARREGLO DE VALORES A INSERTAR, SOLO AGARRAR LAS VAR, SIGNOS E INDICADORES DEL PRIMER INDICE/NIVEL\n                            //RECORRIENDO DE DER A IZQ ELIMINAR CADA VALOR ANTERIORMENTE SEL, Y METER ARREGLO DE VALORES A INSERTAR \n                                //EN PRIMER VALOR DE ARREGLO 2) VERIFICANDO SI ES DIV, PARA METER EN LA POS ANTERIOR\n\n\n                    //separar arreglo arregloVarSeleccionadas por diferentes primer indices, elegir el mas corto y quitar ultimo indice solo si length != 1\n                        // 1) eje: [1][0],[1][2]    [5][1][0],[5][1][2],[5][1][4]       [8]\n                        // 2) res: [1], [5][1], [8]\n                    var indicesVarSeleccionadas = [];   //arreglo 2)\n                    var arregloVarSeleccionadasPorIndicesInicial = []; //arreglo 1)\n                    for (var i = 0; i < arregloVarSeleccionadas.length; i++) {\n                        var posInicial = arregloVarSeleccionadas[i].split(\"]\")[0].split(\"[\")[1];\n                        var existe = false;\n                        for (var j = 0; j < arregloVarSeleccionadasPorIndicesInicial.length; j++) {\n                            var posInicialComparacion = arregloVarSeleccionadasPorIndicesInicial[j][0].split(\"]\")[0].split(\"[\")[1];\n                            if (posInicialComparacion.localeCompare(posInicial) == 0) {\n                                existe = true;\n                                break;\n                            }\n                        };\n                        if(!existe) {\n                            arregloVarSeleccionadasPorIndicesInicial.push([arregloVarSeleccionadas[i]]);\n                        } else {\n                            arregloVarSeleccionadasPorIndicesInicial[j].push(arregloVarSeleccionadas[i]);\n                        }\n                    };\n                    for (var i = 0; i < arregloVarSeleccionadasPorIndicesInicial.length; i++) {\n                        var elMasCorto = '';\n                        for (var j = 0; j < arregloVarSeleccionadasPorIndicesInicial[i].length; j++) {\n                            if(elMasCorto.length == 0) {\n                                elMasCorto = arregloVarSeleccionadasPorIndicesInicial[i][j];\n                            } else if(elMasCorto.length > arregloVarSeleccionadasPorIndicesInicial[i][j].length) {\n                                elMasCorto = arregloVarSeleccionadasPorIndicesInicial[i][j];\n                            }\n                        };\n                        if(elMasCorto.length > 0) {\n                            if(elMasCorto.split(\"[\").length > 2) {\n                                indicesVarSeleccionadas.push( elMasCorto.substring(0, elMasCorto.lastIndexOf(\"[\")) );\n                            } else {\n                                indicesVarSeleccionadas.push( elMasCorto );\n                            }\n                        }\n                    };\n\n                    if(indicesVarSeleccionadas.length > 1) {\n                        //VER QUE DISTANCIA PRIMEROS INDICES DE ARREGLO\n                        var seleccionVariablesContinuas = false;\n                        for (var a = 0; a < indicesVarSeleccionadas.length; a++) {\n                            var variableAEvaluar;\n                            if(indicesVarSeleccionadas[a].split(\"[\").length > 2) {\n                                eval(\"variableAEvaluar = this.state.formula\"+indicesVarSeleccionadas[a].substring(0, indicesVarSeleccionadas[a].lastIndexOf(\"[\")) );\n                            } else {\n                                eval(\"variableAEvaluar = this.state.formula\"+indicesVarSeleccionadas[a]);\n                            }\n                            if(a != 0) {\n                                if (variableAEvaluar.tipo.localeCompare(\"contenedorDivision\") == 0) {\n                                    var variableDeComparacion;\n                                    var indiceOriginal = parseInt(indicesVarSeleccionadas[a].split(\"]\")[0].split(\"[\")[1]);\n                                    eval(\"variableDeComparacion = this.state.formula\"+(indiceOriginal-3));\n                                    if(variableDeComparacion.tipo.localeCompare(\"indicador\") == 0 && variableDeComparacion.posicion.localeCompare(\"derecha\") == 0) {\n                                        seleccionVariablesContinuas = true;\n                                    } else if(variableDeComparacion.tipo.localeCompare(\"variable\") == 0) {\n                                        seleccionVariablesContinuas = true;\n                                    } else {\n                                        seleccionVariablesContinuas = false;\n                                        break;\n                                    }\n                                } else if (variableAEvaluar.tipo.localeCompare(\"variable\") == 0) {\n                                    var variableDeComparacion;\n                                    var indiceOriginal = parseInt(indicesVarSeleccionadas[a].split(\"]\")[0].split(\"[\")[1]);\n                                    eval(\"variableDeComparacion = this.state.formula\"+(indiceOriginal-2));\n                                    if(variableDeComparacion.tipo.localeCompare(\"indicador\") == 0 && variableDeComparacion.posicion.localeCompare(\"derecha\") == 0) {\n                                        seleccionVariablesContinuas = true;\n                                    } else if(variableDeComparacion.tipo.localeCompare(\"variable\") == 0) {\n                                        seleccionVariablesContinuas = true;\n                                    } else {\n                                        seleccionVariablesContinuas = false;\n                                        break;\n                                    }\n                                }\n                            }\n                        };\n\n                        if(seleccionVariablesContinuas) {\n                            //VER QUE TODAS LAS VARIABLES DE LA DIVISION ESTEN SELECCIONADAS\n                            for (var a = 0; a < indicesVarSeleccionadas.length; a++) {\n                                var variableAEvaluar;\n                                if(indicesVarSeleccionadas[a].split(\"[\").length > 2) {\n                                    eval(\"variableAEvaluar = this.state.formula\"+indicesVarSeleccionadas[a].substring(0, indicesVarSeleccionadas[a].lastIndexOf(\"[\")) );\n                                } else {\n                                    eval(\"variableAEvaluar = this.state.formula\"+indicesVarSeleccionadas[a]);\n                                }\n                                if( Array.isArray(variableAEvaluar.valor) ) {\n                                    seleccionValidaVarDivision = true;\n                                    this.verificarSeleccionoTodosDivision(variableAEvaluar);\n                                    if(!seleccionValidaVarDivision) {\n                                        break;\n                                    }\n                                }\n                            };\n                            /*if(seleccionValidaVarDivision) {\n                                //CREANDO ARREGLOS VALORES A INSERTAR\n                                var arregloAInsertarNuevo = [];\n                                for (var a = 0; a < indicesVarSeleccionadas.length; a++) {\n                                    var indiceOriginal = parseInt(indicesVarSeleccionadas[a].split(\"]\")[0].split(\"[\")[1]);\n                                    if( Array.isArray(this.state.formula[indiceOriginal].valor) ) {\n                                        //insertar indicador izquierda\n                                        //var indIzquierdo = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"};\n                                        arregloAInsertarNuevo.push(this.state.formula[indiceOriginal-1]);\n                                        //insertar arreglo / division\n                                        arregloAInsertarNuevo.push(this.state.formula[indiceOriginal]);\n                                        //insertar indicador derecha\n                                        //var indDerecho = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"};\n                                        arregloAInsertarNuevo.push(this.state.formula[indiceOriginal+1]);\n                                        if(a != indicesVarSeleccionadas.length-1) {\n                                            arregloAInsertarNuevo.push(this.state.formula[indiceOriginal+2]);\n                                        }\n                                    } else if( !Array.isArray(this.state.formula[indiceOriginal].valor) && this.state.formula[indiceOriginal].tipo.localeCompare(\"variable\") == 0 ) {\n                                        arregloAInsertarNuevo.push(this.state.formula[indiceOriginal]);\n                                        if(a != indicesVarSeleccionadas.length-1) {\n                                            arregloAInsertarNuevo.push(this.state.formula[indiceOriginal+1]);\n                                        }\n                                    }\n                                };\n                                console.log('arregloAInsertarNuevo');\n                                console.log(arregloAInsertarNuevo);\n                                //ELIMINANDO VARIABLES DEL ARREGLO ORIGINAL\n                                var copyFormula = [...this.state.formula];\n                                var posicionInicialAInsertarNuevaDiv = -1;\n                                console.log('copyFormula antes');\n                                console.log(copyFormula);\n                                for (var a = indicesVarSeleccionadas.length; a >= 0; a--) {\n                                    var indiceOriginal = parseInt(indicesVarSeleccionadas[a].split(\"]\")[0].split(\"[\")[1]);\n                                    if( Array.isArray(this.state.formula[indiceOriginal].valor) ) {\n                                        if(a != indicesVarSeleccionadas.length-1) {\n                                            copyFormula.splice(indiceOriginal+2, 1);\n                                        }\n                                        //quitar indicador derecha\n                                        copyFormula.splice(indiceOriginal+1, 1);\n                                        //quitar arreglo / division\n                                        copyFormula.splice(indiceOriginal, 1);\n                                        //quitar indicador izquierda\n                                        copyFormula.splice(indiceOriginal-1, 1);\n                                        posicionInicialAInsertarNuevaDiv = indiceOriginal-1;\n                                    } else if( !Array.isArray(this.state.formula[indiceOriginal].valor) && this.state.formula[indiceOriginal].tipo.localeCompare(\"variable\") == 0 ) {\n                                        if(a != indicesVarSeleccionadas.length-1) {\n                                            copyFormula.splice(indiceOriginal+1, 1);\n                                        }\n                                        copyFormula.splice(indiceOriginal, 1);\n                                        posicionInicialAInsertarNuevaDiv = indiceOriginal;\n                                    }\n                                };\n                                console.log('posicionInicialAInsertar');\n                                console.log(posicionInicialAInsertar);\n                                console.log('copyFormula despues quitar');\n                                console.log(copyFormula);\n                                for (var i = 0; i < arregloAInsertarNuevo.length; i++) {\n                                    copyFormula.splice(posicionInicialAInsertarNuevaDiv+i, 0, arregloAInsertarNuevo[i]);\n                                };\n                                console.log('copyFormula despues añadir');\n                                console.log(copyFormula);\n                                this.setState({\n                                    formula: copyFormula\n                                });\n                            } else {\n                                alert(\"La selecciones de divisiones tiene que tener todas las variables de la division seleccionada.\")\n                            }*/\n                        } else {\n                            this.props.showMessage(\"Error\", \"La seleccion de variables deben ser seguidas en la formula.\", true, false, {});\n                        }\n                    } else if(indicesVarSeleccionadas.length == 1) {\n                        //VIENDO SI SE SELECCIONO SOLO UNA VARIABLE\n                        if(arregloVarSeleccionadasPorIndicesInicial[0].length == 1) {\n                            //SELECCIONO SOLO UNA VARIABLE\n                            var variableAEvaluar;\n                            if(arregloVarSeleccionadasPorIndicesInicial[0][0].split(\"[\").length > 2) {\n                                eval(\"variableAEvaluar = this.state.formula\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(0, arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\")) );\n                            } else {\n                                eval(\"variableAEvaluar = this.state.formula\"+arregloVarSeleccionadasPorIndicesInicial[0][0]);\n                            }\n                            var seleccionVarEnNumerador = true, esAntesDenominador = true;;\n                            if(variableAEvaluar.length != undefined) {\n                                for (var i = 0; i < variableAEvaluar.length; i++) {\n                                    if(!Array.isArray(variableAEvaluar[i].valor) && variableAEvaluar[i].valor.localeCompare(\"division\\\\\\\\\") == 0) {\n                                        esAntesDenominador = false;\n                                    } else if(!Array.isArray(variableAEvaluar[i].valor) && variableAEvaluar[i].activa && !esAntesDenominador) {\n                                        seleccionVarEnNumerador = false;\n                                        break;\n                                    }\n                                };\n                            }\n                            if(seleccionVarEnNumerador) {\n                                //CREANDO ARREGLOS VALORES A INSERTAR\n                                var copiaAntiguaVariable, arregloAInsertarNuevo = [];\n                                eval(\"copiaAntiguaVariable = this.state.formula\"+arregloVarSeleccionadasPorIndicesInicial[0][0]);\n                                var indIzquierdo = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"};\n                                arregloAInsertarNuevo.push(indIzquierdo);\n                                var signoDivision = {valor: \"division\\\\\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\\\\\"};\n                                var division = {valor: [copiaAntiguaVariable, signoDivision, variableSeleccionada], width: \"90%\", height: \"49%\", tipo: \"contenedorDivision\"};\n                                arregloAInsertarNuevo.push(division);\n                                var indDerecho = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"};\n                                arregloAInsertarNuevo.push(indDerecho);\n                                //ELIMINANDO VARIABLES DEL ARREGLO ORIGINAL\n                                var copyFormula = [...this.state.formula];\n                                /*if(arregloVarSeleccionadasPorIndicesInicial[0][0].split(\"[\").length > 2) {\n                                    var variablePosicionAnterior;\n                                    eval(\"variablePosicionAnterior = copyFormula\"+arregloVarSeleccionadasPorIndicesInicial[0][0]);\n                                    if(variablePosicionAnterior.tipo.localeCompare(\"variable\") == 0) {\n                                        //var arregloConIndicadores = [];\n                                        //var indIzquierdo = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"};\n                                        //var indDerecho = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"};\n                                        //var signoDivision = {valor: \"division\\\\\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\\\\\"};\n                                        //var division = {valor: [copiaAntiguaVariable, signoDivision, variableSeleccionada], width: \"90%\", height: \"49%\", tipo: \"contenedorDivision\"};\n                                        //arregloConIndicadores.push()\n                                        for (var i = arregloAInsertarNuevo.length - 1; i >= 0; i--) {\n                                            if(i == arregloAInsertarNuevo.length - 1) {\n                                                console.log('1.');\n                                                console.log('posInsertar');\n                                                console.log( arregloVarSeleccionadasPorIndicesInicial[0][0].substring(0, arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\")) );\n                                                console.log('arregloAInsertarNuevo[i]');\n                                                console.log(arregloAInsertarNuevo[i]);\n                                                eval(\"copyFormula\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(0, arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\".splice(\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\", 1, arregloAInsertarNuevo[i])\");\n                                            } else {\n                                                console.log('2.');\n                                                console.log('posInsertar');\n                                                console.log( arregloVarSeleccionadasPorIndicesInicial[0][0].substring(0, arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\")) );\n                                                console.log('arregloAInsertarNuevo[i]');\n                                                console.log(arregloAInsertarNuevo[i]);\n                                                eval(\"copyFormula\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(0, arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\".splice(\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\", 0, arregloAInsertarNuevo[i])\");\n                                            }\n                                        };\n                                        //eval(\"copyFormula\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(0, arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\" = arregloAInsertarNuevo\");\n                                    } else if(variablePosicionAnterior.tipo.localeCompare(\"division\\\\\\\\\") == 0) {\n                                        eval(\"copyFormula\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(0, arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\" = arregloAInsertarNuevo\");\n                                    }\n                                } else {\n                                    console.log('3.');\n                                    eval(\"copyFormula\"+arregloVarSeleccionadasPorIndicesInicial[0][0]+\" = arregloAInsertarNuevo\");\n                                }*/\n                                for (var i = arregloAInsertarNuevo.length - 1; i >= 0; i--) {\n                                    if(i == arregloAInsertarNuevo.length - 1) {\n                                        eval(\"copyFormula\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(0, arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\".splice(\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\", 1, arregloAInsertarNuevo[i])\");\n                                    } else {\n                                        eval(\"copyFormula\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(0, arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\".splice(\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\", 0, arregloAInsertarNuevo[i])\");\n                                    }\n                                };\n                                this.agregarFormulaAnchuraYAltura(copyFormula, true);\n                                this.setState({\n                                    operaciones: [],\n                                    formula: copyFormula\n                                });\n                            } else {\n                                this.props.showMessage(\"Error\", \"La variable seleccionada debe ser del numerador.\", true, false, {});\n                            }\n                        } else if(arregloVarSeleccionadasPorIndicesInicial[0].length > 1) {\n                            //SELECCIONO MAS DE UNA VARIABLE\n                            var variableAEvaluar, posicionAInsertarNuevaDivsion;\n                            if(indicesVarSeleccionadas[0].split(\"[\").length > 2) {\n                                eval(\"variableAEvaluar = this.state.formula\"+indicesVarSeleccionadas[0].substring(0, indicesVarSeleccionadas[0].lastIndexOf(\".\")) );\n                                posicionAInsertarNuevaDivsion = indicesVarSeleccionadas[0].substring(0, indicesVarSeleccionadas[0].lastIndexOf(\".\"));\n                            } else {\n                                if(indicesVarSeleccionadas[0].lastIndexOf(\".\") != -1) {\n                                    eval(\"variableAEvaluar = this.state.formula\"+indicesVarSeleccionadas[0].substring(0, indicesVarSeleccionadas[0].lastIndexOf(\".\")) );\n                                    posicionAInsertarNuevaDivsion = indicesVarSeleccionadas[0];\n                                } else {\n                                    eval(\"variableAEvaluar = this.state.formula\"+indicesVarSeleccionadas[0] );\n                                    posicionAInsertarNuevaDivsion = indicesVarSeleccionadas[0];\n                                }\n                            }\n                            seleccionValidaVarDivision = true;\n                            this.verificarSeleccionoTodosDivision(variableAEvaluar.valor);\n                            if(seleccionValidaVarDivision) {\n                                var arregloAInsertarNuevo = [], divisionAInsertar;\n                                if(variableAEvaluar.tipo.localeCompare(\"contenedorDivision\") == 0) {\n                                    var copiaAntiguaVariable = jQuery.extend(true, {}, variableAEvaluar);\n                                    var indIzquierdo = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"};\n                                    var signoDivision = {valor: \"division\\\\\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\\\\\"};\n                                    var indDerecho = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"};\n                                    var division = {valor: [indIzquierdo, copiaAntiguaVariable, indDerecho, signoDivision, variableSeleccionada], width: \"90%\", height: \"49%\", tipo: \"contenedorDivision\"};\n                                    divisionAInsertar = division;\n                                } else {\n                                    var copiaAntiguaVariable = jQuery.extend(true, {}, variableAEvaluar);\n                                    var indIzquierdo = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"};\n                                    arregloAInsertarNuevo.push(indIzquierdo);\n                                    var signoDivision = {valor: \"division\\\\\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\\\\\"};\n                                    var division = {valor: [copiaAntiguaVariable, signoDivision, variableSeleccionada], width: \"90%\", height: \"49%\", tipo: \"contenedorDivision\"};\n                                    arregloAInsertarNuevo.push(division);\n                                    var indDerecho = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"};\n                                    arregloAInsertarNuevo.push(indDerecho);\n                                    divisionAInsertar = arregloAInsertarNuevo;\n                                }\n                                var copyFormula = [...this.state.formula];\n                                if(posicionAInsertarNuevaDivsion.split(\"[\").length > 2) {\n                                    var pos1 = posicionAInsertarNuevaDivsion.substring(posicionAInsertarNuevaDivsion.lastIndexOf(\"[\")+1);\n                                    var pos2 = pos1.substring(0, pos1.lastIndexOf(\"]\"));\n                                    eval(\"copyFormula\"+posicionAInsertarNuevaDivsion.substring(0, posicionAInsertarNuevaDivsion.lastIndexOf(\"[\"))+\".splice(\"+pos2+\", 1, divisionAInsertar)\");\n                                } else {\n                                    eval(\"copyFormula\"+posicionAInsertarNuevaDivsion.substring(0, posicionAInsertarNuevaDivsion.lastIndexOf(\"[\"))+\".splice(\"+posicionAInsertarNuevaDivsion.substring(0, posicionAInsertarNuevaDivsion.lastIndexOf(\".\"))+\", 1, divisionAInsertar)\");\n                                }\n                                //copyFormula[posicionAInsertarNuevaDivsion] = divisionAInsertar;\n                                //eval(\"copyFormula[\"+posicionAInsertarNuevaDivsion+\"] = divisionAInsertar\");\n                                identificadorIndicador = 0;\n                                this.agregarFormulaAnchuraYAltura(copyFormula, true);\n                                this.setState({\n                                    operaciones: [],\n                                    formula: copyFormula\n                                });\n                            } else {\n                                this.props.showMessage(\"Error\", \"Selección de división invalida. Falta selección de numerador.\", true, false, {});\n                            }\n                        }\n                    }\n\n                    //actualizando campos de variables a mostrar segun el campo que se acaba de agregar\n                    if(variableSeleccionada.esFuenteDato) {\n                        //solo mostrar campos que sean de conexiones tabla\n                        var arregloConexionesTemp = [], arregloCamposConexionesTemp = [];\n                        for (var i = 0; i < tablasOriginales.length; i++) {\n                            if(tablasOriginales[i].ID == variableSeleccionada.tablaID) {\n                                arregloConexionesTemp.push(tablasOriginales[i]);\n                                for (var j = 0; j < camposTablasOriginales[i].length; j++) {\n                                    if(arregloCamposConexionesTemp[arregloConexionesTemp.length-1] == undefined)\n                                        arregloCamposConexionesTemp[arregloConexionesTemp.length-1] = [];\n                                    if(tipoOriginal.localeCompare(\"int\") == 0 || tipoOriginal.localeCompare(\"decimal\") == 0) {\n                                        if(camposTablasOriginales[i][j].tipo.localeCompare(\"int\") == 0 || camposTablasOriginales[i][j].tipo.localeCompare(\"decimal\") == 0)\n                                            arregloCamposConexionesTemp[arregloConexionesTemp.length-1].push(camposTablasOriginales[i][j]);\n                                    } else {\n                                        if(camposTablasOriginales[i][j].tipo.localeCompare(tipoOriginal) == 0)\n                                            arregloCamposConexionesTemp[arregloConexionesTemp.length-1].push(camposTablasOriginales[i][j]);\n                                    }\n                                };\n                                break;\n                            }\n                        };\n                        this.setState({\n                            tablas: arregloConexionesTemp,\n                            camposTablas: arregloCamposConexionesTemp,\n                            variablesEscalares: [],\n                            variables: [],\n                            camposVariables: [],\n                            variablesSQL: [],\n                            camposVariablesSQL: []\n                        });\n                    } else {\n                        if(variableSeleccionada.esObjeto) {\n                            var arregloVariablesTemp = [], arregloCamposVariablesTemp = [];\n                            for (var i = 0; i < variablesOriginales.length; i++) {\n                                if(variablesOriginales[i].ID == variableSeleccionada.variableID) {\n                                    arregloVariablesTemp.push(variablesOriginales[i]);\n                                    for (var j = 0; j < camposVariablesOriginales[i].length; j++) {\n                                        if(arregloCamposVariablesTemp[arregloVariablesTemp.length-1] == undefined)\n                                            arregloCamposVariablesTemp[arregloVariablesTemp.length-1] = [];\n                                        if(tipoOriginal.localeCompare(\"int\") == 0 || tipoOriginal.localeCompare(\"decimal\") == 0) {\n                                            if(camposVariablesOriginales[i][j].tipo.localeCompare(\"int\") == 0 || camposVariablesOriginales[i][j].tipo.localeCompare(\"decimal\") == 0)\n                                                arregloCamposVariablesTemp[arregloVariablesTemp.length-1].push(camposVariablesOriginales[i][j]);\n                                        } else {\n                                            if(camposVariablesOriginales[i][j].tipo.localeCompare(tipoOriginal) == 0)\n                                                arregloCamposVariablesTemp[arregloVariablesTemp.length-1].push(camposVariablesOriginales[i][j]);\n                                        }\n                                    };\n                                    break;\n                                }\n                            };\n                            this.setState({\n                                tablas: [],\n                                camposTablas: [],\n                                variablesEscalares: variablesEscalaresOriginales,\n                                variables: arregloVariablesTemp,\n                                camposVariables: arregloCamposVariablesTemp,\n                                variablesSQL: [],\n                                camposVariablesSQL: []\n                            });\n                        } else if(variableSeleccionada.esInstruccionSQL) {\n                            var arregloVariablesSQLTemp = [], arregloCamposVariablesSQLTemp = [];\n                            for (var i = 0; i < variablesOriginalesSQL.length; i++) {\n                                if(variablesOriginalesSQL[i].ID == variableSeleccionada.variableID) {\n                                    arregloVariablesSQLTemp.push(variablesOriginalesSQL[i]);\n                                    for (var j = 0; j < camposVariablesOriginalesSQL[i].length; j++) {\n                                        if(arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1] == undefined)\n                                            arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1] = [];\n                                        if(tipoOriginal.localeCompare(\"int\") == 0 || tipoOriginal.localeCompare(\"decimal\") == 0) {\n                                            if(camposVariablesOriginalesSQL[i][j].tipo.localeCompare(\"int\") == 0 || camposVariablesOriginalesSQL[i][j].tipo.localeCompare(\"decimal\") == 0)\n                                                arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1].push(camposVariablesOriginalesSQL[i][j]);\n                                        } else {\n                                            if(camposVariablesOriginalesSQL[i][j].tipo.localeCompare(tipoOriginal) == 0)\n                                                arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1].push(camposVariablesOriginalesSQL[i][j]);\n                                        }\n                                    };\n                                    break;\n                                }\n                            };\n                            this.setState({\n                                tablas: [],\n                                camposTablas: [],\n                                variablesEscalares: variablesEscalaresOriginales,\n                                variables: [],\n                                camposVariables: [],\n                                variablesSQL: arregloVariablesSQLTemp,\n                                camposVariablesSQL: arregloCamposVariablesSQLTemp\n                            });\n                        } else {\n                            this.setState({\n                                tablas: [],\n                                camposTablas: [],\n                                variablesEscalares: this.state.variablesEscalares,\n                                variables: this.state.variables,\n                                camposVariables: this.state.camposVariables,\n                                variablesSQL: this.state.variablesSQL,\n                                camposVariablesSQL: this.state.camposVariablesSQL\n                            });\n                        }\n                    }\n                    //FIN actualizando campos de variables a mostrar segun el campo que se acaba de agregar\n                }\n            } else if( !$(\"div\").hasClass(\"colorPunteroFormula\") ){\n                this.props.showMessage(\"Error\", \"Seleccione una posición en la fórmula.\", true, false, {});\n            } else if(this.state.formula.length > 0 && $(\"div\").hasClass(\"colorPunteroFormula\") && operacionSeleccionada.valor == undefined) {\n                this.props.showMessage(\"Error\", \"Seleccione una operación.\", true, false, {});\n            }\n        } else {\n            this.props.showMessage(\"Error\", \"Seleccione un campo.\", true, false, {});\n        }\n    }\n\n    verificarSeleccionoTodosDivision (arreglo) {\n        //se verifica que todas las variables esten seleccionadas que esten en el denominador, y tofas las vars de los numeradores\n        if(seleccionValidaVarDivision) {\n            for (var i = 0; i < arreglo.length; i++) {\n                if( !Array.isArray(arreglo[i].valor) ) {\n                    if( arreglo[i].tipo.localeCompare(\"variable\") == 0 && !arreglo[i].activa ) {\n                        seleccionValidaVarDivision = false;\n                        return;\n                    }\n                }\n            };\n            for (var i = 0; i < arreglo.length; i++) {\n                if( Array.isArray(arreglo[i].valor) ) {\n                    this.verificarSeleccionoTodosDivision (arreglo[i].valor);\n                }\n            };\n        } else {\n            return;\n        }\n    }\n\n    crearArregloDeFormula () {\n        if (this.props.esEditarVar && banderaCargaVariablesINICIO == banderaCargaVariablesFIN) {\n            var nuevoArregloFormula = [];\n            this.crearObjetosDeArregloDeFormula(nuevoArregloFormula, 0, this.props.formulaSeleccionadaEdit.formula, \"arregloRef\", this.props.formulaSeleccionadaEdit.formula.length);\n            this.agregarFormulaAnchuraYAltura(nuevoArregloFormula, true);\n            this.setState({\n                formula: nuevoArregloFormula\n            });\n        }\n    }\n\n    crearObjetosDeArregloDeFormula (arregloRef, index, formula, arreglo, ultimoIndice, esArregloOrig) {\n        var esArreglo = esArregloOrig;\n        for (var i = index; i < formula.length; i++) {\n            if(i <= ultimoIndice) {\n                if(formula.charAt(i).localeCompare('(') == 0/* && !this.props.esEditarVar*/) {\n                    //var copiaAntiguaVariable = jQuery.extend(true, {}, variableAEvaluar);\n                    var indIzquierdo = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"};\n                    eval(arreglo+\".push(indIzquierdo)\");\n                    var division = {valor: [], width: \"90%\", height: \"49%\", tipo: \"contenedorDivision\"};\n                    eval(arreglo+\".push(division)\");\n                    var posIndex = eval(arreglo+\".length-1\");\n                    var cierreParentesis = this.encontrarCierreParentesis(i, formula);\n                    this.crearObjetosDeArregloDeFormula(arregloRef, (i+1), formula, arreglo+\"[\"+posIndex+\"].valor\", cierreParentesis);\n                    i += cierreParentesis-1;\n                    /*arreglo.push(indIzquierdo);\n                    var signoDivision = {valor: \"division\\\\\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\\\\\"};\n                    var division = {valor: [], width: \"90%\", height: \"49%\", tipo: \"contenedorDivision\"};\n                    arreglo.push(division);\n                    var indDerecho = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"};\n                    arreglo.push(indDerecho);\n                    this.crearObjetosDeArregloDeFormula(arreglo[arreglo.length-2].valor, (i+1), formula);\n                    var cierreParentesis = this.encontrarCierreParentesis(i, formula);\n                    i += cierreParentesis;*/\n                } else if(formula.charAt(i).localeCompare(\"/\") == 0) {\n                    var signoDivision = {valor: \"division\\\\\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\\\\\"};\n                    eval(arreglo+\".push(signoDivision)\");\n                    //arreglo.push(signoDivision);\n                } else if(this.esOperacionAritmetica(formula.charAt(i))) {\n                    var objeto = {\n                        valor: formula.charAt(i),\n                        operacion: formula.charAt(i),\n                        activa: false,\n                        esFuenteDato: false,\n                        esObjeto: false,\n                        esInstruccionSQL: false,\n                        tipo: \"signo\"\n                    };\n                    eval(arreglo+\".push(objeto)\");\n                    //arreglo.push(objeto);\n                } else if(this.esOperacionCompleja(formula, i)) {\n                    var operacion = this.getPalabraFormula(formula, i);\n                    var cierreParentesis = this.encontrarCierreParentesis(i+operacion.length+1, formula);\n                    var nombre = this.getPalabraFormula(formula, i+operacion.length+1);\n                    eval(arreglo+\".push({valor: nombre, operacion: operacion, activa: false, esFuenteDato: false, esObjeto: false, esInstruccionSQL: false, tipo: 'variable'})\");\n                    //arreglo.push({valor: nombre});\n                    i += (i+operacion.length+1)+(cierreParentesis-1);\n                } else if(this.esVariable(formula, i) !== false && formula.charAt(i).localeCompare(')') != 0) {\n                    var variable = this.esVariable(formula, i);\n                    var operacion = 'FORMULA', texto = variable.valor;\n                    if(this.props.esOperacionSQL)\n                        operacion = this.props.operacionSQL;\n                    if(this.props.esOperacionSQL && this.exitseCodigoOperacion(this.props.operacionSQL)) {\n                        texto = this.retornarCodigoOperacion(this.props.operacionSQL) + \"(\" + variableSeleccionada.valor + \")\";\n                        operacion = this.retornarCodigoOperacion(this.props.operacionSQL);\n                    }\n                    if (this.props.esOperacionSQL && this.props.operacionSQL.localeCompare('ASIG') == 0) {\n                        //cuando se agrega campo a formula para crear operacion ASIG\n                        operacion = 'ASIG';\n                        texto = variable.valor;\n                    }\n                    var objeto = {\n                        valor: variable.valor,\n                        operacion: operacion,\n                        tipo: \"variable\",\n                        activa: false,\n                        esFuenteDato: false,\n                        esObjeto: false,\n                        esInstruccionSQL: false,\n                        nivel: variable.nivel,\n                        texto: texto,\n                        tipoOriginal: variable.tipo\n                    };\n                    eval(arreglo+\".push(objeto)\");\n                    //arreglo.push(objeto);\n                    i+=variable.valor.length-1;\n                } else if( (!isNaN( this.getPalabraFormula(formula, i) ) || isNaN( this.getPalabraFormula(formula, i) )) && formula.charAt(i).localeCompare(')') != 0) {\n                    var variable = this.getPalabraFormula(formula, i);\n                    var operacion = 'FORMULA', texto = variable;\n                    if(this.props.esOperacionSQL)\n                        operacion = this.props.operacionSQL;\n                    if(this.props.esOperacionSQL && this.exitseCodigoOperacion(this.props.operacionSQL)) {\n                        texto = this.retornarCodigoOperacion(this.props.operacionSQL) + \"(\" + variableSeleccionada.valor + \")\";\n                        operacion = this.retornarCodigoOperacion(this.props.operacionSQL);\n                    }\n                    if (this.props.esOperacionSQL && this.props.operacionSQL.localeCompare('ASIG') == 0) {\n                        //cuando se agrega campo a formula para crear operacion ASIG\n                        operacion = 'ASIG';\n                        texto = variable;\n                    }\n                    var tipo;\n                    if(!isNaN( this.getPalabraFormula(formula, i) ))\n                        tipo = 'decimal';\n                    else\n                        tipo = 'varchar';\n                    var objeto = {\n                        valor: variable,\n                        operacion: operacion,\n                        tipo: \"variable\",\n                        activa: false,\n                        esFuenteDato: false,\n                        esObjeto: false,\n                        esInstruccionSQL: false,\n                        nivel: 0,\n                        texto: texto,\n                        tipoOriginal: tipo\n                    };\n                    eval(arreglo+\".push(objeto)\");\n                    i+=variable.toString().length;\n                } else if(formula.charAt(i).localeCompare(')') == 0) {\n                    var indDerecho = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"};\n                    eval(arreglo+\".push(indDerecho)\");\n                }\n            }\n        };\n    }\n\n    encontrarCierreParentesis (index, formula) {\n        var count = 0, contadorPar = 0;\n        for (var i = index; i < formula.length; i++) {\n            if(formula.charAt(i).localeCompare('(') == 0) {\n                contadorPar++;\n            }\n            if(formula.charAt(i).localeCompare(')') == 0) {\n                contadorPar--;\n            }\n            if(formula.charAt(i).localeCompare(')') == 0 && contadorPar == 0) {\n                return count;\n            } else {\n                count++;\n            }\n        }\n        return count;\n    }\n\n    esOperacionAritmetica (caracter) {\n        if(caracter != undefined) {\n            if(caracter.localeCompare('+') == 0) {\n                return true;\n            } else if(caracter.localeCompare('-') == 0) {\n                return true;\n            } else if(caracter.localeCompare('/') == 0) {\n                return true;\n            } else if(caracter.localeCompare('*') == 0) {\n                return true;\n            } else if(caracter.localeCompare('x') == 0) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    esOperacionCompleja (formula, posicionCaracter) {\n        var palabra = this.getPalabraFormula(formula, posicionCaracter);\n        if(palabra.localeCompare('RAND') == 0) {\n            return true;\n        } else if(palabra.localeCompare('DIA') == 0) {\n            return true;\n        } else if(palabra.localeCompare('AVERAJE') == 0) {\n            return true;\n        } else if(palabra.localeCompare('MEDIA') == 0) {\n            return true;\n        } else if(palabra.localeCompare('ASIG') == 0) {\n            return true;\n        } else if(palabra.localeCompare('COUNT') == 0) {\n            return true;\n        } else if(palabra.localeCompare('PROM') == 0) {\n            return true;\n        } else if(palabra.localeCompare('MAX') == 0) {\n            return true;\n        } else if(palabra.localeCompare('MIN') == 0) {\n            return true;\n        } else if(palabra.localeCompare('AUTOSUM') == 0) {\n            return true;\n        } else if(palabra.localeCompare('SUM') == 0) {\n            return true;\n        } else if(palabra.localeCompare('DATE') == 0) {\n            return true;\n        } else if(palabra.localeCompare('MONTH') == 0) {\n            return true;\n        } else if(palabra.localeCompare('YEAR') == 0) {\n            return true;\n        }\n        return false;\n    }\n\n    getPalabraFormula (formula, posicionCaracter) {\n        var variable = '';\n        for (var i = posicionCaracter; i < formula.length; i++) {\n            if(formula.charAt(i) != \"(\" && formula.charAt(i) != \")\" && formula.charAt(i) != \"\\\\\" && \n                formula.charAt(i) != \"/\" && formula.charAt(i) != \"*\" && formula.charAt(i) != \"[\" && \n                formula.charAt(i) != \"√\" && formula.charAt(i) != \"+\" && formula.charAt(i) != \"-\")\n                variable+=formula[i];\n            else\n                return variable;\n        };\n        return variable;\n    }\n\n    esVariable (formula, posicionCaracter) {\n        var palabra = this.getPalabraFormula(formula, posicionCaracter);\n        for (var i = 0; i < tablasOriginales.length; i++) {\n            for (var j = 0; j < camposTablasOriginales[i].length; j++) {\n                if(camposTablasOriginales[i][j].valor.localeCompare(palabra) == 0) {\n                    return camposTablasOriginales[i][j];\n                }\n            };\n        };\n        for (var i = 0; i < variablesEscalaresOriginales.length; i++) {\n            if(variablesEscalaresOriginales[i].valor.localeCompare(palabra) == 0) {\n                return variablesEscalaresOriginales[i];\n            }\n        };\n        for (var i = 0; i < variablesOriginales.length; i++) {\n            for (var j = 0; j < camposVariablesOriginales[i].length; j++) {\n                if(camposVariablesOriginales[i][j].valor.localeCompare(palabra) == 0) {\n                    return camposVariablesOriginales[i][j];\n                }\n            };\n        };\n        for (var i = 0; i < excelOriginales.length; i++) {\n            for (var j = 0; j < camposExcelOriginales[i].length; j++) {\n                if(camposExcelOriginales[i][j].valor.localeCompare(palabra) == 0) {\n                    return camposExcelOriginales[i][j];\n                }\n            };\n        };\n        for (var i = 0; i < formasOriginales.length; i++) {\n            if(formasOriginales[i].valor.localeCompare(palabra) == 0) {\n                return formasOriginales[i];\n            }\n        };\n        for (var i = 0; i < variablesOriginalesSQL.length; i++) {\n            for (var j = 0; j < camposVariablesOriginalesSQL[i].length; j++) {\n                if(camposVariablesOriginalesSQL[i][j].valor.localeCompare(palabra) == 0) {\n                    return camposVariablesOriginalesSQL[i][j];\n                }\n            };\n        };\n        return false;\n    }\n\n    agregarFormulaAnchuraYAltura(arregloFormula, esIndiceCero) {\n        var contadorIndicadoresNumerador = 0, contadorIndicadoresDenominador = 0, contadorSignosNumerador = 0, contadorSignosDenominador = 0, contadorVariablesNumerador = 0, contadorVariablesDenominador = 0, esDespuesDivision = false;\n        for (var i = 0; i < arregloFormula.length; i++) {\n            if( !Array.isArray(arregloFormula[i].valor) && this.esOperacionAritmetica(arregloFormula[i].valor.toString()) ) {\n                if(!esDespuesDivision) {\n                    contadorSignosNumerador++;\n                } else {\n                    contadorSignosDenominador++;\n                }\n            } else if( (!Array.isArray(arregloFormula[i].valor) && arregloFormula[i].valor.toString().localeCompare(\"\\\\\\\\\") != 0 && !this.esOperacionAritmetica(arregloFormula[i].valor.toString()) && arregloFormula[i].valor.toString().localeCompare(\"division\\\\\\\\\") != 0) || Array.isArray(arregloFormula[i].valor) ) {\n                if(!esDespuesDivision) {\n                    contadorVariablesNumerador++;\n                } else {\n                    contadorVariablesDenominador++;\n                }\n            } else if( !Array.isArray(arregloFormula[i].valor) && arregloFormula[i].valor.toString().localeCompare(\"\\\\\\\\\") == 0 ) {\n                arregloFormula[i].identificadorIndicador = identificadorIndicador;\n                identificadorIndicador++;\n                if(!esDespuesDivision) {\n                    contadorIndicadoresNumerador++;\n                } else {\n                    contadorIndicadoresDenominador++;\n                }\n            }\n            if ( !Array.isArray(arregloFormula[i].valor) && arregloFormula[i].valor.toString().localeCompare(\"division\\\\\\\\\") == 0 ) {\n                esDespuesDivision = true;\n            }\n        };\n        var widthNumerador = 100;\n        //var height = 100;\n        var restaTotalIndicadoresNumerador = contadorIndicadoresNumerador * 5;\n        widthNumerador -= restaTotalIndicadoresNumerador;\n        var restaTotalSignosNumerador = contadorSignosNumerador * 2;\n        widthNumerador -= restaTotalSignosNumerador;\n        widthNumerador /= contadorVariablesNumerador;\n\n        var widthDenominador = 100;\n        var restaTotalIndicadoresDenominador = contadorIndicadoresDenominador * 5;\n        widthDenominador -= restaTotalIndicadoresDenominador;\n        var restaTotalSignosDenominador = contadorSignosDenominador * 2;\n        widthDenominador -= restaTotalSignosDenominador;\n        widthDenominador /= contadorVariablesDenominador;\n\n        var esDespuesDivisionWidth = false;\n        for (var i = 0; i < arregloFormula.length; i++) {\n            if( !Array.isArray(arregloFormula[i].valor) && this.esOperacionAritmetica(arregloFormula[i].valor.toString()) ) {\n                arregloFormula[i].width = \"2%\";\n            } else if( (!Array.isArray(arregloFormula[i].valor) && arregloFormula[i].valor.toString().localeCompare(\"\\\\\\\\\") != 0 && !this.esOperacionAritmetica(arregloFormula[i].valor.toString()) && arregloFormula[i].valor.toString().localeCompare(\"division\\\\\\\\\") != 0) /*|| Array.isArray(arregloFormula[i].valor)*/ ) {\n                if(!esDespuesDivisionWidth) {\n                    arregloFormula[i].width = widthNumerador+\"%\";\n                } else {\n                    arregloFormula[i].width = widthDenominador+\"%\";\n                }\n            } else if( !Array.isArray(arregloFormula[i].valor) && arregloFormula[i].valor.toString().localeCompare(\"\\\\\\\\\") == 0 ) {\n                //if(!esIndiceCero) {\n                    arregloFormula[i].width = \"5%\";\n                /*} else {\n                    arregloFormula[i].width = (widthNumerador*0.05)+\"%\";\n                }*/\n            }else if( Array.isArray(arregloFormula[i].valor)) {\n                if(!esIndiceCero) {\n                    arregloFormula[i].width = \"90%\";\n                } else {\n                    arregloFormula[i].width = widthNumerador+\"%\";\n                }\n            }\n            if ( !Array.isArray(arregloFormula[i].valor) && arregloFormula[i].valor.toString().localeCompare(\"division\\\\\\\\\") == 0 ) {\n                arregloFormula[i].height = \"2%\";\n            } else if(!Array.isArray(arregloFormula[i].valor)) {\n                if(!esIndiceCero) {\n                    if(esDespuesDivision)\n                        arregloFormula[i].height = \"49%\";\n                    else\n                        arregloFormula[i].height = \"100%\";\n                } else {\n                    arregloFormula[i].height = \"100%\";\n                }\n            } else if(Array.isArray(arregloFormula[i].valor)) {\n                if(!esIndiceCero) {\n                    if(esDespuesDivision)\n                        arregloFormula[i].height = \"49%\";\n                    else\n                        arregloFormula[i].height = \"100%\";\n                } else {\n                    arregloFormula[i].height = \"100%\";\n                }\n            }\n            if ( !Array.isArray(arregloFormula[i].valor) && arregloFormula[i].valor.toString().localeCompare(\"division\\\\\\\\\") == 0 ) {\n                esDespuesDivisionWidth = true;\n            }\n        };\n        for (var i = 0; i < arregloFormula.length; i++) {\n            if( Array.isArray(arregloFormula[i].valor) ) {\n                this.agregarFormulaAnchuraYAltura(arregloFormula[i].valor, false);\n            }\n        }\n        /*var width = 0, posicionX = 0, posicionY = 0;\n        for (var i = 0; i < nuevoArregloFormula.length; i++) {\n            if (nuevoArregloFormula[i].length == undefined) {\n                //\n            }\n        };\n        this.setState({\n            formula: formulaTemp,\n            anchuraSeccionFormula: width\n        }, console.log(this.state.formula) );*/\n    }\n\n    //esNivelRaiz es bandera para saber si el arreglo que se esta recorriendo es el principal/original nivel 0 del arreglo de formulas\n    getFormulaAndOperationText (arreglo, esNivelRaiz) {\n        for (var i = 0; i < arreglo.length; i++) {\n            if(arreglo[i].tablaID != undefined || arreglo[i].variableID != undefined || arreglo[i].excelVariableID != undefined || arreglo[i].formaVariableID != undefined || arreglo[i].esValorManual != undefined) {\n                if(objetoFormulaParaSacarID.tablaID == undefined && arreglo[i].tablaID != undefined) {\n                    objetoFormulaParaSacarID.tablaID = arreglo[i].tablaID;\n                } else if((objetoFormulaParaSacarID.variableID == undefined && arreglo[i].variableID != undefined) || (objetoFormulaParaSacarID.variableID != undefined && arreglo[i].variableID != undefined && arreglo[i].esObjeto)) {\n                    objetoFormulaParaSacarID.variableID = arreglo[i].variableID;\n                    objetoFormulaParaSacarID.variableCampoID = arreglo[i].variableCampoID;\n                } else if(objetoFormulaParaSacarID.excelArchivoID == undefined && arreglo[i].excelArchivoID != undefined) {\n                    objetoFormulaParaSacarID.excelArchivoID = arreglo[i].excelArchivoID;\n                    objetoFormulaParaSacarID.excelVariableID = arreglo[i].excelVariableID;\n                } else if(objetoFormulaParaSacarID.formaVariableID == undefined && arreglo[i].formaVariableID != undefined) {\n                    objetoFormulaParaSacarID.formaVariableID = arreglo[i].formaVariableID;\n                } else if(objetoFormulaParaSacarID.esValorManual == undefined && arreglo[i].esValorManual) {\n                    objetoFormulaParaSacarID.esValorManual = arreglo[i].esValorManual;\n                }\n            }\n            if( Array.isArray(arreglo[i].valor) ) {\n                this.getFormulaAndOperationText(arreglo[i].valor, false);\n            } else if( !Array.isArray(arreglo[i].valor) ) {\n                if(arreglo[i].operacion != undefined && arreglo[i].operacion.localeCompare(\"ASIG\") == 0) {\n                    formulaGuardarFormula += \"ASIG(\"+arreglo[i].valor+\")\";\n                    operacionGuardarFormula = \"ASIG\";\n                } else if(arreglo[i].operacion != undefined && arreglo[i].operacion.localeCompare(\"COUNT\") == 0) {\n                    formulaGuardarFormula += \"COUNT(\"+arreglo[i].valor+\")\";\n                    operacionGuardarFormula = \"COUNT\";\n                } else if(arreglo[i].operacion != undefined && arreglo[i].operacion.localeCompare(\"PROM\") == 0) {\n                    formulaGuardarFormula += \"PROM(\"+arreglo[i].valor+\")\";\n                    operacionGuardarFormula = \"PROM\";\n                } else if(arreglo[i].operacion != undefined && arreglo[i].operacion.localeCompare(\"MAX\") == 0) {\n                    formulaGuardarFormula += \"MAX(\"+arreglo[i].valor+\")\";\n                    operacionGuardarFormula = \"MAX\";\n                } else if(arreglo[i].operacion != undefined && arreglo[i].operacion.localeCompare(\"MIN\") == 0) {\n                    formulaGuardarFormula += \"MIN(\"+arreglo[i].valor+\")\";\n                    operacionGuardarFormula = \"MIN\";\n                } else if(arreglo[i].operacion != undefined && arreglo[i].operacion.localeCompare(\"AUTOSUM\") == 0) {\n                    formulaGuardarFormula += \"AUTOSUM(\"+arreglo[i].valor+\")\";\n                    operacionGuardarFormula = \"AUTOSUM\";\n                } else if(arreglo[i].operacion != undefined && arreglo[i].operacion.localeCompare(\"FORMULA\") == 0) {\n                    if(arreglo[i].valor.toString().localeCompare(\"\\\\\\\\\") != 0) {\n                        if(!esNivelRaiz && i == 0)\n                            formulaGuardarFormula += \"(\";\n                        formulaGuardarFormula += arreglo[i].valor;\n                        operacionGuardarFormula = \"FORMULA\";\n                    } else if(arreglo[i].valor.toString().localeCompare(\"\\\\\\\\\") == 0 && arreglo[i].posicion.localeCompare(\"derecha\") != 0) {\n                        formulaGuardarFormula += \"(\";\n                    }\n                } else if(arreglo[i].tipo != undefined && arreglo[i].tipo.localeCompare(\"signo\") == 0) {\n                    formulaGuardarFormula += arreglo[i].valor;\n                    operacionGuardarFormula = \"FORMULA\";\n                } else if(arreglo[i].tipo != undefined && arreglo[i].tipo.localeCompare(\"division\\\\\\\\\") == 0) {\n                    formulaGuardarFormula += \"/\";\n                    operacionGuardarFormula = \"FORMULA\";\n                }\n            }\n            if(!esNivelRaiz && i == arreglo.length-1)\n                formulaGuardarFormula += \")\";\n        };\n    }\n\n    iniciarGuardarFormula () {\n        formulaGuardarFormula = '';\n        operacionGuardarFormula = '';\n        objetoFormulaParaSacarID = {};\n        this.getFormulaAndOperationText(this.state.formula, true);\n        /*for (var i = 0; i < this.state.formula.length; i++) {\n            if(this.state.formula[i].operacion != undefined && this.state.formula[i].operacion.localeCompare(\"ASIG\") == 0) {\n                formula += \"ASIG(\"+this.state.formula[i].valor+\")\";\n                operacion = \"ASIG\";\n            } else if(this.state.formula[i].operacion != undefined && this.state.formula[i].operacion.localeCompare(\"COUNT\") == 0) {\n                formula += \"COUNT(\"+this.state.formula[i].valor+\")\";\n                operacion = \"COUNT\";\n            } else if(this.state.formula[i].operacion != undefined && this.state.formula[i].operacion.localeCompare(\"PROM\") == 0) {\n                formula += \"PROM(\"+this.state.formula[i].valor+\")\";\n                operacion = \"PROM\";\n            } else if(this.state.formula[i].operacion != undefined && this.state.formula[i].operacion.localeCompare(\"MAX\") == 0) {\n                formula += \"MAX(\"+this.state.formula[i].valor+\")\";\n                operacion = \"MAX\";\n            } else if(this.state.formula[i].operacion != undefined && this.state.formula[i].operacion.localeCompare(\"MIN\") == 0) {\n                formula += \"MIN(\"+this.state.formula[i].valor+\")\";\n                operacion = \"MIN\";\n            } else if(this.state.formula[i].operacion != undefined && this.state.formula[i].operacion.localeCompare(\"AUTOSUM\") == 0) {\n                formula += \"AUTOSUM(\"+this.state.formula[i].valor+\")\";\n                operacion = \"AUTOSUM\";\n            } else {\n                formula += this.state.formula[i].valor;\n                operacion = \"FORMULA\";\n            }\n        };*/\n        var objetoFormula = {variableID: -1, variableCampoID: -1, numeroDeFormulaDeVariable: -1, tablaID: -1, excelArchivoID: -1, excelVariableID: -1, formaVariableID: -1, formula: formulaGuardarFormula, operacion: operacionGuardarFormula, esValorManual: false};\n        if(objetoFormulaParaSacarID.tablaID != undefined) {\n            objetoFormula.tablaID = objetoFormulaParaSacarID.tablaID;\n        } else if(objetoFormulaParaSacarID.excelArchivoID != undefined) {\n            objetoFormula.excelArchivoID = objetoFormulaParaSacarID.excelArchivoID;\n            objetoFormula.excelVariableID = objetoFormulaParaSacarID.excelVariableID;\n        } else if(objetoFormulaParaSacarID.formaVariableID != undefined) {\n            objetoFormula.formaVariableID = objetoFormulaParaSacarID.formaVariableID;\n        } else if(objetoFormulaParaSacarID.variableID != undefined) {\n            objetoFormula.variableID = objetoFormulaParaSacarID.variableID;\n            objetoFormula.variableCampoID = objetoFormulaParaSacarID.variableCampoID;\n        } else if (objetoFormulaParaSacarID.esValorManual) {\n            objetoFormula.esValorManual = objetoFormulaParaSacarID.esValorManual;\n        }\n        /*console.log('formula');\n        console.log(this.state.formula);*/\n        //this.props.anadirFormula(formula, this.state.formula);\n        variableSeleccionada = {};\n        operacionSeleccionada = {};\n        if(!this.props.esEditarVar) {\n            this.props.anadirFormula(objetoFormula, this.state.formula);\n        } else {\n            this.props.modificarFormula(objetoFormula, this.state.formula);\n        }\n        this.props.showSuccesMessage(\"Error\", \"Fórmula guardada.\");\n        //camposTablas={this.state.camposTablas} variables={this.state.variablesEscalares} objetos={this.state.variables} camposDeObjetos={this.state.camposVariables} excel={this.state.excel} camposDeExcel={this.state.camposDeExcel} formas={this.state.formas} variablesSQL={this.state.variablesSQL} camposVariablesSQL={this.state.camposVariablesSQL}\n        //this.guardarVariable(formula);\n    }\n\n    guardarVariable (formula) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"update \"+this.props.tablaVarEditar+\" set formula = '\"+formula+\"' where ID = \"+this.props.idVarEditar, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    actualizarEstadoInputManual (seleccion) {\n        seleccionManual = seleccion;\n    }\n\n    keyupEstadoInputManual () {\n        var seleccion = $(\"#valorManual\").val();\n        if(!isNaN(seleccion) && this.state.formula.length == 0) {\n            this.setState({\n                operaciones: operacionesNumero\n            });\n        } else if(!isNaN(seleccion) && this.state.formula.length == 0) {\n            this.setState({\n                operaciones: operacionesNumero\n            });\n        } else if(this.isValidDate(new Date(seleccion)) && this.state.formula.length == 0) {\n            this.setState({\n                operaciones: operacionesFecha\n            });\n        } else if(!isNaN(seleccion) && seleccion.toString().length > 0 && this.state.formula.length == 0) {\n            this.setState({\n                operaciones: operacionesCadena\n            });\n        } else if(!isNaN(seleccion) && this.state.formula.length > 0) {\n            this.setState({\n                operaciones: operacionesNumeroMasDeUnValor\n            });\n        } else if(!isNaN(seleccion) && this.state.formula.length > 0) {\n            this.setState({\n                operaciones: operacionesNumeroMasDeUnValor\n            });\n        } else if(!isNaN(seleccion) && seleccion.toString().length > 0 && this.state.formula.length > 0) {\n            this.setState({\n                operaciones: operacionesCadenaMasDeUnValor\n            });\n        }\n    }\n\n    isValidDate (fecha) {\n        if (Object.prototype.toString.call(fecha) === \"[object Date]\") {\n            if (isNaN(fecha.getTime())) {\n                return false;\n            } else {\n                return true;\n            }\n        } else {\n            return false;\n        }\n    }\n\n    loadTablas () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from Tablas\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        tablasOriginales = result.recordset;\n                        banderaCargaVariablesFIN += result.recordset.length;\n                        this.setState({\n                            tablas: result.recordset\n                        }, this.initLoadTablasCampos );\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    initLoadTablasCampos() {\n        var arregloTemp = [];\n        for (var i = 0; i < this.state.tablas.length; i++) {\n            this.loadTablasCampos(this.state.tablas[i].tabla, i, arregloTemp);\n        };\n    }\n\n    loadTablasCampos (nombreTabla, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = '\"+nombreTabla+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var nombreColumnas = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            nombreColumnas.push({valor: result.recordset[i].COLUMN_NAME,tipo: result.recordset[i].DATA_TYPE, esFuenteDato: true, esObjeto: false, esInstruccionSQL: false, tablaID: this.state.tablas[index].ID});\n                        };\n                        if(array[index] == undefined) {\n                            array[index] = [];\n                        }\n                        array[index] = $.merge(array[index], nombreColumnas);\n                        camposTablasOriginales = array;\n                        this.setState({\n                            camposTablas: array\n                        });\n                        banderaCargaVariablesINICIO++;\n                        this.crearArregloDeFormula();\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    loadScalarVariables () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from Variables where esColeccion = 'false'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        banderaCargaVariablesFIN += result.recordset.length;\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            this.loadScalarVariablesFields(result.recordset[i]);\n                        };\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    loadScalarVariablesFields (variable) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from VariablesCampos where variableID = \"+variable.ID, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var temp = [...this.state.variablesEscalares];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            temp.push({valor: result.recordset[i].nombre, tipo: result.recordset[i].tipo, esFuenteDato: false, variableID: variable.ID, variableCampoID: result.recordset[i].ID, esObjeto: variable.esObjeto, esInstruccionSQL: false, nivel: result.recordset[i].nivel})\n                        };\n                        variablesEscalaresOriginales = temp;\n                        this.setState({\n                            variablesEscalares: variablesEscalaresOriginales\n                        } );\n                        banderaCargaVariablesINICIO++;\n                        this.crearArregloDeFormula();\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    loadVariables () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from Variables where esColeccion = 'true'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        variablesOriginales = result.recordset;\n                        banderaCargaVariablesFIN += result.recordset.length;\n                        this.setState({\n                            variables: result.recordset\n                        }, this.initLoadVariablesCampos );\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    initLoadVariablesCampos() {\n        var arregloTemp = [];\n        for (var i = 0; i < this.state.variables.length; i++) {\n            this.loadVariablesCampos(this.state.variables[i], i, arregloTemp);\n        };\n    }\n\n    loadVariablesCampos (variable, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from VariablesCampos where variableID = \"+variable.ID, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var nombreColumnas = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            nombreColumnas.push({valor: result.recordset[i].nombre, tipo: result.recordset[i].tipo, esFuenteDato: false, variableID: variable.ID, variableCampoID: result.recordset[i].ID, esObjeto: variable.esObjeto, esInstruccionSQL: false, nivel: result.recordset[i].nivel});\n                        };\n                        if(array[index] == undefined) {\n                            array[index] = [];\n                        }\n                        array[index] = $.merge(array[index], nombreColumnas);\n                        camposVariablesOriginales = array;\n                        this.setState({\n                            camposVariables: array\n                        });\n                        banderaCargaVariablesINICIO++;\n                        this.crearArregloDeFormula();\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    loadVariablesSQL () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from Variables where esInstruccionSQL = 'true'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        variablesOriginalesSQL = result.recordset;\n                        banderaCargaVariablesFIN += result.recordset.length;\n                        this.setState({\n                            variablesSQL: result.recordset\n                        }, this.initLoadVariablesCamposSQL );\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    initLoadVariablesCamposSQL() {\n        var arregloTemp = [];\n        for (var i = 0; i < this.state.variablesSQL.length; i++) {\n            this.loadVariablesCamposSQL(this.state.variablesSQL[i], i, arregloTemp);\n        };\n    }\n\n    loadVariablesCamposSQL (variable, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from InstruccionSQLCampos where variableID = \"+variable.ID, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var nombreColumnas = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            nombreColumnas.push({valor: result.recordset[i].nombre, tipo: result.recordset[i].tipo, esFuenteDato: false, variableID: variable.ID, variableCampoID: result.recordset[i].ID, esObjeto: variable.esObjeto, esInstruccionSQL: true,  nivel: 0});\n                        };\n                        if(array[index] == undefined) {\n                            array[index] = [];\n                        }\n                        array[index] = $.merge(array[index], nombreColumnas);\n                        camposVariablesOriginalesSQL = array;\n                        this.setState({\n                            camposVariablesSQL: array\n                        });\n                        banderaCargaVariablesINICIO++;\n                        this.crearArregloDeFormula();\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    loadExcel () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ExcelArchivos\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        excelOriginales = result.recordset;\n                        banderaCargaVariablesFIN += result.recordset.length;\n                        this.setState({\n                            excel: result.recordset\n                        }, this.initLoadExcelCampos );\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n    initLoadExcelCampos () {\n        var arregloTemp = [];\n        for (var i = 0; i < this.state.excel.length; i++) {\n            this.loadExcelCampos(this.state.excel[i], i, arregloTemp);\n        };\n    }\n\n    loadExcelCampos (excel, index, array) {\n         const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ExcelVariables where excelArchivoID = \"+excel.ID, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var nombreColumnas = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            var tipo;\n                            if(result.recordset[i].operacion.localeCompare(\"SUM\") == 0 || result.recordset[i].operacion.localeCompare(\"PROM\") == 0 || result.recordset[i].operacion.localeCompare(\"COUNT\") == 0) {\n                                tipo = 'decimal';\n                            } else if(result.recordset[i].operacion.localeCompare(\"MIN\") == 0 || result.recordset[i].operacion.localeCompare(\"MAX\") == 0 || result.recordset[i].operacion.localeCompare(\"ASIG\") == 0) {\n                                if(result.recordset[i].tipo.localeCompare(\"numero\") == 0)\n                                    tipo = 'decimal';\n                                else\n                                    tipo = result.recordset[i].tipo;\n                            }\n                            nombreColumnas.push({valor: result.recordset[i].nombre, tipo: tipo, esFuenteDato: false, excelArchivoID: excel.ID, excelVariableID: result.recordset[i].ID, esObjeto: false, esInstruccionSQL: false, nivel: 0});\n                        };\n                        if(array[index] == undefined) {\n                            array[index] = [];\n                        }\n                        array[index] = $.merge(array[index], nombreColumnas);\n                        camposExcelOriginales = array;\n                        this.setState({\n                            camposDeExcel: array\n                        });\n                        banderaCargaVariablesINICIO++;\n                        this.crearArregloDeFormula();\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    loadFormas () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from FormasVariables\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var nombreColumnas = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            nombreColumnas.push({valor: result.recordset[i].nombre, tipo: result.recordset[i].tipo, esFuenteDato: false, formaVariableID: result.recordset[i].ID, esObjeto: false, esInstruccionSQL: false, nivel: 0});\n                        };\n                        formasOriginales = nombreColumnas;\n                        this.setState({\n                            formas: nombreColumnas\n                        });\n                        banderaCargaVariablesINICIO++;\n                        banderaCargaVariablesFIN++;\n                        this.crearArregloDeFormula();\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n    \n    render() {\n        return (\n            <div>\n                {this.props.navbar}\n                <div className={\"row\"}>\n                    <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                        <div className={\"card\"}>\n                            <div className={\"border-top border-bottom\"} style={{width: \"100%\"}}>\n                                <div style={{width: \"100%\"}}>\n                                    <div className={\"font-20\"} style={{height: \"45vh\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", backgroundColor: \"#e6e6f2\", color: \"black\", overflowWrap: \"break-word\", wordWrap: \"break-word\", whiteSpace: \"-moz-pre-wrap\", whiteSpace: \"pre-wrap\"}}>\n                                        <Equacion formula={this.state.formula} clickEnFormula={this.clickEnFormula} height={\"100%\"} width={\"100%\"} isFirstRow={true} posicionEnArreglo={\"0\"}></Equacion>\n                                    </div>\n                                </div>\n                                <div style={{width: \"100%\", height: \"250px\"}}>\n                                    <div style={{width: \"50%\", height: \"100%\", float: \"left\", borderRight: \"1px solid black\", borderTop: \"1px solid black\", borderBottom: \"1px solid black\", padding: \"0% 1%\", overflowY: \"scroll\"}}>\n                                        <div className={\"font-18\"} style={{width: \"100%\", height: \"20%\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                                            Seleccionar Variable\n                                        </div>\n                                        <div className={\"row\"} style={{height: \"100%\"}}>\n                                            <ListasSeleVariableContenedorVariable esOperacion={false} mostrarRosa={true}  tablas={this.state.tablas} camposTablas={this.state.camposTablas} variables={this.state.variablesEscalares} objetos={this.state.variables} camposDeObjetos={this.state.camposVariables} excel={this.state.excel} camposDeExcel={this.state.camposDeExcel} formas={this.state.formas} variablesSQL={this.state.variablesSQL} camposVariablesSQL={this.state.camposVariablesSQL} seleccionarMultiple={false} retornoSeleccionVariable={this.retornoSeleccionCampo} returnStateManualValue={this.actualizarEstadoInputManual} keyupEstadoInputManual={this.keyupEstadoInputManual}></ListasSeleVariableContenedorVariable>\n                                        </div>\n                                    </div>\n                                    <div style={{width: \"50%\", height: \"100%\", float: \"right\", borderTop: \"1px solid black\", borderBottom: \"1px solid black\", padding: \"0% 1%\", overflowY: \"scroll\"}}>\n                                        <div className={\"font-18\"} style={{width: \"100%\", height: \"20%\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                                            Seleccionar Operacion\n                                        </div>\n                                        <div className={\"row\"} style={{height: \"100%\"}}>\n                                            <ListasSeleVariableContenedorOperador esOperacion={true} mostrarRosa={false} operaciones={this.state.operaciones} seleccionarMultiple={false} retornoSeleccionVariable={this.retornoSeleccionOperacion}></ListasSeleVariableContenedorOperador>\n                                        </div>\n                                    </div>\n                                </div>\n                                <br/>\n                                <div className={\"text-center\"} style={{width: \"100%\"}}>\n                                    <a href=\"#\" className=\"btn btn-primary active\" onClick={this.agregarAFormula}>Agregar Fórmula</a>\n                                </div>\n                                <br/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <br/>\n                <div className={\"row\"}>\n                    <a className={\"btn btn-success btn-block btnWhiteColorHover font-bold font-20\"} style={{color: \"#fafafa\"}} onClick={this.iniciarGuardarFormula}>Guardar Fórmula</a>\n                </div>\n                <br/>\n            </div>\n        );\n    }\n}\n"],"file":"Formula.js"}