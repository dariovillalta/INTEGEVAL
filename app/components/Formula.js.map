{"version":3,"sources":["components/Formula.js"],"names":["operaciones","operacionesNumero","valor","tipo","operacionesNumeroMasDeUnValor","operacionesFecha","operacionesBoolean","operacionesCadena","operacionesCadenaMasDeUnValor","variablesEscalares","objetos","camposDeObjetos","anchuraSeccionFormula","tablasOriginales","camposTablasOriginales","variablesEscalaresOriginales","variablesOriginales","camposVariablesOriginales","excelOriginales","camposExcelOriginales","formasOriginales","variablesOriginalesSQL","camposVariablesOriginalesSQL","variableSeleccionada","operacionSeleccionada","posicionDeIndicadorSeleccionadoEnFormula","posicionIndicador","posicionIndicadorAgregarEnFormula","operacionGuardarFormula","formulaGuardarFormula","seleccionValidaVarDivision","identificadorIndicador","seleccionManual","banderaCargaVariablesINICIO","banderaCargaVariablesFIN","objetoFormulaParaSacarID","Formula","props","state","formula","tablas","camposTablas","variables","camposVariables","excel","camposDeExcel","formas","variablesSQL","camposVariablesSQL","clickEnFormula","bind","retornoSeleccionCampo","retornoSeleccionOperacion","existeReglaAsignacion","retornarCodigoOperacion","exitseCodigoOperacion","agregarAFormula","verificarSeleccionoTodosDivision","crearArregloDeFormula","crearObjetosDeArregloDeFormula","encontrarCierreParentesis","esOperacionAritmetica","esOperacionCompleja","getPalabraFormula","esVariable","agregarFormulaAnchuraYAltura","findVariableInFormula","clearSelectsInFormulaIndicadores","clearSelectsInFormulaVariables","findSelectedIndicador","getSelectedVariables","getFormulaAndOperationText","iniciarGuardarFormula","guardarVariable","actualizarEstadoInputManual","keyupEstadoInputManual","isValidDate","loadTablas","initLoadTablasCampos","loadTablasCampos","loadScalarVariables","loadScalarVariablesFields","loadVariables","initLoadVariablesCampos","loadVariablesCampos","loadVariablesSQL","initLoadVariablesCamposSQL","loadVariablesCamposSQL","loadExcel","initLoadExcelCampos","loadExcelCampos","loadFormas","esEditarVar","console","log","arreglo","variable","posicionEnArreglo","index","i","length","Array","isArray","localeCompare","posicion","$","removeClass","addClass","activa","undefined","hasClass","arregloVarSeleccionadas","push","e","nombre","copyTemp","setState","temp","tempVar","eval","esOperacion","posicionTabla","columnaSeleccionada","jQuery","extend","tipoVariable","nivelRegla","nivel","actualizarNivelNuevaRegla","operacion","retornoOperacion","codigo","val","isNaN","parseFloat","esFuenteDato","esObjeto","esInstruccionSQL","esValorManual","tipoOriginal","retornoCampo","formulaTemp","texto","varAInsertar","concat","self","setTimeout","arregloConexionesTemp","arregloCamposConexionesTemp","ID","tablaID","j","arregloVariablesTemp","arregloCamposVariablesTemp","variableID","arregloVariablesSQLTemp","arregloCamposVariablesSQLTemp","ultimoIndice1","substring","lastIndexOf","ultimoIndice2","parseInt","indiceVarAEliminar1","indiceVarAEliminar2","indiceVarAEliminarAnterior1","indiceVarAEliminarAnterior2","variableAEliminar","variableAntesEliminar","copyFormula","alert","posicionArreglo","ultimoIndice","noHaLeidoUltimoIndice","charAt","indicadorSeleccionado","split","pos1","pos2","esUltimoIndice","indicesVarSeleccionadas","arregloVarSeleccionadasPorIndicesInicial","posInicial","existe","posInicialComparacion","elMasCorto","seleccionVariablesContinuas","a","variableAEvaluar","variableDeComparacion","indiceOriginal","seleccionVarEnNumerador","esAntesDenominador","copiaAntiguaVariable","arregloAInsertarNuevo","indIzquierdo","width","height","signoDivision","division","indDerecho","posicionAInsertarNuevaDivsion","divisionAInsertar","nuevoArregloFormula","formulaSeleccionadaEdit","cierreParentesis","objeto","esOperacionSQL","operacionSQL","count","caracter","posicionCaracter","palabra","arregloFormula","esIndiceCero","contadorIndicadoresNumerador","contadorIndicadoresDenominador","contadorSignosNumerador","contadorSignosDenominador","contadorVariablesNumerador","contadorVariablesDenominador","esDespuesDivision","toString","widthNumerador","restaTotalIndicadoresNumerador","restaTotalSignosNumerador","widthDenominador","restaTotalIndicadoresDenominador","restaTotalSignosDenominador","esDespuesDivisionWidth","esNivelRaiz","excelVariableID","formaVariableID","variableCampoID","excelArchivoID","objetoFormula","numeroDeFormulaDeVariable","anadirFormula","modificarFormula","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","tablaVarEditar","idVarEditar","result","rollback","commit","seleccion","Date","fecha","Object","prototype","call","getTime","recordset","arregloTemp","tabla","nombreTabla","array","nombreColumnas","COLUMN_NAME","DATA_TYPE","merge","navbar","display","alignItems","justifyContent","backgroundColor","color","overflowWrap","wordWrap","whiteSpace","borderRight","borderTop","borderBottom","padding","overflowY","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport sql from 'mssql';\n\nimport Equacion from './Equacion.js';\nimport ListasSeleVariableContenedorVariable from './ListasSeleVariableContenedorVariable.js';\nimport ListasSeleVariableContenedorOperador from './ListasSeleVariableContenedorOperador.js';\n\n//const campos = [{valor: \"idCLiente\", tipo: \"variable\"}, {valor: \"saldoTotal\", tipo: \"variable\"}, {valor: \"tipoPersona\", tipo: \"variable\"}, {valor: \"impuestosTotal\", tipo: \"variable\"}, {valor: \"nombreCliente\", tipo: \"variable\"}, {valor: \"diasMora\", tipo: \"variable\"}, {valor: \"mesMora\", tipo: \"variable\"}];\n//var tablas = [], camposTablas = [];\nconst operaciones = [];\n//const operaciones = [{valor: \"Asignar\", tipo: \"signo\"}, {valor: \"Contar\", tipo: \"signo\"}];\nconst operacionesNumero = [{valor: \"Contar\", tipo: \"signo\"}, {valor: \"Calcular Promedio\", tipo: \"signo\"}, {valor: \"Máximo\", tipo: \"signo\"}, {valor: \"Mínimo\", tipo: \"signo\"}, {valor: \"Autosumar\", tipo: \"signo\"}];\nconst operacionesNumeroMasDeUnValor = [{valor: \"+\", tipo: \"signo\"}, {valor: \"-\", tipo: \"signo\"}, {valor: \"*\", tipo: \"signo\"}, {valor: \"/\", tipo: \"signo\"}];\nconst operacionesFecha = [{valor: \"Contar\", tipo: \"signo\"}, {valor: \"Máximo\", tipo: \"signo\"}, {valor: \"Mínimo\", tipo: \"signo\"}, {valor: \"Día\", tipo: \"signo\"}, {valor: \"Mes\", tipo: \"signo\"}, {valor: \"Año\", tipo: \"signo\"}];\nconst operacionesBoolean = [{valor: \"Contar\", tipo: \"signo\"}];\nconst operacionesCadena = [{valor: \"Contar\", tipo: \"signo\"}];\nconst operacionesCadenaMasDeUnValor = [{valor: \"+\", tipo: \"signo\"}];\n/*const operaciones = [{valor: \"Asignar Valor Único\", tipo: \"signo\"}, {valor: \"Asignar Valor Único Si\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples Si\", tipo: \"signo\"}, {valor: \"Contar\", tipo: \"signo\"}, {valor: \"Contar Si\", tipo: \"signo\"}];\nconst operacionesNumero = [{valor: \"Asignar Valor Único\", tipo: \"signo\"}, {valor: \"Asignar Valor Único Si\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples Si\", tipo: \"signo\"}, {valor: \"Contar\", tipo: \"signo\"}, {valor: \"Contar Si\", tipo: \"signo\"}, {valor: \"Calcular Promedio\", tipo: \"signo\"}, {valor: \"Máximo\", tipo: \"signo\"}, {valor: \"Mínimo\", tipo: \"signo\"}, {valor: \"+\", tipo: \"signo\"}, {valor: \"-\", tipo: \"signo\"}, {valor: \"*\", tipo: \"signo\"}, {valor: \"/\", tipo: \"signo\"}];\nconst operacionesFecha = [{valor: \"Asignar Valor Único\", tipo: \"signo\"}, {valor: \"Asignar Valor Único Si\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples Si\", tipo: \"signo\"}, {valor: \"Contar\", tipo: \"signo\"}, {valor: \"Contar Si\", tipo: \"signo\"}];\nconst operacionesBoolean = [{valor: \"Asignar Valor Único\", tipo: \"signo\"}, {valor: \"Asignar Valor Único Si\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples Si\", tipo: \"signo\"}, {valor: \"Contar\", tipo: \"signo\"}, {valor: \"Contar Si\", tipo: \"signo\"}];\nconst operacionesCadena = [{valor: \"Asignar Valor Único\", tipo: \"signo\"}, {valor: \"Asignar Valor Único Si\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples\", tipo: \"signo\"}, {valor: \"Asignar Valor Multiples Si\", tipo: \"signo\"}, {valor: \"Contar\", tipo: \"signo\"}, {valor: \"Contar Si\", tipo: \"signo\"}, {valor: \"+\", tipo: \"signo\"}];*/\n\nconst variablesEscalares = [];\nconst objetos = [];\nconst camposDeObjetos = [];\nconst anchuraSeccionFormula = [\"100%\", \"50\", \"33%\", \"25%\", \"25%\", \"17%\", \"15%\", \"13%\", \"11%\", \"10%\", \"9%\"];\n\nvar tablasOriginales = [], camposTablasOriginales = [], variablesEscalaresOriginales = [], variablesOriginales = [], camposVariablesOriginales = [], excelOriginales = [], camposExcelOriginales = [], formasOriginales = [], variablesOriginalesSQL = [], camposVariablesOriginalesSQL = [];\n\nvar variableSeleccionada = [], operacionSeleccionada = [], posicionDeIndicadorSeleccionadoEnFormula = '', posicionIndicador ='';\n\nvar posicionIndicadorAgregarEnFormula = '';\n\nvar operacionGuardarFormula = '';\nvar formulaGuardarFormula = '';\n\n//bandera para ver si seleccion de variables para agregar division es correcta\nvar seleccionValidaVarDivision = true;\n//contador para poner identificadorIndicador\nvar identificadorIndicador = 0;\n\n//bandera para ver si selecciono\nvar seleccionManual = false;\n\n//bandera para saber si ya trajo todas las variables\nvar banderaCargaVariablesINICIO = 0;\nvar banderaCargaVariablesFIN = 0;\n\n//objeto para sacar las tablas de los valores de formula\nvar objetoFormulaParaSacarID = {};\n\n// diferencia posicionDeIndicadorSeleccionadoEnFormula y posicionIndicadorAgregarEnFormula\n//se usan en diferentes metodos, posicionDeIndicadorSeleccionadoEnFormula en clickFormula, y posicionIndicadorAgregarEnFormula para agregar var a formula\n\n/*var arrregloPrueba = [  {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"},\n                        {valor: [{valor: \"a\", width: \"100%\", height: \"49%\", tipo: \"variable\"},\n                            {valor: \"division\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\"},\n                            {valor: \"b\", width: \"100%\", height: \"49%\", tipo: \"variable\"}],\n                        width: \"90%\", height: \"100%\", tipo: \"contenedorDivision\"},\n                        {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"}];\nX = (SALDOS_MAYO)/(CLIENTES_RIESGOS)    |     (SONDEO_FINAL)/((CLIENTES_RIESGOS+FINALES_X)-B)\nINPUT: NOMBRE VARIABLE, CADA TECLA SE METE A ARREGLO A MOSTRAR, QUE ES INPUT EN MAYUSCULA SI ES LETRA, CADA ESPACIO ES _*/\n/*var arrregloPrueba = [\n                        {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"},\n                            {valor: [\n                                {valor: \"a\", width: \"49%\", height: \"49%\", tipo: \"variable\"},\n                                {valor: \"-\", width: \"2%\", height: \"49%\", tipo: \"signo\"},\n                                {valor: \"m\", width: \"49%\", height: \"49%\", tipo: \"variable\"},\n                                {valor: \"division\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\"},\n                                {valor: \"b\", width: \"100%\", height: \"49%\", tipo: \"variable\"}],\n                            width: \"90%\", height: \"100%\", tipo: \"contenedorDivision\"},\n                        {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"}];*/\n//var arrregloPrueba = [{valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"}, {valor: [{valor: \"a\", width: \"49%\", height: \"49%\", tipo: \"variable\"}, {valor: \"-\", width: \"2%\", height: \"49%\", tipo: \"signo\"}, {valor: \"m\", width: \"49%\", height: \"49%\", tipo: \"variable\"}, {valor: \"division\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\"}, {valor: \"b\", width: \"32%\", height: \"49%\", tipo: \"variable\"}, {valor: \"+\", width: \"2%\", height: \"49%\", tipo: \"signo\"}, {valor: \"zsasasas\", width: \"32%\", height: \"49%\", tipo: \"variable\"}, {valor: \"*\", width: \"2%\", height: \"49%\", tipo: \"signo\"}, {valor: \"d\", width: \"32%\", height: \"49%\", tipo: \"variable\"}], width: \"90%\", height: \"100%\", tipo: \"contenedorDivision\"}, {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"}];\n//var arrregloPrueba = [{valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"}, {valor: \"a\", width: \"90%\", height: \"100%\", tipo: \"variable\"}, {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"}];\n/*var arrregloPrueba = [\n                        {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\", identificadorIndicador: 0}, \n                            {valor: [\n                                {valor: \"a\", width: \"44%\", height: \"49%\", tipo: \"variable\"},\n                                {valor: \"-\", width: \"2%\", height: \"49%\", tipo: \"signo\"},\n                                {valor: \"\\\\\", width: \"5%\", height: \"49%\", tipo: \"indicador\", posicion: \"izquierda\", identificadorIndicador: 1},\n                                    {valor: [\n                                        {valor: \"saldo\", width: \"100%\", height: \"49%\", tipo: \"variable\"},\n                                        {valor: \"division\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\"},\n                                        {valor: \"local\", width: \"100%\", height: \"49%\", tipo: \"variable\"}]\n                                    , width: \"44%\", height: \"49%\", tipo: \"contenedorDivision\"},\n                                {valor: \"\\\\\", width: \"5%\", height: \"49%\", tipo: \"indicador\", posicion: \"derecha\", identificadorIndicador: 2},\n                                {valor: \"division\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\"},\n                                {valor: \"b\", width: \"100%\", height: \"49%\", tipo: \"variable\"}]\n                            , width: \"90%\", height: \"100%\", tipo: \"contenedorDivision\"},\n                        {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\", identificadorIndicador: 3}];*/\n/*var arrregloPrueba = [\n                        {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\", identificadorIndicador: 0},\n                        {valor: [\n                            {valor: \"\\\\\", width: \"5%\", height: \"49%\", tipo: \"indicador\", posicion: \"izquierda\", identificadorIndicador: 1},\n                            {valor: [\n                                {valor: \"a\", width: \"100%\", height: \"49%\", tipo: \"variable\"},\n                                {valor: \"division\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\"},\n                                {valor: \"b\", width: \"100%\", height: \"49%\", tipo: \"variable\"}]\n                            , width: \"90%\", height: \"49%\", tipo: \"contenedorDivision\"},\n                            {valor: \"\\\\\", width: \"5%\", height: \"49%\", tipo: \"indicador\", posicion: \"derecha\", identificadorIndicador: 2},\n                            {valor: \"division\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\"},\n                            {valor: \"c\", width: \"100%\", height: \"49%\", tipo: \"variable\"},]\n                        , width: \"90%\", height: \"100%\", tipo: \"contenedorDivision\"},\n                        {valor: \"\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\", identificadorIndicador: 3}];*/\n\nexport default class Formula extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            formula: [],\n            tablas: [],\n            camposTablas: [],\n            variablesEscalares: [],\n            variables: [],\n            camposVariables: [],\n            operaciones: [],\n            excel: [],\n            camposDeExcel: [],\n            formas: [],\n            variablesSQL: [],\n            camposVariablesSQL: []\n        }\n        this.clickEnFormula = this.clickEnFormula.bind(this);\n        this.retornoSeleccionCampo = this.retornoSeleccionCampo.bind(this);\n        this.retornoSeleccionOperacion = this.retornoSeleccionOperacion.bind(this);\n        this.existeReglaAsignacion = this.existeReglaAsignacion.bind(this);\n        this.retornarCodigoOperacion = this.retornarCodigoOperacion.bind(this);\n        this.exitseCodigoOperacion = this.exitseCodigoOperacion.bind(this);\n        this.agregarAFormula = this.agregarAFormula.bind(this);\n        this.verificarSeleccionoTodosDivision = this.verificarSeleccionoTodosDivision.bind(this);\n        this.crearArregloDeFormula = this.crearArregloDeFormula.bind(this);\n        this.crearObjetosDeArregloDeFormula = this.crearObjetosDeArregloDeFormula.bind(this);\n        this.encontrarCierreParentesis = this.encontrarCierreParentesis.bind(this);\n        this.esOperacionAritmetica = this.esOperacionAritmetica.bind(this);\n        this.esOperacionCompleja = this.esOperacionCompleja.bind(this);\n        this.getPalabraFormula = this.getPalabraFormula.bind(this);\n        this.esVariable = this.esVariable.bind(this);\n        this.agregarFormulaAnchuraYAltura = this.agregarFormulaAnchuraYAltura.bind(this);\n        this.findVariableInFormula = this.findVariableInFormula.bind(this);\n        this.clearSelectsInFormulaIndicadores = this.clearSelectsInFormulaIndicadores.bind(this);\n        this.clearSelectsInFormulaVariables = this.clearSelectsInFormulaVariables.bind(this);\n        this.findSelectedIndicador = this.findSelectedIndicador.bind(this);\n        this.getSelectedVariables = this.getSelectedVariables.bind(this);\n        this.getFormulaAndOperationText = this.getFormulaAndOperationText.bind(this);\n        this.iniciarGuardarFormula = this.iniciarGuardarFormula.bind(this);\n        this.guardarVariable = this.guardarVariable.bind(this);\n        this.actualizarEstadoInputManual = this.actualizarEstadoInputManual.bind(this);\n        this.keyupEstadoInputManual = this.keyupEstadoInputManual.bind(this);\n        this.isValidDate = this.isValidDate.bind(this);\n        this.loadTablas = this.loadTablas.bind(this);\n        this.initLoadTablasCampos = this.initLoadTablasCampos.bind(this);\n        this.loadTablasCampos = this.loadTablasCampos.bind(this);\n        this.loadScalarVariables = this.loadScalarVariables.bind(this);\n        this.loadScalarVariablesFields = this.loadScalarVariablesFields.bind(this);\n        this.loadVariables = this.loadVariables.bind(this);\n        this.initLoadVariablesCampos = this.initLoadVariablesCampos.bind(this);\n        this.loadVariablesCampos = this.loadVariablesCampos.bind(this);\n        this.loadVariablesSQL = this.loadVariablesSQL.bind(this);\n        this.initLoadVariablesCamposSQL = this.initLoadVariablesCamposSQL.bind(this);\n        this.loadVariablesCamposSQL = this.loadVariablesCamposSQL.bind(this);\n        this.loadExcel = this.loadExcel.bind(this);\n        this.initLoadExcelCampos = this.initLoadExcelCampos.bind(this);\n        this.loadExcelCampos = this.loadExcelCampos.bind(this);\n        this.loadFormas = this.loadFormas.bind(this);\n        if(this.props.esEditarVar) {\n            banderaCargaVariablesINICIO = 0;\n            banderaCargaVariablesFIN = 0;\n            console.log(this.props)\n        }\n        variableSeleccionada = [];\n        operacionSeleccionada = [];\n    }\n\n    componentDidMount() {\n        /*console.log('arrregloPrueba');\n        console.log(arrregloPrueba);\n        this.findVariableInFormula(arrregloPrueba, \"b\", '');\n        console.log( posicionDeIndicadorSeleccionadoEnFormula );*/\n        //this.getFormula();\n        this.loadTablas();\n        this.loadScalarVariables();\n        this.loadVariables();\n        this.loadVariablesSQL();\n        this.loadExcel();\n        this.loadFormas();\n    }\n\n    findVariableInFormula (arreglo, variable, posicionEnArreglo, index) {\n        for (var i = 0; i < arreglo.length; i++) {\n            if( !Array.isArray(arreglo[i].valor) && arreglo[i].valor.localeCompare(variable) == 0 && index == i) {\n                posicionDeIndicadorSeleccionadoEnFormula = posicionEnArreglo+'['+i+']';\n            } else if( Array.isArray(arreglo[i].valor) ) {\n                this.findVariableInFormula (arreglo[i].valor, variable, posicionEnArreglo+'['+i+'].valor', index);\n            }\n        };\n    }\n\n    clearSelectsInFormulaIndicadores (arreglo) {\n        for (var i = 0; i < arreglo.length; i++) {\n            if( !Array.isArray(arreglo[i].valor)) {\n                if(arreglo[i].tipo.localeCompare(\"indicador\") == 0) {\n                    if(arreglo[i].posicion.localeCompare(\"izquierda\") == 0) {\n                        $(\"#indicadorIzquierdaDiv\"+arreglo[i].identificadorIndicador).removeClass(\"colorPunteroFormula\");\n                        $(\"#indicadorIzquierdaDiv\"+arreglo[i].identificadorIndicador).removeClass(\"blink\");\n                        $(\"#indicadorIzquierdaDiv\"+arreglo[i].identificadorIndicador).addClass(\"highlightFormulaBackground\");\n                    } else {\n                        $(\"#indicadorDerechaDiv\"+arreglo[i].identificadorIndicador).removeClass(\"colorPunteroFormula\");\n                        $(\"#indicadorDerechaDiv\"+arreglo[i].identificadorIndicador).removeClass(\"blink\");\n                        $(\"#indicadorDerechaDiv\"+arreglo[i].identificadorIndicador).addClass(\"highlightFormulaBackground\");\n                    }\n                } else {\n                    $(\"#indicadorIzquierda\"+arreglo[i].valor+i).removeClass(\"colorPunteroFormula\");\n                    $(\"#indicadorIzquierda\"+arreglo[i].valor+i).removeClass(\"blink\");\n                    $(\"#indicadorIzquierda\"+arreglo[i].valor+i).addClass(\"highlightFormulaBackground\");\n                    $(\"#indicadorDerecha\"+arreglo[i].valor+i).removeClass(\"colorPunteroFormula\");\n                    $(\"#indicadorDerecha\"+arreglo[i].valor+i).removeClass(\"blink\");\n                    $(\"#indicadorDerecha\"+arreglo[i].valor+i).addClass(\"highlightFormulaBackground\");\n                }\n            } else if( Array.isArray(arreglo[i].valor) ) {\n                this.clearSelectsInFormulaIndicadores (arreglo[i].valor);\n            }\n        };\n    }\n\n    clearSelectsInFormulaVariables (arreglo) {\n        for (var i = 0; i < arreglo.length; i++) {\n            if( !Array.isArray(arreglo[i].valor) && arreglo[i].activa != undefined) {\n                arreglo[i].activa = false;\n            } else if( Array.isArray(arreglo[i].valor) ) {\n                this.clearSelectsInFormulaVariables (arreglo[i].valor);\n            }\n        };\n    }\n\n    findSelectedIndicador (arreglo, posicionEnArreglo) {\n        for (var i = 0; i < arreglo.length; i++) {\n            if( !Array.isArray(arreglo[i].valor)) {\n                if(arreglo[i].tipo.localeCompare(\"indicador\") == 0) {\n                    if(arreglo[i].posicion.localeCompare(\"izquierda\") == 0) {\n                        if ($(\"#indicadorIzquierdaDiv\"+arreglo[i].identificadorIndicador).hasClass(\"colorPunteroFormula\") ) {\n                            posicionIndicadorAgregarEnFormula = posicionEnArreglo+'['+i+'].valor';\n                        }\n                    } else {\n                        if ($(\"#indicadorDerechaDiv\"+arreglo[i].identificadorIndicador).hasClass(\"colorPunteroFormula\") ) {\n                            posicionIndicadorAgregarEnFormula = posicionEnArreglo+'['+i+'].valor';\n                        }\n                    }\n                } else {\n                    if ($(\"#indicadorIzquierda\"+arreglo[i].valor+i).hasClass(\"colorPunteroFormula\") ) {\n                        posicionIndicadorAgregarEnFormula = posicionEnArreglo+'['+i+'].valor';\n                    }\n                    if ($(\"#indicadorDerecha\"+arreglo[i].valor+i).hasClass(\"colorPunteroFormula\") ) {\n                        posicionIndicadorAgregarEnFormula = posicionEnArreglo+'['+i+'].valor';\n                    }\n                }\n            } else if( Array.isArray(arreglo[i].valor) ) {\n                this.findSelectedIndicador (arreglo[i].valor, posicionEnArreglo+'['+i+'].valor');\n            }\n        };\n    }\n\n    getSelectedVariables (arreglo, arregloVarSeleccionadas, posicionEnArreglo) {\n        for (var i = 0; i < arreglo.length; i++) {\n            if( !Array.isArray(arreglo[i].valor) && arreglo[i].activa ) {\n                arregloVarSeleccionadas.push(posicionEnArreglo+'['+i+']');\n            } else if( Array.isArray(arreglo[i].valor) ) {\n                this.getSelectedVariables (arreglo[i].valor, arregloVarSeleccionadas, posicionEnArreglo+'['+i+'].valor');\n            }\n        };\n    }\n\n    clickEnFormula (e, posicion, nombre, index) {\n        var copyTemp = [...this.state.formula];\n        if(posicion != null) {\n            this.clearSelectsInFormulaVariables(copyTemp);\n            this.setState({\n                formula: copyTemp\n            });\n        }\n        console.log('posicion')\n        console.log(posicion)\n        console.log('nombre')\n        console.log(nombre)\n        console.log('index')\n        console.log(index)\n        this.clearSelectsInFormulaIndicadores(this.state.formula);\n        if(posicion == null) {\n            posicionIndicador = '';\n            this.findVariableInFormula(this.state.formula, nombre, '', index);\n            var temp = [...this.state.formula];\n            var tempVar;\n            console.log('posicionDeIndicadorSeleccionadoEnFormula')\n            console.log(posicionDeIndicadorSeleccionadoEnFormula)\n            eval(\"tempVar = temp\"+posicionDeIndicadorSeleccionadoEnFormula);\n            tempVar.activa = !tempVar.activa;\n            //temp.splice(index, 1, tempVar);\n            this.setState({\n                formula: temp\n            });\n        } else if (posicion.localeCompare(\"izquierda\") == 0) {\n            posicionIndicador = 'izquierda';\n            $(\"#indicadorIzquierda\"+nombre+index).addClass(\"colorPunteroFormula\");\n            $(\"#indicadorIzquierda\"+nombre+index).addClass(\"blink\");\n            $(\"#indicadorIzquierda\"+nombre+index).removeClass(\"highlightFormulaBackground\");\n            this.findVariableInFormula(this.state.formula, nombre, '', index);\n        } else if (posicion.localeCompare(\"derecha\") == 0) {\n            posicionIndicador = 'derecha';\n            $(\"#indicadorDerecha\"+nombre+index).addClass(\"colorPunteroFormula\");\n            $(\"#indicadorDerecha\"+nombre+index).addClass(\"blink\");\n            $(\"#indicadorDerecha\"+nombre+index).removeClass(\"highlightFormulaBackground\");\n            this.findVariableInFormula(this.state.formula, nombre, '', index);\n        } else if (posicion.localeCompare(\"empty\") == 0) {\n            if($(\"#indicadorFormulaVacia\").hasClass(\"colorPunteroFormula\")) {\n                $(\"#indicadorFormulaVacia\").removeClass(\"blink\");\n                $(\"#indicadorFormulaVacia\").removeClass(\"colorPunteroFormula\");\n            } else {\n                $(\"#indicadorFormulaVacia\").addClass(\"blink\");\n                $(\"#indicadorFormulaVacia\").addClass(\"colorPunteroFormula\");\n            }\n        } else if (posicion.localeCompare(\"indicadorIzq\") == 0) {\n            $(\"#indicadorIzquierdaDiv\"+nombre).addClass(\"colorPunteroFormula\");\n            $(\"#indicadorIzquierdaDiv\"+nombre).addClass(\"blink\");\n            $(\"#indicadorIzquierdaDiv\"+nombre).removeClass(\"highlightFormulaBackground\");\n            posicionIndicador = 'izquierda';\n        } else if (posicion.localeCompare(\"indicadorDer\") == 0) {\n            $(\"#indicadorDerechaDiv\"+nombre).addClass(\"colorPunteroFormula\");\n            $(\"#indicadorDerechaDiv\"+nombre).addClass(\"blink\");\n            $(\"#indicadorDerechaDiv\"+nombre).removeClass(\"highlightFormulaBackground\");\n            posicionIndicador = 'derecha';\n        }\n    }\n\n    retornoSeleccionCampo (esOperacion, variable, posicionTabla) {\n        if(variable[0].valor.length > 0) {\n            var columnaSeleccionada = variable[0];\n            console.log('columnaSeleccionada')\n            console.log(columnaSeleccionada)\n            variableSeleccionada = jQuery.extend(true, {}, variable[0]);\n            if(variableSeleccionada.tipo.localeCompare(\"numero\") == 0)\n                variableSeleccionada.tipo = \"decimal\";\n            var tipoVariable = '';\n            if(columnaSeleccionada.tipo.localeCompare(\"int\") == 0 && this.state.formula.length == 0) {\n                tipoVariable = 'int';\n                this.setState({\n                    operaciones: operacionesNumero\n                });\n            } else if((columnaSeleccionada.tipo.localeCompare(\"decimal\") == 0 || columnaSeleccionada.tipo.localeCompare(\"numero\") == 0) && this.state.formula.length == 0) {\n                tipoVariable = 'decimal';\n                this.setState({\n                    operaciones: operacionesNumero\n                });\n            } else if(columnaSeleccionada.tipo.localeCompare(\"varchar\") == 0 && this.state.formula.length == 0) {\n                tipoVariable = 'varchar';\n                this.setState({\n                    operaciones: operacionesCadena\n                });\n            } else if(columnaSeleccionada.tipo.localeCompare(\"date\") == 0 && this.state.formula.length == 0) {\n                tipoVariable = 'date';\n                this.setState({\n                    operaciones: operacionesFecha\n                });\n            } else if(columnaSeleccionada.tipo.localeCompare(\"bit\") == 0 && this.state.formula.length == 0) {\n                tipoVariable = 'bit';\n                this.setState({\n                    operaciones: operacionesBoolean\n                });\n            } else if(columnaSeleccionada.tipo.localeCompare(\"int\") == 0 && this.state.formula.length > 0) {\n                tipoVariable = 'int';\n                this.setState({\n                    operaciones: operacionesNumeroMasDeUnValor\n                });\n            } else if((columnaSeleccionada.tipo.localeCompare(\"decimal\") == 0 || columnaSeleccionada.tipo.localeCompare(\"numero\") == 0) && this.state.formula.length > 0) {\n                tipoVariable = 'decimal';\n                this.setState({\n                    operaciones: operacionesNumeroMasDeUnValor\n                });\n            } else if(columnaSeleccionada.tipo.localeCompare(\"varchar\") == 0 && this.state.formula.length > 0) {\n                tipoVariable = 'varchar';\n                this.setState({\n                    operaciones: operacionesCadenaMasDeUnValor\n                });\n            }\n            var nivelRegla = 0;\n            if(variableSeleccionada.nivel != undefined)\n                nivelRegla = variableSeleccionada.nivel+1;\n            console.log('variableSeleccionada')\n            console.log(variableSeleccionada)\n            console.log('nivelRegla')\n            console.log(nivelRegla)\n            this.props.actualizarNivelNuevaRegla(nivelRegla);\n        }\n    }\n\n    retornoSeleccionOperacion (esOperacion, operacion) {\n        if(operacion[0].valor.length > 0) {\n            operacionSeleccionada = operacion[0];\n            this.props.retornoOperacion(operacionSeleccionada);\n        }\n    }\n\n    existeReglaAsignacion (operacion) {\n        for (var i = 0; i < this.state.operaciones.length; i++) {\n            if( (this.state.operaciones[i].valor.localeCompare(\"Asignar\") == 0 && this.state.operaciones[i].valor.localeCompare(operacion) == 0) || \n                (this.state.operaciones[i].valor.localeCompare(\"Contar\") == 0 && this.state.operaciones[i].valor.localeCompare(operacion) == 0) || \n                (this.state.operaciones[i].valor.localeCompare(\"Calcular Promedio\") == 0 && this.state.operaciones[i].valor.localeCompare(operacion) == 0) || \n                (this.state.operaciones[i].valor.localeCompare(\"Máximo\") == 0 && this.state.operaciones[i].valor.localeCompare(operacion) == 0) || \n                (this.state.operaciones[i].valor.localeCompare(\"Mínimo\") == 0 && this.state.operaciones[i].valor.localeCompare(operacion) == 0) ||\n                (this.state.operaciones[i].valor.localeCompare(\"Autosumar\") == 0 && this.state.operaciones[i].valor.localeCompare(operacion) == 0) /*|| \n                this.state.operaciones[i].valor.localeCompare(\"Sumar\") == 0*/) {\n                return true;\n            }\n        };\n        return false;\n    }\n\n    retornarCodigoOperacion (codigo) {\n        if(codigo.localeCompare(\"Asignar\") == 0) {\n            return \"ASIG\";\n        }\n        if(codigo.localeCompare(\"Contar\") == 0) {\n            return \"COUNT\";\n        }\n        if(codigo.localeCompare(\"Calcular Promedio\") == 0) {\n            return \"PROM\";\n        }\n        if(codigo.localeCompare(\"Máximo\") == 0) {\n            return \"MAX\";\n        }\n        if(codigo.localeCompare(\"Mínimo\") == 0) {\n            return \"MIN\";\n        }\n        if(codigo.localeCompare(\"Autosumar\") == 0) {\n            return \"AUTOSUM\";\n        }\n        if(codigo.localeCompare(\"Sumar\") == 0) {\n            return \"SUM\";\n        }\n        if(codigo.localeCompare(\"Día\") == 0) {\n            return \"DATE\";\n        }\n        if(codigo.localeCompare(\"Mes\") == 0) {\n            return \"MONTH\";\n        }\n        if(codigo.localeCompare(\"Año\") == 0) {\n            return \"YEAR\";\n        }\n    }\n\n    exitseCodigoOperacion (codigo) {\n        if(codigo.localeCompare(\"ASIG\") == 0) {\n            return true;\n        }\n        if(codigo.localeCompare(\"COUNT\") == 0) {\n            return true;\n        }\n        if(codigo.localeCompare(\"PROM\") == 0) {\n            return true;\n        }\n        if(codigo.localeCompare(\"MAX\") == 0) {\n            return true;\n        }\n        if(codigo.localeCompare(\"MIN\") == 0) {\n            return true;\n        }\n        if(codigo.localeCompare(\"AUTOSUM\") == 0) {\n            return true;\n        }\n        if(codigo.localeCompare(\"SUM\") == 0) {\n            return true;\n        }\n        if(codigo.localeCompare(\"DATE\") == 0) {\n            return true;\n        }\n        if(codigo.localeCompare(\"MONTH\") == 0) {\n            return true;\n        }\n        if(codigo.localeCompare(\"YEAR\") == 0) {\n            return true;\n        }\n    }\n\n    agregarAFormula () {\n        console.log('variableSeleccionada')\n        console.log(variableSeleccionada)\n        console.log('operacionSeleccionada')\n        console.log(operacionSeleccionada)\n        if (variableSeleccionada.valor != undefined || seleccionManual || operacionSeleccionada.valor.localeCompare(\"Borrar\") == 0) {\n            console.log('seleccionManual')\n            console.log(seleccionManual)\n            if(seleccionManual) {\n                var valor = $(\"#valorManual\").val();\n                var tipo = 'varchar';\n                if(isNaN(valor)) {\n                    tipo = 'varchar';\n                } else {\n                    tipo = 'decimal';\n                    valor = parseFloat(valor);\n                }\n                variableSeleccionada = {\n                    valor: valor,\n                    tipo: tipo,\n                    activa: false,\n                    esFuenteDato: false,\n                    esObjeto: false,\n                    esInstruccionSQL: false,\n                    esValorManual: true,\n                    nivel: 0,\n                    tipoOriginal: tipo\n                }\n            }\n            //retornando tipo de variable\n            if (operacionSeleccionada.valor == undefined) {\n                this.props.retornoCampo(variableSeleccionada.tipo);\n            } else {\n                if(operacionSeleccionada.valor.localeCompare(\"Asignar\") == 0 || operacionSeleccionada.valor.localeCompare(\"Máximo\") == 0 || operacionSeleccionada.valor.localeCompare(\"Mínimo\") == 0 || operacionSeleccionada.valor.localeCompare(\"Autosumar\") == 0 || operacionSeleccionada.valor.localeCompare(\"Sumar\") == 0) {\n                    this.props.retornoCampo(variableSeleccionada.tipo);\n                }\n                if(operacionSeleccionada.valor.localeCompare(\"Contar\") == 0 || operacionSeleccionada.valor.localeCompare(\"Día\") == 0 || operacionSeleccionada.valor.localeCompare(\"Mes\") == 0 || operacionSeleccionada.valor.localeCompare(\"Año\") == 0) {\n                    this.props.retornoCampo(\"int\");\n                }\n                if(operacionSeleccionada.valor.localeCompare(\"Calcular Promedio\") == 0) {\n                    this.props.retornoCampo(\"decimal\");\n                }\n            }\n            if(this.state.formula.length == 0 && $(\"div\").hasClass(\"colorPunteroFormula\")) {        //caso inicial, agregar primera variable\n                console.log('1')\n                var formulaTemp = [...this.state.formula];\n                variableSeleccionada.activa = false;\n                var tipoOriginal = variableSeleccionada.tipo;\n                variableSeleccionada.tipo = \"variable\";\n                variableSeleccionada.texto = variableSeleccionada.valor;\n                variableSeleccionada.operacion = '';\n                variableSeleccionada.tipoOriginal = tipoOriginal;\n                //variableSeleccionada.tipoColumnaEnTabla = ;\n                if(this.existeReglaAsignacion(operacionSeleccionada.valor)) {\n                    variableSeleccionada.texto = this.retornarCodigoOperacion(operacionSeleccionada.valor) + \"(\" + variableSeleccionada.valor + \")\";\n                    variableSeleccionada.operacion = this.retornarCodigoOperacion(operacionSeleccionada.valor);\n                }\n                if (operacionSeleccionada.valor == undefined || operacionSeleccionada.valor.localeCompare(\"Borrar\") == 0) {\n                    //cuando se agrega campo a formula para crear operacion ASIG\n                    variableSeleccionada.operacion = 'ASIG';\n                }/* else {\n                    variableSeleccionada.operacion = operacionSeleccionada.valor;\n                }*/\n                var varAInsertar = jQuery.extend(true, {}, variableSeleccionada);\n                formulaTemp = formulaTemp.concat(varAInsertar);\n                this.agregarFormulaAnchuraYAltura(formulaTemp, true);\n                this.setState({\n                    operaciones: [],\n                    formula: formulaTemp\n                });\n                var self = this;\n                setTimeout(function(){\n                    console.log(self.state.formula)\n                }, 2000);\n                console.log('tipoOriginal');\n                console.log(tipoOriginal);\n                console.log('camposTablasOriginales');\n                console.log(camposTablasOriginales);\n                console.log('camposTablasOriginales');\n                console.log(camposTablasOriginales);\n\n                //actualizando campos de variables a mostrar segun el campo que se acaba de agregar\n                if(variableSeleccionada.esFuenteDato) {\n                    //solo mostrar campos que sean de conexiones tabla\n                    var arregloConexionesTemp = [], arregloCamposConexionesTemp = [];\n                    for (var i = 0; i < tablasOriginales.length; i++) {\n                        if(tablasOriginales[i].ID == variableSeleccionada.tablaID) {\n                            arregloConexionesTemp.push(tablasOriginales[i]);\n                            for (var j = 0; j < camposTablasOriginales[i].length; j++) {\n                                if(arregloCamposConexionesTemp[arregloConexionesTemp.length-1] == undefined)\n                                    arregloCamposConexionesTemp[arregloConexionesTemp.length-1] = [];\n                                if(tipoOriginal.localeCompare(\"int\") == 0 || tipoOriginal.localeCompare(\"decimal\") == 0) {\n                                    if(camposTablasOriginales[i][j].tipo.localeCompare(\"int\") == 0 || camposTablasOriginales[i][j].tipo.localeCompare(\"decimal\") == 0)\n                                        arregloCamposConexionesTemp[arregloConexionesTemp.length-1].push(camposTablasOriginales[i][j]);\n                                } else {\n                                    if(camposTablasOriginales[i][j].tipo.localeCompare(tipoOriginal) == 0)\n                                        arregloCamposConexionesTemp[arregloConexionesTemp.length-1].push(camposTablasOriginales[i][j]);\n                                }\n                            };\n                            break;\n                        }\n                    };\n                    this.setState({\n                        tablas: arregloConexionesTemp,\n                        camposTablas: arregloCamposConexionesTemp,\n                        variablesEscalares: [],\n                        variables: [],\n                        camposVariables: [],\n                        variablesSQL: [],\n                        camposVariablesSQL: []\n                    });\n                } else {\n                    if(variableSeleccionada.esObjeto) {\n                        var arregloVariablesTemp = [], arregloCamposVariablesTemp = [];\n                        for (var i = 0; i < variablesOriginales.length; i++) {\n                            if(variablesOriginales[i].ID == variableSeleccionada.variableID) {\n                                arregloVariablesTemp.push(variablesOriginales[i]);\n                                for (var j = 0; j < camposVariablesOriginales[i].length; j++) {\n                                    if(arregloCamposVariablesTemp[arregloVariablesTemp.length-1] == undefined)\n                                        arregloCamposVariablesTemp[arregloVariablesTemp.length-1] = [];\n                                    if(tipoOriginal.localeCompare(\"int\") == 0 || tipoOriginal.localeCompare(\"decimal\") == 0) {\n                                        if(camposVariablesOriginales[i][j].tipo.localeCompare(\"int\") == 0 || camposVariablesOriginales[i][j].tipo.localeCompare(\"decimal\") == 0)\n                                            arregloCamposVariablesTemp[arregloVariablesTemp.length-1].push(camposVariablesOriginales[i][j]);\n                                    } else {\n                                        if(camposVariablesOriginales[i][j].tipo.localeCompare(tipoOriginal) == 0)\n                                            arregloCamposVariablesTemp[arregloVariablesTemp.length-1].push(camposVariablesOriginales[i][j]);\n                                    }\n                                };\n                                break;\n                            }\n                        };\n                        console.log(variablesEscalaresOriginales)\n                        this.setState({\n                            tablas: [],\n                            camposTablas: [],\n                            variablesEscalares: variablesEscalaresOriginales,\n                            variables: arregloVariablesTemp,\n                            camposVariables: arregloCamposVariablesTemp,\n                            variablesSQL: [],\n                            camposVariablesSQL: []\n                        });\n                    } else if(variableSeleccionada.esInstruccionSQL) {\n                        var arregloVariablesSQLTemp = [], arregloCamposVariablesSQLTemp = [];\n                        for (var i = 0; i < variablesOriginalesSQL.length; i++) {\n                            if(variablesOriginalesSQL[i].ID == variableSeleccionada.variableID) {\n                                arregloVariablesSQLTemp.push(variablesOriginalesSQL[i]);\n                                for (var j = 0; j < camposVariablesOriginalesSQL[i].length; j++) {\n                                    if(arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1] == undefined)\n                                        arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1] = [];\n                                    if(tipoOriginal.localeCompare(\"int\") == 0 || tipoOriginal.localeCompare(\"decimal\") == 0) {\n                                        if(camposVariablesOriginalesSQL[i][j].tipo.localeCompare(\"int\") == 0 || camposVariablesOriginalesSQL[i][j].tipo.localeCompare(\"decimal\") == 0)\n                                            arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1].push(camposVariablesOriginalesSQL[i][j]);\n                                    } else {\n                                        if(camposVariablesOriginalesSQL[i][j].tipo.localeCompare(tipoOriginal) == 0)\n                                            arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1].push(camposVariablesOriginalesSQL[i][j]);\n                                    }\n                                };\n                                break;\n                            }\n                        };\n                        this.setState({\n                            tablas: [],\n                            camposTablas: [],\n                            variablesEscalares: variablesEscalaresOriginales,\n                            variables: [],\n                            camposVariables: [],\n                            variablesSQL: arregloVariablesSQLTemp,\n                            camposVariablesSQL: arregloCamposVariablesSQLTemp\n                        });\n                    } else {\n                        this.setState({\n                            tablas: [],\n                            camposTablas: [],\n                            variablesEscalares: this.state.variablesEscalares,\n                            variables: this.state.variables,\n                            camposVariables: this.state.camposVariables,\n                            variablesSQL: this.state.variablesSQL,\n                            camposVariablesSQL: this.state.camposVariablesSQL\n                        });\n                    }\n                }\n            } else if (operacionSeleccionada.valor != undefined && operacionSeleccionada.valor.localeCompare(\"Borrar\") == 0) {\n                var arregloVarSeleccionadas = [];\n                this.getSelectedVariables (this.state.formula, arregloVarSeleccionadas, '');\n                console.log('arregloVarSeleccionadas')\n                console.log(arregloVarSeleccionadas)\n                if(arregloVarSeleccionadas.length == 1) {\n                    //viendo si tiene variable antes de var a eliminar\n                    var ultimoIndice1 = arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf(']'));\n                    console.log('ultimoIndice1')\n                    console.log(ultimoIndice1)\n                    var ultimoIndice2 = ultimoIndice1.substring(ultimoIndice1.lastIndexOf('[')+1);\n                    console.log('ultimoIndice2')\n                    console.log(ultimoIndice2)\n                    if(parseInt(ultimoIndice2) != 0) {\n                        var indiceVarAEliminar1 = arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf(']'));\n                        var indiceVarAEliminar2 = indiceVarAEliminar1.substring(indiceVarAEliminar1.lastIndexOf('[')+1);\n                        console.log('indiceVarAEliminar1')\n                        console.log(indiceVarAEliminar1)\n                        console.log('indiceVarAEliminar2')\n                        console.log(indiceVarAEliminar2)\n                        var indiceVarAEliminarAnterior1 = arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf(']'));\n                        var indiceVarAEliminarAnterior2 = indiceVarAEliminar1.substring(indiceVarAEliminar1.lastIndexOf('[')+1);\n                        indiceVarAEliminarAnterior2 = parseInt(indiceVarAEliminarAnterior2)-1;\n                        console.log('indiceVarAEliminarAnterior1')\n                        console.log(indiceVarAEliminarAnterior1)\n                        console.log('indiceVarAEliminarAnterior2')\n                        console.log(indiceVarAEliminarAnterior2)\n                        var variableAEliminar, variableAntesEliminar;\n                        var copyFormula = [...this.state.formula];\n                        eval(\"variableAEliminar = this.state.formula\"+arregloVarSeleccionadas[0]);\n                        eval(\"copyFormula\"+arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf('['))+\".splice(indiceVarAEliminar2, 1)\")\n                        console.log('arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf([))')\n                        console.log( arregloVarSeleccionadas[0].substring(arregloVarSeleccionadas[0].lastIndexOf('[')) )\n                        eval(\"variableAntesEliminar = this.state.formula\"+arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf('['))+\"[indiceVarAEliminarAnterior2]\");\n                        if(variableAntesEliminar.tipo.localeCompare(\"signo\") == 0)     \n                            eval(\"copyFormula\"+arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf('['))+\".splice(indiceVarAEliminarAnterior2, 1)\")                   \n                        console.log('variableAEliminar')\n                        console.log(variableAEliminar)\n                        console.log('variableAntesEliminar')\n                        console.log(variableAntesEliminar)\n                        this.agregarFormulaAnchuraYAltura(copyFormula, true);\n                        this.setState({\n                            formula: copyFormula\n                        });\n                        var self = this;\n                        setTimeout(function(){\n                            console.log(self.state.formula)\n                        }, 2000);\n                    } else {\n                        var indiceVarAEliminar1 = arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf(']'));\n                        var indiceVarAEliminar2 = indiceVarAEliminar1.substring(indiceVarAEliminar1.lastIndexOf('[')+1);\n                        console.log('indiceVarAEliminar1')\n                        console.log(indiceVarAEliminar1)\n                        console.log('indiceVarAEliminar2')\n                        console.log(indiceVarAEliminar2)\n                        var copyFormula = [...this.state.formula];\n                        console.log('arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf([)+')\n                        console.log( arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf('[')) )\n                        eval(\"copyFormula\"+arregloVarSeleccionadas[0].substring(0, arregloVarSeleccionadas[0].lastIndexOf('['))+\".splice(indiceVarAEliminar2, 1)\")\n                        this.agregarFormulaAnchuraYAltura(copyFormula, true);\n                        this.setState({\n                            formula: copyFormula\n                        });\n                        var self = this;\n                        setTimeout(function(){\n                            console.log(self.state.formula)\n                        }, 2000);\n                    }\n                } else if(arregloVarSeleccionadas.length > 1) {\n                    alert(\"Solo debe seleccionar una variable a eliminar.\");\n                } else {\n                    alert(\"Debe seleccionar por lo menos la variable a eliminar.\");\n                }\n            } else if(this.state.formula.length > 0 && $(\"div\").hasClass(\"colorPunteroFormula\") && operacionSeleccionada.valor != undefined && operacionSeleccionada.valor.localeCompare(\"/\") != 0) {\n                console.log('2')\n                var formulaTemp = [...this.state.formula];\n                //quitar cualquier operacion seleccionada anteriormente\n                for (var i = 0; i < formulaTemp.length; i++) {\n                    formulaTemp[i].operacion = 'FORMULA';\n                    formulaTemp[i].texto = formulaTemp[i].valor;\n                };\n                var tipoOriginal = variableSeleccionada.tipo;\n                variableSeleccionada.tipoOriginal = tipoOriginal;\n                variableSeleccionada.activa = false;\n                variableSeleccionada.tipo = \"variable\";\n                variableSeleccionada.texto = variableSeleccionada.valor;\n                variableSeleccionada.operacion = '';\n                if(this.existeReglaAsignacion(operacionSeleccionada.valor)) {\n                    variableSeleccionada.texto = this.retornarCodigoOperacion(operacionSeleccionada.valor) + \"(\" + variableSeleccionada.valor + \")\";\n                    variableSeleccionada.operacion = this.retornarCodigoOperacion(operacionSeleccionada.valor);\n                } else {\n                    variableSeleccionada.operacion = 'FORMULA';\n                }\n                var posicionArreglo = '', ultimoIndice = '', noHaLeidoUltimoIndice = true;\n                for (var i = posicionDeIndicadorSeleccionadoEnFormula.length - 1; i >= 0; i--) {\n                    if (!noHaLeidoUltimoIndice) {\n                        posicionArreglo += posicionDeIndicadorSeleccionadoEnFormula.charAt(i);\n                    }\n                    if (posicionDeIndicadorSeleccionadoEnFormula.charAt(i).localeCompare('[') != 0 && posicionDeIndicadorSeleccionadoEnFormula.charAt(i).localeCompare(']') != 0 && noHaLeidoUltimoIndice) {\n                        if( posicionDeIndicadorSeleccionadoEnFormula.charAt(i).localeCompare('[') != 0 && posicionDeIndicadorSeleccionadoEnFormula.charAt(i).localeCompare(']') != 0 )\n                            ultimoIndice += posicionDeIndicadorSeleccionadoEnFormula.charAt(i);\n                        if(posicionDeIndicadorSeleccionadoEnFormula.charAt(i).localeCompare('[') == 0) {\n                            noHaLeidoUltimoIndice = false;\n                        }\n                    }\n                };\n                var arregloVarSeleccionadas = [];\n                //this.getSelectedIndicador (this.state.formula, arregloVarSeleccionadas, '');\n                //this.findVariableInFormula(this.state.formula, nombre, '');\n                console.log('posicionDeIndicadorSeleccionadoEnFormula');\n                console.log(posicionDeIndicadorSeleccionadoEnFormula);\n                console.log('posicionArreglo');\n                console.log(posicionArreglo);\n                console.log('posicionIndicadorAgregarEnFormula antes');\n                console.log(posicionIndicadorAgregarEnFormula);\n                this.findSelectedIndicador (this.state.formula, '');\n                console.log('posicionIndicadorAgregarEnFormula despues');\n                console.log(posicionIndicadorAgregarEnFormula);\n                var indicadorSeleccionado;\n                //eval(\"indicadorSeleccionado = this.state.formula[\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\".\")))\n                //var tempVar;\n                //eval(\"tempVar = temp\"+posicionArreglo);\n                operacionSeleccionada.operacion = operacionSeleccionada.valor;\n                var varAInsertar = jQuery.extend(true, {}, variableSeleccionada);\n                if(posicionIndicador.localeCompare(\"derecha\") == 0) {\n                    /*if(posicionArreglo.length > 0) {\n                        formulaTemp[posicionArreglo].splice(parseInt(ultimoIndice)+1, 0, varAInsertar);\n                        formulaTemp[posicionArreglo].splice(parseInt(ultimoIndice)+1, 0, operacionSeleccionada);\n                    } else {\n                        formulaTemp.splice(parseInt(ultimoIndice)+1, 0, varAInsertar);\n                        formulaTemp.splice(parseInt(ultimoIndice)+1, 0, operacionSeleccionada);\n                    }*/\n                    if(posicionIndicadorAgregarEnFormula.split(\"[\").length > 2) {\n                        console.log('1');\n                        var pos1 = posicionIndicadorAgregarEnFormula.substring(posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\")+1);\n                        console.log('pos1');\n                        console.log(pos1);\n                        var pos2 = pos1.substring(0, pos1.lastIndexOf(\"]\"));\n                        console.log('pos2');\n                        console.log(pos2);\n                        console.log('posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))');\n                        console.log(posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\")));\n                        console.log(\"console.log(formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".length)\" );\n                        eval(\"console.log(formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".length)\" );\n                        eval(\"console.log(formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".length == parseInt(pos2)+1)\" );\n                        var esUltimoIndice = false;\n                        eval(\"if (formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".length == parseInt(pos2)+1) esUltimoIndice = true\" );\n                        console.log('esUltimoIndice');\n                        console.log(esUltimoIndice);\n                        eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+1, 0, operacionSeleccionada)\" );\n                        eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+2, 0, varAInsertar)\" );\n                        /*if(esUltimoIndice) {\n                            eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+1, 0, operacionSeleccionada)\" );\n                            eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+1, 0, varAInsertar)\" );\n                        } else {\n                            eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+1, 0, varAInsertar)\" );\n                            eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+1, 0, operacionSeleccionada)\" );\n                        }*/\n                    } else {\n                        var pos1 = posicionIndicadorAgregarEnFormula.substring(posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\")+1);\n                        console.log('2');\n                        console.log('pos1');\n                        console.log(pos1);\n                        var pos2 = pos1.substring(0, pos1.lastIndexOf(\"]\"));\n                        console.log('pos2');\n                        console.log(pos2);\n                        eval(\"formulaTemp.splice( parseInt(pos2)+1, 0, operacionSeleccionada)\" );\n                        eval(\"formulaTemp.splice( parseInt(pos2)+2, 0, varAInsertar)\" );\n                    }\n                    //eval(\"formulaTemp[posicionArreglo].splice(parseInt(ultimoIndice)+1, 0, variableSeleccionada[0])\");\n                } else {\n                    if(posicionIndicadorAgregarEnFormula.split(\"[\").length > 2) {\n                        console.log('1');\n                        var pos1 = posicionIndicadorAgregarEnFormula.substring(posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\")+1);\n                        console.log('pos1');\n                        console.log(pos1);\n                        var pos2 = pos1.substring(0, pos1.lastIndexOf(\"]\"));\n                        console.log('pos2');\n                        console.log(pos2);\n                        console.log('posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))');\n                        console.log(posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\")));\n                        console.log(\"console.log(formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".length)\" );\n                        eval(\"console.log(formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".length)\" );\n                        eval(\"console.log(formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".length == parseInt(pos2)+1)\" );\n                        var esUltimoIndice = false;\n                        eval(\"if (formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".length == parseInt(pos2)+1) esUltimoIndice = true\" );\n                        console.log('esUltimoIndice');\n                        console.log(esUltimoIndice);\n                        eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2), 0, operacionSeleccionada)\" );\n                        eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2), 0, varAInsertar)\" );\n                        /*if(esUltimoIndice) {\n                            eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+1, 0, operacionSeleccionada)\" );\n                            eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+1, 0, varAInsertar)\" );\n                        } else {\n                            eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+1, 0, varAInsertar)\" );\n                            eval(\"formulaTemp\"+posicionIndicadorAgregarEnFormula.substring(0, posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\"))+\".splice( parseInt(pos2)+1, 0, operacionSeleccionada)\" );\n                        }*/\n                    } else {\n                        var pos1 = posicionIndicadorAgregarEnFormula.substring(posicionIndicadorAgregarEnFormula.lastIndexOf(\"[\")+1);\n                        console.log('2');\n                        console.log('pos1');\n                        console.log(pos1);\n                        var pos2 = pos1.substring(0, pos1.lastIndexOf(\"]\"));\n                        console.log('pos2');\n                        console.log(pos2);\n                        eval(\"formulaTemp.splice( parseInt(pos2), 0, operacionSeleccionada)\" );\n                        eval(\"formulaTemp.splice( parseInt(pos2), 0, varAInsertar)\" );\n                    }\n                    /*if(posicionArreglo.length > 0) {\n                        formulaTemp[posicionArreglo].splice(parseInt(ultimoIndice), 0, operacionSeleccionada);\n                        formulaTemp[posicionArreglo].splice(parseInt(ultimoIndice), 0, varAInsertar);\n                    } else {\n                        formulaTemp.splice(parseInt(ultimoIndice), 0, operacionSeleccionada);\n                        formulaTemp.splice(parseInt(ultimoIndice), 0, varAInsertar);\n                    }*/\n                }\n                console.log('varAInsertar');\n                console.log(varAInsertar);\n                console.log('operacionSeleccionada');\n                console.log(operacionSeleccionada);\n                console.log('formulaTemp');\n                console.log(formulaTemp);\n                this.agregarFormulaAnchuraYAltura(formulaTemp, true);\n                this.setState({\n                    operaciones: [],\n                    formula: formulaTemp\n                });\n                var self = this;\n                setTimeout(function(){\n                    console.log(self.state.formula)\n                }, 2000);\n                //actualizando campos de variables a mostrar segun el campo que se acaba de agregar\n                var tipoOriginal = variableSeleccionada.tipoOriginal;\n                if(variableSeleccionada.esFuenteDato) {\n                    //solo mostrar campos que sean de conexiones tabla\n                    var arregloConexionesTemp = [], arregloCamposConexionesTemp = [];\n                    for (var i = 0; i < tablasOriginales.length; i++) {\n                        if(tablasOriginales[i].ID == variableSeleccionada.tablaID) {\n                            arregloConexionesTemp.push(tablasOriginales[i]);\n                            for (var j = 0; j < camposTablasOriginales[i].length; j++) {\n                                if(arregloCamposConexionesTemp[arregloConexionesTemp.length-1] == undefined)\n                                    arregloCamposConexionesTemp[arregloConexionesTemp.length-1] = [];\n                                if(tipoOriginal.localeCompare(\"int\") == 0 || tipoOriginal.localeCompare(\"decimal\") == 0) {\n                                    if(camposTablasOriginales[i][j].tipo.localeCompare(\"int\") == 0 || camposTablasOriginales[i][j].tipo.localeCompare(\"decimal\") == 0) {\n                                        arregloCamposConexionesTemp[arregloConexionesTemp.length-1].push(camposTablasOriginales[i][j]);\n                                    }\n                                } else {\n                                    if(camposTablasOriginales[i][j].tipo.localeCompare(tipoOriginal) == 0) {\n                                        arregloCamposConexionesTemp[arregloConexionesTemp.length-1].push(camposTablasOriginales[i][j]);\n                                    }\n                                }\n                            };\n                            break;\n                        }\n                    };\n                    this.setState({\n                        tablas: arregloConexionesTemp,\n                        camposTablas: arregloCamposConexionesTemp,\n                        variablesEscalares: [],\n                        variables: [],\n                        camposVariables: [],\n                        variablesSQL: [],\n                        camposVariablesSQL: []\n                    });\n                } else {\n                    if(variableSeleccionada.esObjeto) {\n                        var arregloVariablesTemp = [], arregloCamposVariablesTemp = [];\n                        for (var i = 0; i < variablesOriginales.length; i++) {\n                            if(variablesOriginales[i].ID == variableSeleccionada.variableID) {\n                                arregloVariablesTemp.push(variablesOriginales[i]);\n                                for (var j = 0; j < camposVariablesOriginales[i].length; j++) {\n                                    if(arregloCamposVariablesTemp[arregloVariablesTemp.length-1] == undefined)\n                                        arregloCamposVariablesTemp[arregloVariablesTemp.length-1] = [];\n                                    if(tipoOriginal.localeCompare(\"int\") == 0 || tipoOriginal.localeCompare(\"decimal\") == 0) {\n                                        if(camposVariablesOriginales[i][j].tipo.localeCompare(\"int\") == 0 || camposVariablesOriginales[i][j].tipo.localeCompare(\"decimal\") == 0)\n                                            arregloCamposVariablesTemp[arregloVariablesTemp.length-1].push(camposVariablesOriginales[i][j]);\n                                    } else {\n                                        if(camposVariablesOriginales[i][j].tipo.localeCompare(tipoOriginal) == 0)\n                                            arregloCamposVariablesTemp[arregloVariablesTemp.length-1].push(camposVariablesOriginales[i][j]);\n                                    }\n                                };\n                                break;\n                            }\n                        };\n                        this.setState({\n                            tablas: [],\n                            camposTablas: [],\n                            variablesEscalares: variablesEscalaresOriginales,\n                            variables: arregloVariablesTemp,\n                            camposVariables: arregloCamposVariablesTemp,\n                            variablesSQL: [],\n                            camposVariablesSQL: []\n                        });\n                    } else if(variableSeleccionada.esInstruccionSQL) {\n                        var arregloVariablesSQLTemp = [], arregloCamposVariablesSQLTemp = [];\n                        for (var i = 0; i < variablesOriginalesSQL.length; i++) {\n                            if(variablesOriginalesSQL[i].ID == variableSeleccionada.variableID) {\n                                arregloVariablesSQLTemp.push(variablesOriginalesSQL[i]);\n                                for (var j = 0; j < camposVariablesOriginalesSQL[i].length; j++) {\n                                    if(arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1] == undefined)\n                                        arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1] = [];\n                                    if(tipoOriginal.localeCompare(\"int\") == 0 || tipoOriginal.localeCompare(\"decimal\") == 0) {\n                                        if(camposVariablesOriginalesSQL[i][j].tipo.localeCompare(\"int\") == 0 || camposVariablesOriginalesSQL[i][j].tipo.localeCompare(\"decimal\") == 0)\n                                            arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1].push(camposVariablesOriginalesSQL[i][j]);\n                                    } else {\n                                        if(camposVariablesOriginalesSQL[i][j].tipo.localeCompare(tipoOriginal) == 0)\n                                            arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1].push(camposVariablesOriginalesSQL[i][j]);\n                                    }\n                                };\n                                break;\n                            }\n                        };\n                        this.setState({\n                            tablas: [],\n                            camposTablas: [],\n                            variablesEscalares: variablesEscalaresOriginales,\n                            variables: [],\n                            camposVariables: [],\n                            variablesSQL: arregloVariablesSQLTemp,\n                            camposVariablesSQL: arregloCamposVariablesSQLTemp\n                        });\n                    } else {\n                        this.setState({\n                            tablas: [],\n                            camposTablas: [],\n                            variablesEscalares: this.state.variablesEscalares,\n                            variables: this.state.variables,\n                            camposVariables: this.state.camposVariables,\n                            variablesSQL: this.state.variablesSQL,\n                            camposVariablesSQL: this.state.camposVariablesSQL\n                        });\n                    }\n                }\n                //FIN actualizando campos de variables a mostrar segun el campo que se acaba de agregar\n            } else if(this.state.formula.length > 0  && operacionSeleccionada.valor != undefined && operacionSeleccionada.valor.localeCompare(\"/\") == 0) {\n                console.log('3')\n                //quitar cualquier operacion seleccionada anteriormente\n                var formulaTemp = [...this.state.formula];\n                for (var i = 0; i < formulaTemp.length; i++) {\n                    formulaTemp[i].operacion = 'FORMULA';\n                    formulaTemp[i].texto = formulaTemp[i].valor;\n                };\n                this.setState({\n                    formula: formulaTemp\n                });\n                var arregloVarSeleccionadas = [];\n                this.getSelectedVariables (this.state.formula, arregloVarSeleccionadas, '');\n                console.log('arregloVarSeleccionadas')\n                console.log(arregloVarSeleccionadas)\n                if($(\"div\").hasClass(\"colorPunteroFormula\") || arregloVarSeleccionadas.length == 0) {\n                    alert(\"Para agregar una división, seleccione las variables a ser numerador en la fórmula.\");\n                } else {\n                    var tipoOriginal = variableSeleccionada.tipo;\n                    variableSeleccionada.tipoOriginal = tipoOriginal;\n                    variableSeleccionada.tipo = \"variable\";\n                    variableSeleccionada.texto = variableSeleccionada.valor;\n                    variableSeleccionada.operacion = 'FORMULA';\n                    //variableSeleccionada.tipoColumnaEnTabla = ;\n                    if(this.existeReglaAsignacion(operacionSeleccionada.valor)) {\n                        variableSeleccionada.texto = this.retornarCodigoOperacion(operacionSeleccionada.valor) + \"(\" + variableSeleccionada.valor + \")\";\n                        variableSeleccionada.operacion = this.retornarCodigoOperacion(operacionSeleccionada.valor);\n                    }\n\n                    //separar arreglo arregloVarSeleccionadas por diferentes primer indices, elegir el mas corto y quitar ultimo indice solo si length != 1\n                        // 1) eje: [1][0],[1][2]    [5][1][0],[5][1][2],[5][1][4]       [8]\n                        // 2) res: [1], [5][1], [8]\n                    //========================\n                    //SE CREAN ARREGLOS 1) Y 2)\n                    //SI ARREGLO 2) LENGTH > 1\n                        //VER QUE PRIMEROS INDICES DE ARREGLO 2) ESTEN A UNA DISTANCIA DE 3 SI ES DIV Y 2 SI ES VAR, PARA COMPROBAR QUE DIFERENTES\n                            //SELECCIONES DE VARIABLES ESTAN CONTINUAS EN FORMULA, EJE: [\\\\,[P1,DIV\\,P2],\\\\,-,P4,+,\\\\,[P5,DIV\\,P6],\\\\,-,P7,+,P8]\n                                                                                    //  [\\\\,[P1,DIV\\,P2],\\\\,-,P4,+,P6]\n                        //POR CADA POSICION INICIAL (PRIMER INDICE), PROBAR QUE LA SELECCION FUE CORRECTA SI ES DIV\n                            //SI SELECCIONO UNA DIVISION SE TIENE QUE SELECCIONAR TODAS LAS VAR DE LA DIV\n\n                    //SI ARREGLO 2) LENGTH == 1\n                        //COMPROBAR QUE LA SELECCION ES CORRECTA\n                            //SI SOLO SE SELECIONO DEL NUMERADOR\n                                //SI SOLO UNA BIEN\n                                //SINO SI VERIFICAR QUE CADA VAR SELECCIONADA ESTE CONTINUA O SEA A UNA DISTANCIA DE 2, eje: [0] -> [2] -> [4]\n                            //SI SE SELECCIONO DE UN DENOMINADOR SE TIENEN QUE SELECCIONAR LAS DEMAS VAR DEL DENOMINADOR, TAMBIEN TODO LO \n                            //QUE ESTE EN EL NUMERADOR\n                                //SE EMPIEZA POR EL VALOR DE SUB-ARREGLO 1) (EJE: [5][1][0],[5][1][2],[5][1][4]) MAS CORTO Y SE MANDA A LLAMAR METODO:\n                                    //METODO:\n                                        //SE RECORREN TODAS LAS VAR DE ESE NIVEL QUE NO SEAN ARREGLOS Y SE VERIFICAN SI ESTA SEL, SINO RETORNAR FALSO\n                                        //POR ULTIMO SE VUELVE A LLAMAR EL METODO POR CADA ARREGLO\n\n                    //SI SELECCION ES CORRECTA (PROCESO ANTERIOR)\n                        //SI ARREGLO 2) LENGTH == 1\n                            //SACAR EL ULTIMO INDICE EN COMUN MAS CERCANO, CREAR\n                                //SI EL ULTIMO INDICE ES DIV, SOLO INSERTAR NUEVA DIVISION EN ESA POS\n                                //SI NO ES DIV, CREAR INDICADOR IZQ, INSERTAR NUEVA DIVISION Y DESPUES CREAR INDICADOR DER\n                        //SI ARREGLO 2) LENGTH > 1\n                            //RECORRIENDO DE IZQ A DER CREANDO ARREGLO DE VALORES A INSERTAR, SOLO AGARRAR LAS VAR, SIGNOS E INDICADORES DEL PRIMER INDICE/NIVEL\n                            //RECORRIENDO DE DER A IZQ ELIMINAR CADA VALOR ANTERIORMENTE SEL, Y METER ARREGLO DE VALORES A INSERTAR \n                                //EN PRIMER VALOR DE ARREGLO 2) VERIFICANDO SI ES DIV, PARA METER EN LA POS ANTERIOR\n\n\n                    //separar arreglo arregloVarSeleccionadas por diferentes primer indices, elegir el mas corto y quitar ultimo indice solo si length != 1\n                        // 1) eje: [1][0],[1][2]    [5][1][0],[5][1][2],[5][1][4]       [8]\n                        // 2) res: [1], [5][1], [8]\n                    var indicesVarSeleccionadas = [];   //arreglo 2)\n                    var arregloVarSeleccionadasPorIndicesInicial = []; //arreglo 1)\n                    for (var i = 0; i < arregloVarSeleccionadas.length; i++) {\n                        var posInicial = arregloVarSeleccionadas[i].split(\"]\")[0].split(\"[\")[1];\n                        var existe = false;\n                        for (var j = 0; j < arregloVarSeleccionadasPorIndicesInicial.length; j++) {\n                            var posInicialComparacion = arregloVarSeleccionadasPorIndicesInicial[j][0].split(\"]\")[0].split(\"[\")[1];\n                            if (posInicialComparacion.localeCompare(posInicial) == 0) {\n                                existe = true;\n                                break;\n                            }\n                        };\n                        if(!existe) {\n                            arregloVarSeleccionadasPorIndicesInicial.push([arregloVarSeleccionadas[i]]);\n                        } else {\n                            arregloVarSeleccionadasPorIndicesInicial[j].push(arregloVarSeleccionadas[i]);\n                        }\n                    };\n                    for (var i = 0; i < arregloVarSeleccionadasPorIndicesInicial.length; i++) {\n                        var elMasCorto = '';\n                        for (var j = 0; j < arregloVarSeleccionadasPorIndicesInicial[i].length; j++) {\n                            if(elMasCorto.length == 0) {\n                                elMasCorto = arregloVarSeleccionadasPorIndicesInicial[i][j];\n                            } else if(elMasCorto.length > arregloVarSeleccionadasPorIndicesInicial[i][j].length) {\n                                elMasCorto = arregloVarSeleccionadasPorIndicesInicial[i][j];\n                            }\n                        };\n                        if(elMasCorto.length > 0) {\n                            if(elMasCorto.split(\"[\").length > 2) {\n                                indicesVarSeleccionadas.push( elMasCorto.substring(0, elMasCorto.lastIndexOf(\"[\")) );\n                            } else {\n                                indicesVarSeleccionadas.push( elMasCorto );\n                            }\n                        }\n                    };\n\n                    console.log('this.state.formula');\n                    console.log(this.state.formula);\n\n                    console.log('indicesVarSeleccionadas');\n                    console.log(indicesVarSeleccionadas);\n                    console.log('arregloVarSeleccionadasPorIndicesInicial');\n                    console.log(arregloVarSeleccionadasPorIndicesInicial);\n\n                    if(indicesVarSeleccionadas.length > 1) {\n                        //VER QUE DISTANCIA PRIMEROS INDICES DE ARREGLO\n                        var seleccionVariablesContinuas = false;\n                        for (var a = 0; a < indicesVarSeleccionadas.length; a++) {\n                            var variableAEvaluar;\n                            if(indicesVarSeleccionadas[a].split(\"[\").length > 2) {\n                                eval(\"variableAEvaluar = this.state.formula\"+indicesVarSeleccionadas[a].substring(0, indicesVarSeleccionadas[a].lastIndexOf(\"[\")) );\n                            } else {\n                                eval(\"variableAEvaluar = this.state.formula\"+indicesVarSeleccionadas[a]);\n                            }\n                            console.log('variableAEvaluar');\n                            console.log(variableAEvaluar);\n                            if(a != 0) {\n                                if (variableAEvaluar.tipo.localeCompare(\"contenedorDivision\") == 0) {\n                                    var variableDeComparacion;\n                                    var indiceOriginal = parseInt(indicesVarSeleccionadas[a].split(\"]\")[0].split(\"[\")[1]);\n                                    eval(\"variableDeComparacion = this.state.formula\"+(indiceOriginal-3));\n                                    console.log('variableDeComparacion');\n                                    console.log(variableDeComparacion);\n                                    if(variableDeComparacion.tipo.localeCompare(\"indicador\") == 0 && variableDeComparacion.posicion.localeCompare(\"derecha\") == 0) {\n                                        seleccionVariablesContinuas = true;\n                                    } else if(variableDeComparacion.tipo.localeCompare(\"variable\") == 0) {\n                                        seleccionVariablesContinuas = true;\n                                    } else {\n                                        seleccionVariablesContinuas = false;\n                                        break;\n                                    }\n                                } else if (variableAEvaluar.tipo.localeCompare(\"variable\") == 0) {\n                                    var variableDeComparacion;\n                                    var indiceOriginal = parseInt(indicesVarSeleccionadas[a].split(\"]\")[0].split(\"[\")[1]);\n                                    eval(\"variableDeComparacion = this.state.formula\"+(indiceOriginal-2));\n                                    console.log('variableDeComparacion');\n                                    console.log(variableDeComparacion);\n                                    if(variableDeComparacion.tipo.localeCompare(\"indicador\") == 0 && variableDeComparacion.posicion.localeCompare(\"derecha\") == 0) {\n                                        seleccionVariablesContinuas = true;\n                                    } else if(variableDeComparacion.tipo.localeCompare(\"variable\") == 0) {\n                                        seleccionVariablesContinuas = true;\n                                    } else {\n                                        seleccionVariablesContinuas = false;\n                                        break;\n                                    }\n                                }\n                            }\n                        };\n\n                        if(seleccionVariablesContinuas) {\n                            //VER QUE TODAS LAS VARIABLES DE LA DIVISION ESTEN SELECCIONADAS\n                            for (var a = 0; a < indicesVarSeleccionadas.length; a++) {\n                                var variableAEvaluar;\n                                if(indicesVarSeleccionadas[a].split(\"[\").length > 2) {\n                                    eval(\"variableAEvaluar = this.state.formula\"+indicesVarSeleccionadas[a].substring(0, indicesVarSeleccionadas[a].lastIndexOf(\"[\")) );\n                                } else {\n                                    eval(\"variableAEvaluar = this.state.formula\"+indicesVarSeleccionadas[a]);\n                                }\n                                console.log('variableAEvaluar');\n                                console.log(variableAEvaluar);\n                                if( Array.isArray(variableAEvaluar.valor) ) {\n                                    seleccionValidaVarDivision = true;\n                                    this.verificarSeleccionoTodosDivision(variableAEvaluar);\n                                    if(!seleccionValidaVarDivision) {\n                                        break;\n                                    }\n                                }\n                            };\n                            console.log('seleccionValidaVarDivision');\n                            console.log(seleccionValidaVarDivision);\n                            /*if(seleccionValidaVarDivision) {\n                                //CREANDO ARREGLOS VALORES A INSERTAR\n                                var arregloAInsertarNuevo = [];\n                                for (var a = 0; a < indicesVarSeleccionadas.length; a++) {\n                                    var indiceOriginal = parseInt(indicesVarSeleccionadas[a].split(\"]\")[0].split(\"[\")[1]);\n                                    if( Array.isArray(this.state.formula[indiceOriginal].valor) ) {\n                                        //insertar indicador izquierda\n                                        //var indIzquierdo = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"};\n                                        arregloAInsertarNuevo.push(this.state.formula[indiceOriginal-1]);\n                                        //insertar arreglo / division\n                                        arregloAInsertarNuevo.push(this.state.formula[indiceOriginal]);\n                                        //insertar indicador derecha\n                                        //var indDerecho = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"};\n                                        arregloAInsertarNuevo.push(this.state.formula[indiceOriginal+1]);\n                                        if(a != indicesVarSeleccionadas.length-1) {\n                                            arregloAInsertarNuevo.push(this.state.formula[indiceOriginal+2]);\n                                        }\n                                    } else if( !Array.isArray(this.state.formula[indiceOriginal].valor) && this.state.formula[indiceOriginal].tipo.localeCompare(\"variable\") == 0 ) {\n                                        arregloAInsertarNuevo.push(this.state.formula[indiceOriginal]);\n                                        if(a != indicesVarSeleccionadas.length-1) {\n                                            arregloAInsertarNuevo.push(this.state.formula[indiceOriginal+1]);\n                                        }\n                                    }\n                                };\n                                console.log('arregloAInsertarNuevo');\n                                console.log(arregloAInsertarNuevo);\n                                //ELIMINANDO VARIABLES DEL ARREGLO ORIGINAL\n                                var copyFormula = [...this.state.formula];\n                                var posicionInicialAInsertarNuevaDiv = -1;\n                                console.log('copyFormula antes');\n                                console.log(copyFormula);\n                                for (var a = indicesVarSeleccionadas.length; a >= 0; a--) {\n                                    var indiceOriginal = parseInt(indicesVarSeleccionadas[a].split(\"]\")[0].split(\"[\")[1]);\n                                    if( Array.isArray(this.state.formula[indiceOriginal].valor) ) {\n                                        if(a != indicesVarSeleccionadas.length-1) {\n                                            copyFormula.splice(indiceOriginal+2, 1);\n                                        }\n                                        //quitar indicador derecha\n                                        copyFormula.splice(indiceOriginal+1, 1);\n                                        //quitar arreglo / division\n                                        copyFormula.splice(indiceOriginal, 1);\n                                        //quitar indicador izquierda\n                                        copyFormula.splice(indiceOriginal-1, 1);\n                                        posicionInicialAInsertarNuevaDiv = indiceOriginal-1;\n                                    } else if( !Array.isArray(this.state.formula[indiceOriginal].valor) && this.state.formula[indiceOriginal].tipo.localeCompare(\"variable\") == 0 ) {\n                                        if(a != indicesVarSeleccionadas.length-1) {\n                                            copyFormula.splice(indiceOriginal+1, 1);\n                                        }\n                                        copyFormula.splice(indiceOriginal, 1);\n                                        posicionInicialAInsertarNuevaDiv = indiceOriginal;\n                                    }\n                                };\n                                console.log('posicionInicialAInsertar');\n                                console.log(posicionInicialAInsertar);\n                                console.log('copyFormula despues quitar');\n                                console.log(copyFormula);\n                                for (var i = 0; i < arregloAInsertarNuevo.length; i++) {\n                                    copyFormula.splice(posicionInicialAInsertarNuevaDiv+i, 0, arregloAInsertarNuevo[i]);\n                                };\n                                console.log('copyFormula despues añadir');\n                                console.log(copyFormula);\n                                this.setState({\n                                    formula: copyFormula\n                                });\n                            } else {\n                                alert(\"La selecciones de divisiones tiene que tener todas las variables de la division seleccionada.\")\n                            }*/\n                        } else {\n                            alert(\"La seleccion de variables deben ser seguidas en la formula.\");\n                        }\n                        console.log('seleccionVariablesContinuas');\n                        console.log(seleccionVariablesContinuas);\n                    } else if(indicesVarSeleccionadas.length == 1) {\n                        //VIENDO SI SE SELECCIONO SOLO UNA VARIABLE\n                        if(arregloVarSeleccionadasPorIndicesInicial[0].length == 1) {\n                            //SELECCIONO SOLO UNA VARIABLE\n                            var variableAEvaluar;\n                            if(arregloVarSeleccionadasPorIndicesInicial[0][0].split(\"[\").length > 2) {\n                                eval(\"variableAEvaluar = this.state.formula\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(0, arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\")) );\n                            } else {\n                                eval(\"variableAEvaluar = this.state.formula\"+arregloVarSeleccionadasPorIndicesInicial[0][0]);\n                            }\n                            console.log('variableAEvaluar');\n                            console.log(variableAEvaluar);\n                            var seleccionVarEnNumerador = true, esAntesDenominador = true;;\n                            if(variableAEvaluar.length != undefined) {\n                                for (var i = 0; i < variableAEvaluar.length; i++) {\n                                    if(!Array.isArray(variableAEvaluar[i].valor) && variableAEvaluar[i].valor.localeCompare(\"division\\\\\\\\\") == 0) {\n                                        esAntesDenominador = false;\n                                    } else if(!Array.isArray(variableAEvaluar[i].valor) && variableAEvaluar[i].activa && !esAntesDenominador) {\n                                        seleccionVarEnNumerador = false;\n                                        break;\n                                    }\n                                };\n                            }\n                            console.log('seleccionVarEnNumerador');\n                            console.log(seleccionVarEnNumerador);\n                            if(seleccionVarEnNumerador) {\n                                //CREANDO ARREGLOS VALORES A INSERTAR\n                                var copiaAntiguaVariable, arregloAInsertarNuevo = [];\n                                eval(\"copiaAntiguaVariable = this.state.formula\"+arregloVarSeleccionadasPorIndicesInicial[0][0]);\n                                var indIzquierdo = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"};\n                                arregloAInsertarNuevo.push(indIzquierdo);\n                                var signoDivision = {valor: \"division\\\\\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\\\\\"};\n                                var division = {valor: [copiaAntiguaVariable, signoDivision, variableSeleccionada], width: \"90%\", height: \"49%\", tipo: \"contenedorDivision\"};\n                                arregloAInsertarNuevo.push(division);\n                                var indDerecho = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"};\n                                arregloAInsertarNuevo.push(indDerecho);\n                                //ELIMINANDO VARIABLES DEL ARREGLO ORIGINAL\n                                var copyFormula = [...this.state.formula];\n                                /*if(arregloVarSeleccionadasPorIndicesInicial[0][0].split(\"[\").length > 2) {\n                                    var variablePosicionAnterior;\n                                    eval(\"variablePosicionAnterior = copyFormula\"+arregloVarSeleccionadasPorIndicesInicial[0][0]);\n                                    if(variablePosicionAnterior.tipo.localeCompare(\"variable\") == 0) {\n                                        //var arregloConIndicadores = [];\n                                        //var indIzquierdo = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"};\n                                        //var indDerecho = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"};\n                                        //var signoDivision = {valor: \"division\\\\\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\\\\\"};\n                                        //var division = {valor: [copiaAntiguaVariable, signoDivision, variableSeleccionada], width: \"90%\", height: \"49%\", tipo: \"contenedorDivision\"};\n                                        //arregloConIndicadores.push()\n                                        for (var i = arregloAInsertarNuevo.length - 1; i >= 0; i--) {\n                                            if(i == arregloAInsertarNuevo.length - 1) {\n                                                console.log('1.');\n                                                console.log('posInsertar');\n                                                console.log( arregloVarSeleccionadasPorIndicesInicial[0][0].substring(0, arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\")) );\n                                                console.log('arregloAInsertarNuevo[i]');\n                                                console.log(arregloAInsertarNuevo[i]);\n                                                eval(\"copyFormula\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(0, arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\".splice(\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\", 1, arregloAInsertarNuevo[i])\");\n                                            } else {\n                                                console.log('2.');\n                                                console.log('posInsertar');\n                                                console.log( arregloVarSeleccionadasPorIndicesInicial[0][0].substring(0, arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\")) );\n                                                console.log('arregloAInsertarNuevo[i]');\n                                                console.log(arregloAInsertarNuevo[i]);\n                                                eval(\"copyFormula\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(0, arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\".splice(\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\", 0, arregloAInsertarNuevo[i])\");\n                                            }\n                                        };\n                                        //eval(\"copyFormula\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(0, arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\" = arregloAInsertarNuevo\");\n                                    } else if(variablePosicionAnterior.tipo.localeCompare(\"division\\\\\\\\\") == 0) {\n                                        eval(\"copyFormula\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(0, arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\" = arregloAInsertarNuevo\");\n                                    }\n                                } else {\n                                    console.log('3.');\n                                    eval(\"copyFormula\"+arregloVarSeleccionadasPorIndicesInicial[0][0]+\" = arregloAInsertarNuevo\");\n                                }*/\n                                for (var i = arregloAInsertarNuevo.length - 1; i >= 0; i--) {\n                                    if(i == arregloAInsertarNuevo.length - 1) {\n                                        eval(\"copyFormula\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(0, arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\".splice(\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\", 1, arregloAInsertarNuevo[i])\");\n                                    } else {\n                                        eval(\"copyFormula\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(0, arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\".splice(\"+arregloVarSeleccionadasPorIndicesInicial[0][0].substring(arregloVarSeleccionadasPorIndicesInicial[0][0].lastIndexOf(\"[\"))+\", 0, arregloAInsertarNuevo[i])\");\n                                    }\n                                };\n                                this.agregarFormulaAnchuraYAltura(copyFormula, true);\n                                this.setState({\n                                    operaciones: [],\n                                    formula: copyFormula\n                                });\n                                var self = this;\n                                setTimeout(function(){\n                                    console.log(self.state.formula)\n                                }, 2000);\n                                console.log('copyFormula')\n                                console.log(copyFormula);\n                            } else {\n                                alert(\"la variable seleccionada debe ser del numerador\");\n                            }\n                        } else if(arregloVarSeleccionadasPorIndicesInicial[0].length > 1) {\n                            //SELECCIONO MAS DE UNA VARIABLE\n                            var variableAEvaluar, posicionAInsertarNuevaDivsion;\n                            if(indicesVarSeleccionadas[0].split(\"[\").length > 2) {\n                                eval(\"variableAEvaluar = this.state.formula\"+indicesVarSeleccionadas[0].substring(0, indicesVarSeleccionadas[0].lastIndexOf(\".\")) );\n                                posicionAInsertarNuevaDivsion = indicesVarSeleccionadas[0].substring(0, indicesVarSeleccionadas[0].lastIndexOf(\".\"));\n                            } else {\n                                if(indicesVarSeleccionadas[0].lastIndexOf(\".\") != -1) {\n                                    eval(\"variableAEvaluar = this.state.formula\"+indicesVarSeleccionadas[0].substring(0, indicesVarSeleccionadas[0].lastIndexOf(\".\")) );\n                                    posicionAInsertarNuevaDivsion = indicesVarSeleccionadas[0];\n                                } else {\n                                    eval(\"variableAEvaluar = this.state.formula\"+indicesVarSeleccionadas[0] );\n                                    posicionAInsertarNuevaDivsion = indicesVarSeleccionadas[0];\n                                }\n                            }\n                            console.log('variableAEvaluar');\n                            console.log(variableAEvaluar);\n                            seleccionValidaVarDivision = true;\n                            this.verificarSeleccionoTodosDivision(variableAEvaluar.valor);\n                            console.log('seleccionValidaVarDivision');\n                            console.log(seleccionValidaVarDivision);\n                            console.log('this.state.formula');\n                            console.log(this.state.formula);\n                            if(seleccionValidaVarDivision) {\n                                var arregloAInsertarNuevo = [], divisionAInsertar;\n                                if(variableAEvaluar.tipo.localeCompare(\"contenedorDivision\") == 0) {\n                                    console.log('1');\n                                    var copiaAntiguaVariable = jQuery.extend(true, {}, variableAEvaluar);\n                                    var indIzquierdo = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"};\n                                    var signoDivision = {valor: \"division\\\\\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\\\\\"};\n                                    var indDerecho = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"};\n                                    var division = {valor: [indIzquierdo, copiaAntiguaVariable, indDerecho, signoDivision, variableSeleccionada], width: \"90%\", height: \"49%\", tipo: \"contenedorDivision\"};\n                                    divisionAInsertar = division;\n                                    console.log('divisionAInsertar DESPUES');\n                                    console.log(divisionAInsertar.valor);\n                                } else {\n                                    console.log('2');\n                                    var copiaAntiguaVariable = jQuery.extend(true, {}, variableAEvaluar);\n                                    var indIzquierdo = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"};\n                                    arregloAInsertarNuevo.push(indIzquierdo);\n                                    var signoDivision = {valor: \"division\\\\\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\\\\\"};\n                                    var division = {valor: [copiaAntiguaVariable, signoDivision, variableSeleccionada], width: \"90%\", height: \"49%\", tipo: \"contenedorDivision\"};\n                                    arregloAInsertarNuevo.push(division);\n                                    var indDerecho = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"};\n                                    arregloAInsertarNuevo.push(indDerecho);\n                                    divisionAInsertar = arregloAInsertarNuevo;\n                                    console.log('divisionAInsertar DESPUES');\n                                    console.log(divisionAInsertar.valor);\n                                }\n                                var copyFormula = [...this.state.formula];\n                                console.log('posicionAInsertarNuevaDivsion');\n                                console.log(posicionAInsertarNuevaDivsion);\n                                console.log('posicionAInsertarNuevaDivsion.substring(0, posicionAInsertarNuevaDivsion.lastIndexOf(\"[\")) 1');\n                                console.log(posicionAInsertarNuevaDivsion.substring(0, posicionAInsertarNuevaDivsion.lastIndexOf(\"[\")));\n                                console.log('posicionAInsertarNuevaDivsion.substring(0, posicionAInsertarNuevaDivsion.lastIndexOf(\"[\").substring(0, posicionAInsertarNuevaDivsion.lastIndexOf(\"]\")) 2');\n                                console.log( posicionAInsertarNuevaDivsion.substring(0, posicionAInsertarNuevaDivsion.lastIndexOf(\"[\")).substring(0, posicionAInsertarNuevaDivsion.lastIndexOf(\"]\")) );\n                                console.log('posicionAInsertarNuevaDivsion.substring(0, posicionAInsertarNuevaDivsion.lastIndexOf(\".\")) 2');\n                                console.log( posicionAInsertarNuevaDivsion.substring(0, posicionAInsertarNuevaDivsion.lastIndexOf(\".\")) );\n                                if(posicionAInsertarNuevaDivsion.split(\"[\").length > 2) {\n                                    console.log('1');\n                                    var pos1 = posicionAInsertarNuevaDivsion.substring(posicionAInsertarNuevaDivsion.lastIndexOf(\"[\")+1);\n                                    console.log('pos1');\n                                    console.log(pos1);\n                                    var pos2 = pos1.substring(0, pos1.lastIndexOf(\"]\"));\n                                    console.log('pos2');\n                                    console.log(pos2);\n                                    eval(\"copyFormula\"+posicionAInsertarNuevaDivsion.substring(0, posicionAInsertarNuevaDivsion.lastIndexOf(\"[\"))+\".splice(\"+pos2+\", 1, divisionAInsertar)\");\n                                } else {\n                                    console.log('2');\n                                    eval(\"copyFormula\"+posicionAInsertarNuevaDivsion.substring(0, posicionAInsertarNuevaDivsion.lastIndexOf(\"[\"))+\".splice(\"+posicionAInsertarNuevaDivsion.substring(0, posicionAInsertarNuevaDivsion.lastIndexOf(\".\"))+\", 1, divisionAInsertar)\");\n                                }\n                                //copyFormula[posicionAInsertarNuevaDivsion] = divisionAInsertar;\n                                //eval(\"copyFormula[\"+posicionAInsertarNuevaDivsion+\"] = divisionAInsertar\");\n                                console.log('copyFormula DESPUES');\n                                console.log(copyFormula);\n                                identificadorIndicador = 0;\n                                this.agregarFormulaAnchuraYAltura(copyFormula, true);\n                                this.setState({\n                                    operaciones: [],\n                                    formula: copyFormula\n                                });\n                                var self = this;\n                                setTimeout(function(){\n                                    console.log(self.state.formula)\n                                }, 2000);\n                            } else {\n                                alert(\"Selección de división invalida. Falta selección de numerador.\")\n                            }\n                        }\n                    }\n\n                    //actualizando campos de variables a mostrar segun el campo que se acaba de agregar\n                    if(variableSeleccionada.esFuenteDato) {\n                        //solo mostrar campos que sean de conexiones tabla\n                        var arregloConexionesTemp = [], arregloCamposConexionesTemp = [];\n                        for (var i = 0; i < tablasOriginales.length; i++) {\n                            if(tablasOriginales[i].ID == variableSeleccionada.tablaID) {\n                                arregloConexionesTemp.push(tablasOriginales[i]);\n                                for (var j = 0; j < camposTablasOriginales[i].length; j++) {\n                                    if(arregloCamposConexionesTemp[arregloConexionesTemp.length-1] == undefined)\n                                        arregloCamposConexionesTemp[arregloConexionesTemp.length-1] = [];\n                                    if(tipoOriginal.localeCompare(\"int\") == 0 || tipoOriginal.localeCompare(\"decimal\") == 0) {\n                                        if(camposTablasOriginales[i][j].tipo.localeCompare(\"int\") == 0 || camposTablasOriginales[i][j].tipo.localeCompare(\"decimal\") == 0)\n                                            arregloCamposConexionesTemp[arregloConexionesTemp.length-1].push(camposTablasOriginales[i][j]);\n                                    } else {\n                                        if(camposTablasOriginales[i][j].tipo.localeCompare(tipoOriginal) == 0)\n                                            arregloCamposConexionesTemp[arregloConexionesTemp.length-1].push(camposTablasOriginales[i][j]);\n                                    }\n                                };\n                                break;\n                            }\n                        };\n                        this.setState({\n                            tablas: arregloConexionesTemp,\n                            camposTablas: arregloCamposConexionesTemp,\n                            variablesEscalares: [],\n                            variables: [],\n                            camposVariables: [],\n                            variablesSQL: [],\n                            camposVariablesSQL: []\n                        });\n                    } else {\n                        if(variableSeleccionada.esObjeto) {\n                            var arregloVariablesTemp = [], arregloCamposVariablesTemp = [];\n                            for (var i = 0; i < variablesOriginales.length; i++) {\n                                if(variablesOriginales[i].ID == variableSeleccionada.variableID) {\n                                    arregloVariablesTemp.push(variablesOriginales[i]);\n                                    for (var j = 0; j < camposVariablesOriginales[i].length; j++) {\n                                        if(arregloCamposVariablesTemp[arregloVariablesTemp.length-1] == undefined)\n                                            arregloCamposVariablesTemp[arregloVariablesTemp.length-1] = [];\n                                        if(tipoOriginal.localeCompare(\"int\") == 0 || tipoOriginal.localeCompare(\"decimal\") == 0) {\n                                            if(camposVariablesOriginales[i][j].tipo.localeCompare(\"int\") == 0 || camposVariablesOriginales[i][j].tipo.localeCompare(\"decimal\") == 0)\n                                                arregloCamposVariablesTemp[arregloVariablesTemp.length-1].push(camposVariablesOriginales[i][j]);\n                                        } else {\n                                            if(camposVariablesOriginales[i][j].tipo.localeCompare(tipoOriginal) == 0)\n                                                arregloCamposVariablesTemp[arregloVariablesTemp.length-1].push(camposVariablesOriginales[i][j]);\n                                        }\n                                    };\n                                    break;\n                                }\n                            };\n                            console.log(variablesEscalaresOriginales)\n                            this.setState({\n                                tablas: [],\n                                camposTablas: [],\n                                variablesEscalares: variablesEscalaresOriginales,\n                                variables: arregloVariablesTemp,\n                                camposVariables: arregloCamposVariablesTemp,\n                                variablesSQL: [],\n                                camposVariablesSQL: []\n                            });\n                        } else if(variableSeleccionada.esInstruccionSQL) {\n                            var arregloVariablesSQLTemp = [], arregloCamposVariablesSQLTemp = [];\n                            for (var i = 0; i < variablesOriginalesSQL.length; i++) {\n                                if(variablesOriginalesSQL[i].ID == variableSeleccionada.variableID) {\n                                    arregloVariablesSQLTemp.push(variablesOriginalesSQL[i]);\n                                    for (var j = 0; j < camposVariablesOriginalesSQL[i].length; j++) {\n                                        if(arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1] == undefined)\n                                            arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1] = [];\n                                        if(tipoOriginal.localeCompare(\"int\") == 0 || tipoOriginal.localeCompare(\"decimal\") == 0) {\n                                            if(camposVariablesOriginalesSQL[i][j].tipo.localeCompare(\"int\") == 0 || camposVariablesOriginalesSQL[i][j].tipo.localeCompare(\"decimal\") == 0)\n                                                arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1].push(camposVariablesOriginalesSQL[i][j]);\n                                        } else {\n                                            if(camposVariablesOriginalesSQL[i][j].tipo.localeCompare(tipoOriginal) == 0)\n                                                arregloCamposVariablesSQLTemp[arregloVariablesSQLTemp.length-1].push(camposVariablesOriginalesSQL[i][j]);\n                                        }\n                                    };\n                                    break;\n                                }\n                            };\n                            this.setState({\n                                tablas: [],\n                                camposTablas: [],\n                                variablesEscalares: variablesEscalaresOriginales,\n                                variables: [],\n                                camposVariables: [],\n                                variablesSQL: arregloVariablesSQLTemp,\n                                camposVariablesSQL: arregloCamposVariablesSQLTemp\n                            });\n                        } else {\n                            this.setState({\n                                tablas: [],\n                                camposTablas: [],\n                                variablesEscalares: this.state.variablesEscalares,\n                                variables: this.state.variables,\n                                camposVariables: this.state.camposVariables,\n                                variablesSQL: this.state.variablesSQL,\n                                camposVariablesSQL: this.state.camposVariablesSQL\n                            });\n                        }\n                    }\n                    //FIN actualizando campos de variables a mostrar segun el campo que se acaba de agregar\n                }\n            } else if( !$(\"div\").hasClass(\"colorPunteroFormula\") ){\n                alert(\"Seleccione una posición en la fórmula.\");\n            } else if(this.state.formula.length > 0 && $(\"div\").hasClass(\"colorPunteroFormula\") && operacionSeleccionada.valor == undefined) {\n                alert(\"Seleccione una operación.\");\n            }\n        } else {\n            alert(\"Seleccione un campo\");\n        }\n    }\n\n    verificarSeleccionoTodosDivision (arreglo) {\n        console.log('arreglo')\n        console.log(arreglo)\n        //se verifica que todas las variables esten seleccionadas que esten en el denominador, y tofas las vars de los numeradores\n        if(seleccionValidaVarDivision) {\n            for (var i = 0; i < arreglo.length; i++) {\n                console.log('arreglo[i]')\n                console.log(arreglo[i])\n                if( !Array.isArray(arreglo[i].valor) ) {\n                    if( arreglo[i].tipo.localeCompare(\"variable\") == 0 && !arreglo[i].activa ) {\n                        console.log('arreglo[i]');\n                        console.log(arreglo[i]);\n                        seleccionValidaVarDivision = false;\n                        return;\n                    }\n                }\n            };\n            for (var i = 0; i < arreglo.length; i++) {\n                if( Array.isArray(arreglo[i].valor) ) {\n                    this.verificarSeleccionoTodosDivision (arreglo[i].valor);\n                }\n            };\n        } else {\n            return;\n        }\n    }\n\n    crearArregloDeFormula () {\n        if (this.props.esEditarVar && banderaCargaVariablesINICIO == banderaCargaVariablesFIN) {\n            var nuevoArregloFormula = [];\n            this.crearObjetosDeArregloDeFormula(nuevoArregloFormula, 0, this.props.formulaSeleccionadaEdit.formula);\n            this.agregarFormulaAnchuraYAltura(nuevoArregloFormula, true);\n            console.log('nuevoArregloFormula')\n            console.log(nuevoArregloFormula)\n            this.setState({\n                formula: nuevoArregloFormula\n            });\n        }\n    }\n\n    crearObjetosDeArregloDeFormula (arreglo, index, formula) {\n        for (var i = index; i < formula.length; i++) {\n            if(formula.charAt(i).localeCompare('(') == 0 && !this.props.esEditarVar) {\n                //var copiaAntiguaVariable = jQuery.extend(true, {}, variableAEvaluar);\n                var indIzquierdo = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"izquierda\"};\n                arreglo.push(indIzquierdo);\n                var signoDivision = {valor: \"division\\\\\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\\\\\"};\n                var division = {valor: [], width: \"90%\", height: \"49%\", tipo: \"contenedorDivision\"};\n                arreglo.push(division);\n                var indDerecho = {valor: \"\\\\\\\\\", width: \"5%\", height: \"100%\", tipo: \"indicador\", posicion: \"derecha\"};\n                arreglo.push(indDerecho);\n                this.crearObjetosDeArregloDeFormula(arreglo[arreglo.length-2].valor, (i+1), formula);\n                var cierreParentesis = this.encontrarCierreParentesis(i, formula);\n                i += cierreParentesis;\n            } else if(formula.charAt(i).localeCompare(\"/\") == 0) {\n                var signoDivision = {valor: \"division\\\\\\\\\", width: \"100%\", height: \"2%\", tipo: \"division\\\\\\\\\"};\n                arreglo.push(signoDivision);\n            } else if(this.esOperacionAritmetica(formula.charAt(i))) {\n                var objeto = {\n                    valor: formula.charAt(i),\n                    operacion: formula.charAt(i),\n                    activa: false,\n                    esFuenteDato: false,\n                    esObjeto: false,\n                    esInstruccionSQL: false,\n                    tipo: \"signo\"\n                };\n                arreglo.push(objeto);\n            } else if(this.esOperacionCompleja(formula, i)) {\n                var nombre = this.getPalabraFormula(formula, i);\n                nuevoArregloFormula.push({valor: nombre});\n            } else if(this.esVariable(formula, i) !== false && formula.charAt(i).localeCompare(')') != 0) {\n                var variable = this.esVariable(formula, i);\n                var operacion = 'FORMULA', texto = variable.valor;\n                if(this.props.esOperacionSQL)\n                    operacion = this.props.operacionSQL;\n                if(this.props.esOperacionSQL && this.exitseCodigoOperacion(this.props.operacionSQL)) {\n                    texto = this.retornarCodigoOperacion(this.props.operacionSQL) + \"(\" + variableSeleccionada.valor + \")\";\n                    operacion = this.retornarCodigoOperacion(this.props.operacionSQL);\n                }\n                if (this.props.esOperacionSQL && this.props.operacionSQL.localeCompare('ASIG') == 0) {\n                    //cuando se agrega campo a formula para crear operacion ASIG\n                    operacion = 'ASIG';\n                    texto = variable.valor;\n                }\n                var objeto = {\n                    valor: variable.valor,\n                    operacion: operacion,\n                    tipo: \"variable\",\n                    activa: false,\n                    esFuenteDato: false,\n                    esObjeto: false,\n                    esInstruccionSQL: false,\n                    nivel: variable.nivel,\n                    texto: texto,\n                    tipoOriginal: variable.tipo\n                };\n                arreglo.push(objeto);\n                i+=variable.valor.length-1;\n            }\n        };\n    }\n\n    encontrarCierreParentesis (index, formula) {\n        var count = 0;\n        for (var i = index; i < formula.length; i++) {\n            if(formula.charAt(i).localeCompare(')') == 0) {\n                return count;\n            } else {\n                count++;\n            }\n        }\n        return count;\n    }\n\n    esOperacionAritmetica (caracter) {\n        if(caracter != undefined) {\n            if(caracter.localeCompare('+') == 0) {\n                return true;\n            } else if(caracter.localeCompare('-') == 0) {\n                return true;\n            } else if(caracter.localeCompare('/') == 0) {\n                return true;\n            } else if(caracter.localeCompare('*') == 0) {\n                return true;\n            } else if(caracter.localeCompare('x') == 0) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    esOperacionCompleja (formula, posicionCaracter) {\n        var palabra = this.getPalabraFormula(formula, posicionCaracter);\n        if(palabra.localeCompare('RAND') == 0) {\n            return true;\n        } else if(palabra.localeCompare('DIA') == 0) {\n            return true;\n        } else if(palabra.localeCompare('AVERAJE') == 0) {\n            return true;\n        } else if(palabra.localeCompare('MEDIA') == 0) {\n            return true;\n        }\n        return false;\n    }\n\n    getPalabraFormula (formula, posicionCaracter) {\n        var variable = '';\n        for (var i = posicionCaracter; i < formula.length; i++) {\n            if(formula.charAt(i) != \"(\" && formula.charAt(i) != \")\" && formula.charAt(i) != \"\\\\\" && \n                formula.charAt(i) != \"/\" && formula.charAt(i) != \"*\" && formula.charAt(i) != \"[\" && \n                formula.charAt(i) != \"√\" && formula.charAt(i) != \"+\" && formula.charAt(i) != \"-\")\n                variable+=formula[i];\n            else\n                return variable;\n        };\n        return variable;\n    }\n\n    esVariable (formula, posicionCaracter) {\n        var palabra = this.getPalabraFormula(formula, posicionCaracter);\n        for (var i = 0; i < tablasOriginales.length; i++) {\n            for (var j = 0; j < camposTablasOriginales[i].length; j++) {\n                if(camposTablasOriginales[i][j].valor.localeCompare(palabra) == 0) {\n                    return camposTablasOriginales[i][j];\n                }\n            };\n        };\n        for (var i = 0; i < variablesEscalaresOriginales.length; i++) {\n            if(variablesEscalaresOriginales[i].valor.localeCompare(palabra) == 0) {\n                return variablesEscalaresOriginales[i];\n            }\n        };\n        for (var i = 0; i < variablesOriginales.length; i++) {\n            for (var j = 0; j < camposVariablesOriginales[i].length; j++) {\n                if(camposVariablesOriginales[i][j].valor.localeCompare(palabra) == 0) {\n                    return camposVariablesOriginales[i][j];\n                }\n            };\n        };\n        for (var i = 0; i < excelOriginales.length; i++) {\n            for (var j = 0; j < camposExcelOriginales[i].length; j++) {\n                if(camposExcelOriginales[i][j].valor.localeCompare(palabra) == 0) {\n                    return camposExcelOriginales[i][j];\n                }\n            };\n        };\n        for (var i = 0; i < formasOriginales.length; i++) {\n            if(formasOriginales[i].valor.localeCompare(palabra) == 0) {\n                return formasOriginales[i];\n            }\n        };\n        for (var i = 0; i < variablesOriginalesSQL.length; i++) {\n            for (var j = 0; j < camposVariablesOriginalesSQL[i].length; j++) {\n                if(camposVariablesOriginalesSQL[i][j].valor.localeCompare(palabra) == 0) {\n                    return camposVariablesOriginalesSQL[i][j];\n                }\n            };\n        };\n        return false;\n    }\n\n    agregarFormulaAnchuraYAltura(arregloFormula, esIndiceCero) {\n        var contadorIndicadoresNumerador = 0, contadorIndicadoresDenominador = 0, contadorSignosNumerador = 0, contadorSignosDenominador = 0, contadorVariablesNumerador = 0, contadorVariablesDenominador = 0, esDespuesDivision = false;\n        for (var i = 0; i < arregloFormula.length; i++) {\n            if( !Array.isArray(arregloFormula[i].valor) && this.esOperacionAritmetica(arregloFormula[i].valor.toString()) ) {\n                if(!esDespuesDivision) {\n                    contadorSignosNumerador++;\n                } else {\n                    contadorSignosDenominador++;\n                }\n            } else if( (!Array.isArray(arregloFormula[i].valor) && arregloFormula[i].valor.toString().localeCompare(\"\\\\\\\\\") != 0 && !this.esOperacionAritmetica(arregloFormula[i].valor.toString()) && arregloFormula[i].valor.toString().localeCompare(\"division\\\\\\\\\") != 0) || Array.isArray(arregloFormula[i].valor) ) {\n                if(!esDespuesDivision) {\n                    contadorVariablesNumerador++;\n                } else {\n                    contadorVariablesDenominador++;\n                }\n            } else if( !Array.isArray(arregloFormula[i].valor) && arregloFormula[i].valor.toString().localeCompare(\"\\\\\\\\\") == 0 ) {\n                arregloFormula[i].identificadorIndicador = identificadorIndicador;\n                identificadorIndicador++;\n                if(!esDespuesDivision) {\n                    contadorIndicadoresNumerador++;\n                } else {\n                    contadorIndicadoresDenominador++;\n                }\n            }\n            if ( !Array.isArray(arregloFormula[i].valor) && arregloFormula[i].valor.toString().localeCompare(\"division\\\\\\\\\") == 0 ) {\n                esDespuesDivision = true;\n            }\n        };\n        var widthNumerador = 100;\n        //var height = 100;\n        var restaTotalIndicadoresNumerador = contadorIndicadoresNumerador * 5;\n        widthNumerador -= restaTotalIndicadoresNumerador;\n        var restaTotalSignosNumerador = contadorSignosNumerador * 2;\n        widthNumerador -= restaTotalSignosNumerador;\n        widthNumerador /= contadorVariablesNumerador;\n\n        var widthDenominador = 100;\n        var restaTotalIndicadoresDenominador = contadorIndicadoresDenominador * 5;\n        widthDenominador -= restaTotalIndicadoresDenominador;\n        var restaTotalSignosDenominador = contadorSignosDenominador * 2;\n        widthDenominador -= restaTotalSignosDenominador;\n        widthDenominador /= contadorVariablesDenominador;\n\n        var esDespuesDivisionWidth = false;\n        for (var i = 0; i < arregloFormula.length; i++) {\n            if( !Array.isArray(arregloFormula[i].valor) && this.esOperacionAritmetica(arregloFormula[i].valor.toString()) ) {\n                arregloFormula[i].width = \"2%\";\n            } else if( (!Array.isArray(arregloFormula[i].valor) && arregloFormula[i].valor.toString().localeCompare(\"\\\\\\\\\") != 0 && !this.esOperacionAritmetica(arregloFormula[i].valor.toString()) && arregloFormula[i].valor.toString().localeCompare(\"division\\\\\\\\\") != 0) /*|| Array.isArray(arregloFormula[i].valor)*/ ) {\n                if(!esDespuesDivisionWidth) {\n                    arregloFormula[i].width = widthNumerador+\"%\";\n                } else {\n                    arregloFormula[i].width = widthDenominador+\"%\";\n                }\n            } else if( !Array.isArray(arregloFormula[i].valor) && arregloFormula[i].valor.toString().localeCompare(\"\\\\\\\\\") == 0 ) {\n                //if(!esIndiceCero) {\n                    arregloFormula[i].width = \"5%\";\n                /*} else {\n                    arregloFormula[i].width = (widthNumerador*0.05)+\"%\";\n                }*/\n            }else if( Array.isArray(arregloFormula[i].valor)) {\n                if(!esIndiceCero) {\n                    arregloFormula[i].width = \"90%\";\n                } else {\n                    arregloFormula[i].width = widthNumerador+\"%\";\n                }\n            }\n            if ( !Array.isArray(arregloFormula[i].valor) && arregloFormula[i].valor.toString().localeCompare(\"division\\\\\\\\\") == 0 ) {\n                arregloFormula[i].height = \"2%\";\n            } else if(!Array.isArray(arregloFormula[i].valor)) {\n                if(!esIndiceCero) {\n                    if(esDespuesDivision)\n                        arregloFormula[i].height = \"49%\";\n                    else\n                        arregloFormula[i].height = \"100%\";\n                } else {\n                    arregloFormula[i].height = \"100%\";\n                }\n            } else if(Array.isArray(arregloFormula[i].valor)) {\n                if(!esIndiceCero) {\n                    if(esDespuesDivision)\n                        arregloFormula[i].height = \"49%\";\n                    else\n                        arregloFormula[i].height = \"100%\";\n                } else {\n                    arregloFormula[i].height = \"100%\";\n                }\n            }\n            if ( !Array.isArray(arregloFormula[i].valor) && arregloFormula[i].valor.toString().localeCompare(\"division\\\\\\\\\") == 0 ) {\n                esDespuesDivisionWidth = true;\n            }\n        };\n        for (var i = 0; i < arregloFormula.length; i++) {\n            if( Array.isArray(arregloFormula[i].valor) ) {\n                this.agregarFormulaAnchuraYAltura(arregloFormula[i].valor, false);\n            }\n        }\n        /*var width = 0, posicionX = 0, posicionY = 0;\n        for (var i = 0; i < nuevoArregloFormula.length; i++) {\n            if (nuevoArregloFormula[i].length == undefined) {\n                //\n            }\n        };\n        this.setState({\n            formula: formulaTemp,\n            anchuraSeccionFormula: width\n        }, console.log(this.state.formula) );*/\n    }\n\n    //esNivelRaiz es bandera para saber si el arreglo que se esta recorriendo es el principal/original nivel 0 del arreglo de formulas\n    getFormulaAndOperationText (arreglo, esNivelRaiz) {\n        for (var i = 0; i < arreglo.length; i++) {\n            if(arreglo[i].tablaID != undefined || arreglo[i].variableID != undefined || arreglo[i].excelVariableID != undefined || arreglo[i].formaVariableID != undefined || arreglo[i].esValorManual != undefined) {\n                console.log('arreglo[i]');\n                console.log(arreglo[i]);\n                console.log('objetoFormulaParaSacarID');\n                console.log(objetoFormulaParaSacarID);\n                if(objetoFormulaParaSacarID.tablaID == undefined && arreglo[i].tablaID != undefined) {\n                    objetoFormulaParaSacarID.tablaID = arreglo[i].tablaID;\n                } else if((objetoFormulaParaSacarID.variableID == undefined && arreglo[i].variableID != undefined) || (objetoFormulaParaSacarID.variableID != undefined && arreglo[i].variableID != undefined && arreglo[i].esObjeto)) {\n                    objetoFormulaParaSacarID.variableID = arreglo[i].variableID;\n                    objetoFormulaParaSacarID.variableCampoID = arreglo[i].variableCampoID;\n                } else if(objetoFormulaParaSacarID.excelArchivoID == undefined && arreglo[i].excelArchivoID != undefined) {\n                    objetoFormulaParaSacarID.excelArchivoID = arreglo[i].excelArchivoID;\n                    objetoFormulaParaSacarID.excelVariableID = arreglo[i].excelVariableID;\n                } else if(objetoFormulaParaSacarID.formaVariableID == undefined && arreglo[i].formaVariableID != undefined) {\n                    objetoFormulaParaSacarID.formaVariableID = arreglo[i].formaVariableID;\n                } else if(objetoFormulaParaSacarID.esValorManual == undefined && arreglo[i].esValorManual) {\n                    objetoFormulaParaSacarID.esValorManual = arreglo[i].esValorManual;\n                }\n            }\n            if( Array.isArray(arreglo[i].valor) ) {\n                this.getFormulaAndOperationText(arreglo[i].valor, false);\n            } else if( !Array.isArray(arreglo[i].valor) ) {\n                if(arreglo[i].operacion != undefined && arreglo[i].operacion.localeCompare(\"ASIG\") == 0) {\n                    formulaGuardarFormula += \"ASIG(\"+arreglo[i].valor+\")\";\n                    operacionGuardarFormula = \"ASIG\";\n                } else if(arreglo[i].operacion != undefined && arreglo[i].operacion.localeCompare(\"COUNT\") == 0) {\n                    formulaGuardarFormula += \"COUNT(\"+arreglo[i].valor+\")\";\n                    operacionGuardarFormula = \"COUNT\";\n                } else if(arreglo[i].operacion != undefined && arreglo[i].operacion.localeCompare(\"PROM\") == 0) {\n                    formulaGuardarFormula += \"PROM(\"+arreglo[i].valor+\")\";\n                    operacionGuardarFormula = \"PROM\";\n                } else if(arreglo[i].operacion != undefined && arreglo[i].operacion.localeCompare(\"MAX\") == 0) {\n                    formulaGuardarFormula += \"MAX(\"+arreglo[i].valor+\")\";\n                    operacionGuardarFormula = \"MAX\";\n                } else if(arreglo[i].operacion != undefined && arreglo[i].operacion.localeCompare(\"MIN\") == 0) {\n                    formulaGuardarFormula += \"MIN(\"+arreglo[i].valor+\")\";\n                    operacionGuardarFormula = \"MIN\";\n                } else if(arreglo[i].operacion != undefined && arreglo[i].operacion.localeCompare(\"AUTOSUM\") == 0) {\n                    formulaGuardarFormula += \"AUTOSUM(\"+arreglo[i].valor+\")\";\n                    operacionGuardarFormula = \"AUTOSUM\";\n                } else if(arreglo[i].operacion != undefined && arreglo[i].operacion.localeCompare(\"FORMULA\") == 0) {\n                    if(!esNivelRaiz && i == 0)\n                        formulaGuardarFormula += \"(\";\n                    formulaGuardarFormula += arreglo[i].valor;\n                    operacionGuardarFormula = \"FORMULA\";\n                } else if(arreglo[i].tipo != undefined && arreglo[i].tipo.localeCompare(\"signo\") == 0) {\n                    formulaGuardarFormula += arreglo[i].valor;\n                    operacionGuardarFormula = \"FORMULA\";\n                } else if(arreglo[i].tipo != undefined && arreglo[i].tipo.localeCompare(\"division\\\\\\\\\") == 0) {\n                    formulaGuardarFormula += \"/\";\n                    operacionGuardarFormula = \"FORMULA\";\n                }\n            }\n            if(!esNivelRaiz && i == arreglo.length-1)\n                formulaGuardarFormula += \")\";\n        };\n    }\n\n    iniciarGuardarFormula () {\n        console.log('this.state.formula')\n        console.log(this.state.formula)\n        formulaGuardarFormula = '';\n        operacionGuardarFormula = '';\n        objetoFormulaParaSacarID = {};\n        this.getFormulaAndOperationText(this.state.formula, true);\n        /*for (var i = 0; i < this.state.formula.length; i++) {\n            if(this.state.formula[i].operacion != undefined && this.state.formula[i].operacion.localeCompare(\"ASIG\") == 0) {\n                formula += \"ASIG(\"+this.state.formula[i].valor+\")\";\n                operacion = \"ASIG\";\n            } else if(this.state.formula[i].operacion != undefined && this.state.formula[i].operacion.localeCompare(\"COUNT\") == 0) {\n                formula += \"COUNT(\"+this.state.formula[i].valor+\")\";\n                operacion = \"COUNT\";\n            } else if(this.state.formula[i].operacion != undefined && this.state.formula[i].operacion.localeCompare(\"PROM\") == 0) {\n                formula += \"PROM(\"+this.state.formula[i].valor+\")\";\n                operacion = \"PROM\";\n            } else if(this.state.formula[i].operacion != undefined && this.state.formula[i].operacion.localeCompare(\"MAX\") == 0) {\n                formula += \"MAX(\"+this.state.formula[i].valor+\")\";\n                operacion = \"MAX\";\n            } else if(this.state.formula[i].operacion != undefined && this.state.formula[i].operacion.localeCompare(\"MIN\") == 0) {\n                formula += \"MIN(\"+this.state.formula[i].valor+\")\";\n                operacion = \"MIN\";\n            } else if(this.state.formula[i].operacion != undefined && this.state.formula[i].operacion.localeCompare(\"AUTOSUM\") == 0) {\n                formula += \"AUTOSUM(\"+this.state.formula[i].valor+\")\";\n                operacion = \"AUTOSUM\";\n            } else {\n                formula += this.state.formula[i].valor;\n                operacion = \"FORMULA\";\n            }\n        };*/\n        console.log('formulaGuardarFormula');\n        console.log(formulaGuardarFormula);\n        console.log('operacionGuardarFormula');\n        console.log(operacionGuardarFormula);\n        console.log('variableSeleccionada');\n        console.log(variableSeleccionada);\n        var objetoFormula = {variableID: -1, variableCampoID: -1, numeroDeFormulaDeVariable: -1, tablaID: -1, excelArchivoID: -1, excelVariableID: -1, formaVariableID: -1, formula: formulaGuardarFormula, operacion: operacionGuardarFormula, esValorManual: false};\n        if(objetoFormulaParaSacarID.tablaID != undefined) {\n            objetoFormula.tablaID = objetoFormulaParaSacarID.tablaID;\n        } else if(objetoFormulaParaSacarID.excelArchivoID != undefined) {\n            objetoFormula.excelArchivoID = objetoFormulaParaSacarID.excelArchivoID;\n            objetoFormula.excelVariableID = objetoFormulaParaSacarID.excelVariableID;\n        } else if(objetoFormulaParaSacarID.formaVariableID != undefined) {\n            objetoFormula.formaVariableID = objetoFormulaParaSacarID.formaVariableID;\n        } else if(objetoFormulaParaSacarID.variableID != undefined) {\n            objetoFormula.variableID = objetoFormulaParaSacarID.variableID;\n            objetoFormula.variableCampoID = objetoFormulaParaSacarID.variableCampoID;\n        } else if (objetoFormulaParaSacarID.esValorManual) {\n            objetoFormula.esValorManual = objetoFormulaParaSacarID.esValorManual;\n        }\n        console.log('objetoFormula');\n        console.log(objetoFormula);\n        /*console.log('formula');\n        console.log(this.state.formula);*/\n        //this.props.anadirFormula(formula, this.state.formula);\n        variableSeleccionada = {};\n        operacionSeleccionada = {};\n        if(!this.props.esEditarVar) {\n            this.props.anadirFormula(objetoFormula, this.state.formula);\n        } else {\n            this.props.modificarFormula(objetoFormula, this.state.formula);\n        }\n        alert(\"Fórmula guardada.\");\n        //camposTablas={this.state.camposTablas} variables={this.state.variablesEscalares} objetos={this.state.variables} camposDeObjetos={this.state.camposVariables} excel={this.state.excel} camposDeExcel={this.state.camposDeExcel} formas={this.state.formas} variablesSQL={this.state.variablesSQL} camposVariablesSQL={this.state.camposVariablesSQL}\n        //this.guardarVariable(formula);\n    }\n\n    guardarVariable (formula) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"update \"+this.props.tablaVarEditar+\" set formula = '\"+formula+\"' where ID = \"+this.props.idVarEditar, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    actualizarEstadoInputManual (seleccion) {\n        seleccionManual = seleccion;\n    }\n\n    keyupEstadoInputManual () {\n        var seleccion = $(\"#valorManual\").val();\n        if(!isNaN(seleccion) && this.state.formula.length == 0) {\n            this.setState({\n                operaciones: operacionesNumero\n            });\n        } else if(!isNaN(seleccion) && this.state.formula.length == 0) {\n            this.setState({\n                operaciones: operacionesNumero\n            });\n        } else if(this.isValidDate(new Date(seleccion)) && this.state.formula.length == 0) {\n            this.setState({\n                operaciones: operacionesFecha\n            });\n        } else if(!isNaN(seleccion) && seleccion.toString().length > 0 && this.state.formula.length == 0) {\n            this.setState({\n                operaciones: operacionesCadena\n            });\n        } else if(!isNaN(seleccion) && this.state.formula.length > 0) {\n            this.setState({\n                operaciones: operacionesNumeroMasDeUnValor\n            });\n        } else if(!isNaN(seleccion) && this.state.formula.length > 0) {\n            this.setState({\n                operaciones: operacionesNumeroMasDeUnValor\n            });\n        } else if(!isNaN(seleccion) && seleccion.toString().length > 0 && this.state.formula.length > 0) {\n            this.setState({\n                operaciones: operacionesCadenaMasDeUnValor\n            });\n        }\n    }\n\n    isValidDate (fecha) {\n        if (Object.prototype.toString.call(fecha) === \"[object Date]\") {\n            if (isNaN(fecha.getTime())) {\n                return false;\n            } else {\n                return true;\n            }\n        } else {\n            return false;\n        }\n    }\n\n    loadTablas () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from Tablas\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        tablasOriginales = result.recordset;\n                        banderaCargaVariablesFIN += result.recordset.length;\n                        this.setState({\n                            tablas: result.recordset\n                        }, this.initLoadTablasCampos );\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    initLoadTablasCampos() {\n        var arregloTemp = [];\n        for (var i = 0; i < this.state.tablas.length; i++) {\n            this.loadTablasCampos(this.state.tablas[i].tabla, i, arregloTemp);\n        };\n    }\n\n    loadTablasCampos (nombreTabla, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = '\"+nombreTabla+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var nombreColumnas = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            nombreColumnas.push({valor: result.recordset[i].COLUMN_NAME,tipo: result.recordset[i].DATA_TYPE, esFuenteDato: true, esObjeto: false, esInstruccionSQL: false, tablaID: this.state.tablas[index].ID});\n                        };\n                        if(array[index] == undefined) {\n                            array[index] = [];\n                        }\n                        array[index] = $.merge(array[index], nombreColumnas);\n                        camposTablasOriginales = array;\n                        this.setState({\n                            camposTablas: array\n                        });\n                        banderaCargaVariablesINICIO++;\n                        this.crearArregloDeFormula();\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    loadScalarVariables () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from Variables where esColeccion = 'false'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        banderaCargaVariablesFIN += result.recordset.length;\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            this.loadScalarVariablesFields(result.recordset[i]);\n                        };\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    loadScalarVariablesFields (variable) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from VariablesCampos where variableID = \"+variable.ID, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var temp = [...this.state.variablesEscalares];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            temp.push({valor: result.recordset[i].nombre, tipo: result.recordset[i].tipo, esFuenteDato: false, variableID: variable.ID, variableCampoID: result.recordset[i].ID, esObjeto: variable.esObjeto, esInstruccionSQL: false, nivel: result.recordset[i].nivel})\n                        };\n                        variablesEscalaresOriginales = temp;\n                        this.setState({\n                            variablesEscalares: variablesEscalaresOriginales\n                        } );\n                        banderaCargaVariablesINICIO++;\n                        this.crearArregloDeFormula();\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    loadVariables () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from Variables where esColeccion = 'true'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        variablesOriginales = result.recordset;\n                        banderaCargaVariablesFIN += result.recordset.length;\n                        this.setState({\n                            variables: result.recordset\n                        }, this.initLoadVariablesCampos );\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    initLoadVariablesCampos() {\n        var arregloTemp = [];\n        for (var i = 0; i < this.state.variables.length; i++) {\n            this.loadVariablesCampos(this.state.variables[i], i, arregloTemp);\n        };\n    }\n\n    loadVariablesCampos (variable, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from VariablesCampos where variableID = \"+variable.ID, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var nombreColumnas = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            nombreColumnas.push({valor: result.recordset[i].nombre, tipo: result.recordset[i].tipo, esFuenteDato: false, variableID: variable.ID, variableCampoID: result.recordset[i].ID, esObjeto: variable.esObjeto, esInstruccionSQL: false, nivel: result.recordset[i].nivel});\n                        };\n                        if(array[index] == undefined) {\n                            array[index] = [];\n                        }\n                        array[index] = $.merge(array[index], nombreColumnas);\n                        camposVariablesOriginales = array;\n                        this.setState({\n                            camposVariables: array\n                        });\n                        banderaCargaVariablesINICIO++;\n                        this.crearArregloDeFormula();\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    loadVariablesSQL () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from Variables where esInstruccionSQL = 'true'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        variablesOriginalesSQL = result.recordset;\n                        banderaCargaVariablesFIN += result.recordset.length;\n                        this.setState({\n                            variablesSQL: result.recordset\n                        }, this.initLoadVariablesCamposSQL );\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    initLoadVariablesCamposSQL() {\n        var arregloTemp = [];\n        for (var i = 0; i < this.state.variablesSQL.length; i++) {\n            this.loadVariablesCamposSQL(this.state.variablesSQL[i], i, arregloTemp);\n        };\n    }\n\n    loadVariablesCamposSQL (variable, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from InstruccionSQLCampos where variableID = \"+variable.ID, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var nombreColumnas = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            nombreColumnas.push({valor: result.recordset[i].nombre, tipo: result.recordset[i].tipo, esFuenteDato: false, variableID: variable.ID, variableCampoID: result.recordset[i].ID, esObjeto: variable.esObjeto, esInstruccionSQL: true,  nivel: 0});\n                        };\n                        if(array[index] == undefined) {\n                            array[index] = [];\n                        }\n                        array[index] = $.merge(array[index], nombreColumnas);\n                        camposVariablesOriginalesSQL = array;\n                        this.setState({\n                            camposVariablesSQL: array\n                        });\n                        banderaCargaVariablesINICIO++;\n                        this.crearArregloDeFormula();\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    loadExcel () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ExcelArchivos\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        excelOriginales = result.recordset;\n                        banderaCargaVariablesFIN += result.recordset.length;\n                        this.setState({\n                            excel: result.recordset\n                        }, this.initLoadExcelCampos );\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n    initLoadExcelCampos () {\n        var arregloTemp = [];\n        for (var i = 0; i < this.state.excel.length; i++) {\n            this.loadExcelCampos(this.state.excel[i], i, arregloTemp);\n        };\n    }\n\n    loadExcelCampos (excel, index, array) {\n         const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ExcelVariables where excelArchivoID = \"+excel.ID, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var nombreColumnas = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            var tipo;\n                            if(result.recordset[i].operacion.localeCompare(\"SUM\") == 0 || result.recordset[i].operacion.localeCompare(\"PROM\") == 0 || result.recordset[i].operacion.localeCompare(\"COUNT\") == 0) {\n                                tipo = 'decimal';\n                            } else if(result.recordset[i].operacion.localeCompare(\"MIN\") == 0 || result.recordset[i].operacion.localeCompare(\"MAX\") == 0 || result.recordset[i].operacion.localeCompare(\"ASIG\") == 0) {\n                                if(result.recordset[i].tipo.localeCompare(\"numero\") == 0)\n                                    tipo = 'decimal';\n                                else\n                                    tipo = result.recordset[i].tipo;\n                            }\n                            nombreColumnas.push({valor: result.recordset[i].nombre, tipo: tipo, esFuenteDato: false, excelArchivoID: excel.ID, excelVariableID: result.recordset[i].ID, esObjeto: false, esInstruccionSQL: false, nivel: 0});\n                        };\n                        if(array[index] == undefined) {\n                            array[index] = [];\n                        }\n                        array[index] = $.merge(array[index], nombreColumnas);\n                        camposExcelOriginales = array;\n                        this.setState({\n                            camposDeExcel: array\n                        });\n                        banderaCargaVariablesINICIO++;\n                        this.crearArregloDeFormula();\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    loadFormas () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from FormasVariables\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var nombreColumnas = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            nombreColumnas.push({valor: result.recordset[i].nombre, tipo: result.recordset[i].tipo, esFuenteDato: false, formaVariableID: result.recordset[i].ID, esObjeto: false, esInstruccionSQL: false, nivel: 0});\n                        };\n                        formasOriginales = nombreColumnas;\n                        this.setState({\n                            formas: nombreColumnas\n                        });\n                        banderaCargaVariablesINICIO++;\n                        banderaCargaVariablesFIN++;\n                        this.crearArregloDeFormula();\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n    \n    render() {\n        return (\n            <div>\n                {this.props.navbar}\n                <div className={\"row\"}>\n                    <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                        <div className={\"card\"}>\n                            <div className={\"border-top border-bottom\"} style={{width: \"100%\"}}>\n                                <div style={{width: \"100%\"}}>\n                                    <div className={\"font-20\"} style={{height: \"45vh\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", backgroundColor: \"#e6e6f2\", color: \"black\", overflowWrap: \"break-word\", wordWrap: \"break-word\", whiteSpace: \"-moz-pre-wrap\", whiteSpace: \"pre-wrap\"}}>\n                                        <Equacion formula={this.state.formula} clickEnFormula={this.clickEnFormula} height={\"100%\"} width={\"100%\"} isFirstRow={true} posicionEnArreglo={\"0\"}></Equacion>\n                                    </div>\n                                </div>\n                                <div style={{width: \"100%\", height: \"250px\"}}>\n                                    <div style={{width: \"50%\", height: \"100%\", float: \"left\", borderRight: \"1px solid black\", borderTop: \"1px solid black\", borderBottom: \"1px solid black\", padding: \"0% 1%\", overflowY: \"scroll\"}}>\n                                        <div className={\"font-18\"} style={{width: \"100%\", height: \"20%\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                                            Seleccionar Variable\n                                        </div>\n                                        <div className={\"row\"} style={{height: \"100%\"}}>\n                                            <ListasSeleVariableContenedorVariable esOperacion={false} mostrarRosa={true}  tablas={this.state.tablas} camposTablas={this.state.camposTablas} variables={this.state.variablesEscalares} objetos={this.state.variables} camposDeObjetos={this.state.camposVariables} excel={this.state.excel} camposDeExcel={this.state.camposDeExcel} formas={this.state.formas} variablesSQL={this.state.variablesSQL} camposVariablesSQL={this.state.camposVariablesSQL} seleccionarMultiple={false} retornoSeleccionVariable={this.retornoSeleccionCampo} returnStateManualValue={this.actualizarEstadoInputManual} keyupEstadoInputManual={this.keyupEstadoInputManual}></ListasSeleVariableContenedorVariable>\n                                        </div>\n                                    </div>\n                                    <div style={{width: \"50%\", height: \"100%\", float: \"right\", borderTop: \"1px solid black\", borderBottom: \"1px solid black\", padding: \"0% 1%\", overflowY: \"scroll\"}}>\n                                        <div className={\"font-18\"} style={{width: \"100%\", height: \"20%\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                                            Seleccionar Operacion\n                                        </div>\n                                        <div className={\"row\"} style={{height: \"100%\"}}>\n                                            <ListasSeleVariableContenedorOperador esOperacion={true} mostrarRosa={false} operaciones={this.state.operaciones} seleccionarMultiple={false} retornoSeleccionVariable={this.retornoSeleccionOperacion}></ListasSeleVariableContenedorOperador>\n                                        </div>\n                                    </div>\n                                </div>\n                                <br/>\n                                <div className={\"text-center\"} style={{width: \"100%\"}}>\n                                    <a href=\"#\" className=\"btn btn-primary active\" onClick={this.agregarAFormula}>Agregar Fórmula</a>\n                                </div>\n                                <br/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <br/>\n                <div className={\"row\"}>\n                    <a className={\"btn btn-success btn-block btnWhiteColorHover font-bold font-20\"} style={{color: \"#fafafa\"}} onClick={this.iniciarGuardarFormula}>Guardar Fórmula</a>\n                </div>\n                <br/>\n            </div>\n        );\n    }\n}\n"],"file":"Formula.js"}