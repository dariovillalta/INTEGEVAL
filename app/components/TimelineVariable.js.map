{"version":3,"sources":["components/TimelineVariable.js"],"names":["tipoCampos","nombre","variablesSeccionesDashboard","banderaImportacionInicio","banderaImportacionFin","TimelineVariable","props","state","html","resultados","getResultsVariables","bind","getResultsVariablesFieldsInit","getFieldAttributes","getFieldResults","finImportacion","insertarValorEnColeccion","crearHTML","console","log","tablaInstruccion","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","result","rollback","commit","recordset","length","arregloTemp","i","push","resultado","index","array","nombreVariable","inicioVigencia","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","arrTemp","COLUMN_NAME","tipo","DATA_TYPE","atributos","setState","copyResultados","sort","a","b","f3ch4Gu4rd4do","esVariable","variable","esColeccion","newCopy","valorAInsertar","arregloAInsertar","inserto","j","getTime","htmlContent","htmlRow","htmlObjectDesc","k","localeCompare","fontWeight","navbar","display","alignItems","justifyContent","crearRiesgo","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport sql from 'mssql';\nimport Slider from 'react-input-slider';\n\nconst tipoCampos = [ {nombre: \"texto\"}, {nombre: \"booleano\"}, {nombre: \"fecha\"}, {nombre: \"número\"}, {nombre: \"arreglo\"}];\n\nvar variablesSeccionesDashboard = [];\n\nvar banderaImportacionInicio = 0, banderaImportacionFin = 0;\n\nexport default class TimelineVariable extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            html: [],\n            resultados: []\n        }\n        this.getResultsVariables = this.getResultsVariables.bind(this);\n        this.getResultsVariablesFieldsInit = this.getResultsVariablesFieldsInit.bind(this);\n        this.getFieldAttributes = this.getFieldAttributes.bind(this);\n        this.getFieldResults = this.getFieldResults.bind(this);\n        this.finImportacion = this.finImportacion.bind(this);\n        this.insertarValorEnColeccion = this.insertarValorEnColeccion.bind(this);\n        this.crearHTML = this.crearHTML.bind(this);\n    }\n\n    componentDidMount () {\n        this.getResultsVariables();\n    }\n\n    getResultsVariables () {\n        console.log('this.props.tablaInstruccion')\n        console.log(this.props.tablaInstruccion)\n        //OBTENER LA LISTA DE POSIBLES VARIABLES A VISUALIZAR\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from \"+this.props.tablaInstruccion+\" and finVigencia = '1964-05-28'\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                        return [];\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if(result.recordset.length > 0)\n                            this.getResultsVariablesFieldsInit(result.recordset);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsVariablesFieldsInit (resultados) {\n        var arregloTemp = [];\n        banderaImportacionInicio = 0;\n        banderaImportacionFin = 0;\n        for (var i = 0; i < resultados.length; i++) {\n            banderaImportacionFin++;\n            arregloTemp.push(resultados[i]);\n            this.getFieldAttributes(resultados[i], i, arregloTemp);\n            this.getFieldResults(resultados[i], i, arregloTemp);\n        };\n    }\n\n    getFieldAttributes(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = '\"+resultado.nombreVariable+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds()+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var arrTemp = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            arrTemp.push({nombre: result.recordset[i].COLUMN_NAME, tipo: result.recordset[i].DATA_TYPE});\n                        };\n                        array[index].atributos = arrTemp;\n                        this.setState({\n                            resultados: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getFieldResults(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from \"+resultado.nombreVariable+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds(), (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        array[index].resultados = result.recordset;\n                        banderaImportacionInicio++;\n                        this.finImportacion();\n                        this.setState({\n                            resultados: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    finImportacion() {\n        if(banderaImportacionInicio == banderaImportacionFin) {\n            var copyResultados = [...this.state.resultados];\n            copyResultados.sort(function(a, b){\n                return a.f3ch4Gu4rd4do-b.f3ch4Gu4rd4do;\n            });\n            if(this.props.esVariable) {\n                if(this.props.variable.esColeccion) {\n                    var newCopy = [];\n                    for (var i = 0; i < copyResultados.length; i++) {\n                        this.insertarValorEnColeccion(copyResultados[i], newCopy);\n                    };\n                    copyResultados = newCopy;\n                }\n            }\n            this.setState({\n                resultados: copyResultados\n            }, this.crearHTML );\n        }\n    }\n\n    insertarValorEnColeccion (valorAInsertar, arregloAInsertar) {\n        var inserto = false;\n        for (var i = 0; i < arregloAInsertar.length; i++) {\n            for (var j = 0; j < arregloAInsertar[i].length; j++) {\n                if (arregloAInsertar[i][j].f3ch4Gu4rd4do.getTime() == valorAInsertar.f3ch4Gu4rd4do.getTime()) {\n                    inserto = true;\n                    arregloAInsertar[i].push(valorAInsertar);\n                    return;\n                }\n            };\n        };\n        if(!inserto) {\n            arregloAInsertar.push([valorAInsertar]);\n            return;\n        }\n    }\n\n    crearHTML() {\n        /*var html = <section className=\"cd-timeline js-cd-timeline\">;\n                html += <div className=\"cd-timeline__container\">;\n                for (var i = 0; i < this.state.resultados[0].resultados.length; i++) {\n                    html += <div className=\"cd-timeline__block js-cd-block\">;\n                        html += <div className=\"cd-timeline__img cd-timeline__img--picture js-cd-img\">;\n                            html += <img src=\"../assets/edit.png\" alt=\"Picture\">;\n                        html += </div>;\n                        html += <div className=\"cd-timeline__content js-cd-content\">;\n                            html += <h3>{this.state.resultados[i].nombre}</h3>;\n                        if(this.props.esVariable && this.props.variable.esColeccion) {\n                            html += <a className=\"btn btn-primary btn-lg\" >Ver Resultados</a>;\n                        } else if(this.props.esVariable && !this.props.variable.esColeccion) {\n                            for (var k = 0; k < this.state.resultados[0].atributos.length; k++) {\n                                if(this.state.resultados[0].atributos[k].nombre.localeCompare(\"f3ch4Gu4rd4do\") != 0) {\n                                    html += <span style=\"font-weight: bold;\">{this.state.resultados[0].atributos[k].nombre}</span>;\n                                    html += <span>{this.state.resultados[0].resultados[i][this.state.resultados[0].atributos[k].nombre]}</span>;\n                                }\n                            };\n                        }\n                            html += '<span class=\"cd-timeline__date\">'+this.state.resultados[0].resultados[i].f3ch4Gu4rd4do+'</span>'\n                        html += '</div>';\n                    html += '</div>';\n                };\n                html += '</div>';\n            html += '</section>';*/\n\n\n        var htmlContent = [];\n        console.log('this.state.resultados');\n        console.log(this.state.resultados);\n        for (var i = 0; i < this.state.resultados[0].resultados.length; i++) {\n            if(this.props.esVariable && this.props.variable.esColeccion) {\n                var htmlRow = <div key={i} className=\"cd-timeline__block js-cd-block\">\n                                    <div className=\"cd-timeline__img cd-timeline__img--picture js-cd-img\">\n                                        <img src=\"../assets/edit.png\" alt=\"Picture\"/>\n                                    </div>\n                                    <div className=\"cd-timeline__content js-cd-content\">\n                                        <a className=\"btn btn-primary btn-lg\" >Ver Resultados</a>\n                                        <span className=\"cd-timeline__date\">{this.state.resultados[0].resultados[i].f3ch4Gu4rd4do.getFullYear()+\"-\"+this.state.resultados[0].resultados[i].f3ch4Gu4rd4do.getMonth()+\"-\"+this.state.resultados[0].resultados[i].f3ch4Gu4rd4do.getDate()}</span>\n                                    </div>\n                                </div>;\n                htmlContent.push(htmlRow);\n            } else /*if(this.props.esVariable && !this.props.variable.esColeccion)*/ {\n                var htmlObjectDesc = [];\n                for (var k = 0; k < this.state.resultados[0].atributos.length; k++) {\n                    if(this.state.resultados[0].atributos[k].nombre.localeCompare(\"f3ch4Gu4rd4do\") != 0) {\n                        htmlObjectDesc.push(<span key={i+\"\"+k+\"a\"} style={{fontWeight: \"bold\"}}>{this.state.resultados[0].atributos[k].nombre}</span>);\n                        htmlObjectDesc.push(<span key={i+\"\"+k+\"b\"}>{this.state.resultados[0].resultados[i][this.state.resultados[0].atributos[k].nombre]}</span>);\n                    }\n                };\n                var htmlRow = <div key={i} className=\"cd-timeline__block js-cd-block\">\n                                    <div className=\"cd-timeline__img cd-timeline__img--picture js-cd-img\">\n                                        <img src=\"../assets/edit.png\" alt=\"Picture\"/>\n                                    </div>\n                                    <div className=\"cd-timeline__content js-cd-content\">\n                                        {htmlObjectDesc}\n                                        <span className=\"cd-timeline__date\">{this.state.resultados[0].resultados[i].f3ch4Gu4rd4do.getFullYear()+\"-\"+this.state.resultados[0].resultados[i].f3ch4Gu4rd4do.getMonth()+\"-\"+this.state.resultados[0].resultados[i].f3ch4Gu4rd4do.getDate()}</span>\n                                    </div>\n                                </div>;\n                htmlContent.push(htmlRow);\n            }\n        };\n        var html = <section key={\"hh\"} className=\"cd-timeline js-cd-timeline\">\n                        <div className=\"cd-timeline__container\">\n                            {htmlContent}\n                        </div>\n                    </section>;\n        this.setState({\n            html: html\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                {this.props.navbar}\n                <br/>\n                <div className={\"row\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                    <a className={\"btn btn-brand btnWhiteColorHover font-bold font-20\"} onClick={this.crearRiesgo}>Realizar Cálculo</a>\n                </div>\n                <br/>\n                \n                {this.state.html}\n                \n            </div>\n        );\n    }\n}\n"],"file":"TimelineVariable.js"}