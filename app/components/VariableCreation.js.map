{"version":3,"sources":["components/VariableCreation.js"],"names":["VariableCreation","props","state","tipoCampo","esNumero","esBoolean","esFecha","esTexto","errorCreacionRegla","campo","descripcion","mostrar","mensajeModal","mostrarMensaje","mensajeConfirmado","esError","esConfirmar","titulo","mensaje","campos","bind","loadFields","saveRule","dismissReglaNewError","showSuccesMessage","dismissMessageModal","setState","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","tablaID","result","console","log","rollback","commit","recordset","campoTablaID","campoID","$","val","ID","campoTipo","tipo","operacion","operacionTipo","localeCompare","valorLista","valorCampos","esListaValor","esCampoValor","valorTablaID","isNaN","length","undefined","descripcionN","self","setTimeout","errorCreacionTipoCredito","confirmMessageModal","color","fontSize","fontWeight","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport sql from 'mssql';\n\nimport Campo from './Campo.js';\nimport Operacion from './Operacion.js';\nimport Valor from './Valor.js';\nimport MessageModal from './MessageModal.js';\n\nexport default class VariableCreation extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            tipoCampo: {\n                esNumero: true,\n                esBoolean: false,\n                esFecha: false,\n                esTexto: false\n            },\n            errorCreacionRegla: {campo: \"\", descripcion: \"\", mostrar: false},\n            mensajeModal: {mostrarMensaje: false, mensajeConfirmado: false, esError: false, esConfirmar: false, titulo: \"\", mensaje: \"\"},\n            campos: []\n        }\n        this.esNumero = this.esNumero.bind(this);\n        this.esBoolean = this.esBoolean.bind(this);\n        this.esFecha = this.esFecha.bind(this);\n        this.esTexto = this.esTexto.bind(this);\n        this.loadFields = this.loadFields.bind(this);\n        this.saveRule = this.saveRule.bind(this);\n        this.dismissReglaNewError = this.dismissReglaNewError.bind(this);\n        this.showSuccesMessage = this.showSuccesMessage.bind(this);\n        this.dismissMessageModal = this.dismissMessageModal.bind(this);\n    }\n\n    componentDidMount() {\n        this.loadFields();\n    }\n\n    esNumero() {\n        this.setState({\n            tipoCampo: {\n                esNumero: true,\n                esBoolean: false,\n                esFecha: false,\n                esTexto: false\n            }\n        });\n    }\n\n    esBoolean () {\n        this.setState({\n            tipoCampo: {\n                esNumero: false,\n                esBoolean: true,\n                esFecha: false,\n                esTexto: false\n            }\n        });\n    }\n\n    esFecha () {\n        this.setState({\n            tipoCampo: {\n                esNumero: false,\n                esBoolean: false,\n                esFecha: true,\n                esTexto: false\n            }\n        });\n    }\n\n    esTexto () {\n        this.setState({\n            tipoCampo: {\n                esNumero: false,\n                esBoolean: false,\n                esFecha: false,\n                esTexto: true\n            }\n        });\n    }\n\n    loadFields() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from Campos where tablaID = \"+this.props.tablaID, (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                        return [];\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.setState({\n                            campos: result.recordset\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    saveRule() {\n        /*console.log(\"retorno\")\n        console.log( $(\"input[name='operacionRadio']:checked\").val() )\n        let listaID = $(\"#selectLista\").val();\n        console.log(\"listaID = \"+listaID)*/\n        let campoTablaID = this.props.tablaID;\n        let campoID = this.state.campos[$(\"#campo\").val()].ID;\n        let campoTipo = this.state.campos[$(\"#campo\").val()].tipo;\n        let operacion = $(\"input[name='operacionRadio']:checked\").val();\n        let operacionTipo;\n        if(operacion.localeCompare(\"<\") == 0 || operacion.localeCompare(\"<=\") == 0 || operacion.localeCompare(\">\") == 0 || operacion.localeCompare(\">=\") == 0 || operacion.localeCompare(\"==\") == 0 || operacion.localeCompare(\"!=\") == 0)\n            operacionTipo = \"relacional\";\n        else if(operacion.localeCompare(\"+\") == 0 || operacion.localeCompare(\"-\") == 0 || operacion.localeCompare(\"*\") == 0 || operacion.localeCompare(\"/\") == 0)\n            operacionTipo = \"algebraica\";\n        else if(operacion.localeCompare(\"sumIf\") == 0 || operacion.localeCompare(\"sumIfNot\") == 0)\n            operacionTipo = \"excel\";\n        let valorLista = $(\"#selectLista\").val();\n        let valorCampos = $(\"#camposDeLista\").val();\n        let esListaValor, esCampoValor;\n        if(valorLista.localeCompare(\"table\") == 0) {\n            esListaValor = false;\n            esCampoValor = true;\n        } else {\n            esListaValor = true;\n            esCampoValor = false;\n        }\n        console.log(\"campoTablaID = \"+campoTablaID);\n        console.log(\"campoID = \"+campoID);\n        console.log(\"campoTipo = \"+campoTipo);\n        console.log(\"operacion = \"+operacion);\n        console.log(\"operacionTipo = \"+operacionTipo);\n        console.log(\"valorLista = \"+valorLista);\n        console.log(\"valorCampos = \"+valorCampos);\n        console.log(\"esListaValor = \"+esListaValor);\n        console.log(\"esCampoValor = \"+esCampoValor);\n        console.log(\"valorTablaID = \"+valorTablaID);\n        if(!isNaN(campoTablaID)) {\n            if(!isNaN(campoID)) {\n                if(isNaN(campoTipo) && campoTipo.length > 0) {\n                    if(isNaN(operacion) && operacion.length > 0) {\n                        if(isNaN(operacionTipo) && operacionTipo.length > 0) {\n                            if(!isNaN(valorLista) || valorLista.length > 0) {\n                                if(valorCampos.length > 0) {\n                                    if(esListaValor != undefined) {\n                                        if(esCampoValor != undefined) {\n                                            this.showSuccesMessage(\"Exito\", \"Regla creada con éxito.\");\n                                        } else {\n                                            let campo = \"Es Campo en Valor\";\n                                            let descripcionN;\n                                            if(esCampoValor != undefined)\n                                                descripcionN = \"El valor debe existir.\";\n                                            this.setState({\n                                                errorCreacionRegla: {campo: campo, descripcion: descripcionN, mostrar: true}\n                                            });\n                                        }\n                                    } else {\n                                        let campo = \"Es Lista en Valor\";\n                                        let descripcionN;\n                                        if(esListaValor != undefined)\n                                            descripcionN = \"El valor debe existir.\";\n                                        this.setState({\n                                            errorCreacionRegla: {campo: campo, descripcion: descripcionN, mostrar: true}\n                                        });\n                                    }\n                                } else {\n                                    let campo = \"Valor\";\n                                    let descripcionN;\n                                    if(valorCampos.length > 0)\n                                        descripcionN = \"El valor debe tener una longitud mayor a 0.\";\n                                    this.setState({\n                                        errorCreacionRegla: {campo: campo, descripcion: descripcionN, mostrar: true}\n                                    });\n                                }\n                            } else {\n                                let campo = \"ID de Tabla de Valor\";\n                                let descripcionN;\n                                if(!isNaN(valorLista))\n                                    descripcionN = \"El valor no puede ser un número.\";\n                                if(valorLista.length > 0)\n                                    descripcionN = \"El valor debe tener una longitud mayor a 0.\";\n                                this.setState({\n                                    errorCreacionRegla: {campo: campo, descripcion: descripcionN, mostrar: true}\n                                });\n                            }\n                        } else {\n                            let campo = \"Tipo de Operación\";\n                            let descripcionN;\n                            if(isNaN(operacionTipo))\n                                descripcionN = \"El tipo de operación no puede ser un número.\";\n                            else\n                                descripcionN = \"El tipo de operación debe tener una longitud mayor a 0.\";\n                            this.setState({\n                                errorCreacionRegla: {campo: campo, descripcion: descripcionN, mostrar: true}\n                            });\n                        }\n                    } else {\n                        let campo = \"Operación\";\n                        let descripcionN;\n                        if(isNaN(operacion))\n                            descripcionN = \"La operación no puede ser un número.\";\n                        else\n                            descripcionN = \"La operación debe tener una longitud mayor a 0.\";\n                        this.setState({\n                            errorCreacionRegla: {campo: campo, descripcion: descripcionN, mostrar: true}\n                        });\n                    }\n                } else {\n                    let campo = \"ID del Campo\";\n                    let descripcionN = \"El ID del campo debe ser un valor numérico.\";\n                    this.setState({\n                        errorCreacionRegla: {campo: campo, descripcion: descripcionN, mostrar: true}\n                    });\n                }\n            } else {\n                let campo = \"ID de Tabla de Campo\";\n                let descripcionN = \"El ID de tabla de campo debe ser un valor numérico.\";\n                this.setState({\n                    errorCreacionRegla: {campo: campo, descripcion: descripcionN, mostrar: true}\n                });\n            }\n        }\n    }\n\n    dismissReglaNewError() {\n        this.setState({\n            errorCreacionRegla: {campo: \"\", descripcion: \"\", mostrar: false}\n        });\n    }\n\n    showSuccesMessage(titulo, mensaje) {\n        this.setState({\n            mensajeModal: {mostrarMensaje: true, mensajeConfirmado: false, esError: false, esConfirmar: false, titulo: titulo, mensaje: mensaje}\n        });\n        let self = this;\n        setTimeout(function(){\n            self.setState({\n                mensajeModal: {mostrarMensaje: false, mensajeConfirmado: false, esError: false, esConfirmar: false, titulo: \"\", mensaje: \"\"}\n            });\n        }, 850);\n    }\n\n    dismissMessageModal() {\n        this.setState({\n            mensajeModal: {mostrarMensaje: false, mensajeConfirmado: false, esError: false, esConfirmar: false, titulo: \"\", mensaje: \"\"}\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <Campo esNumero={this.esNumero}\n                    esBoolean={this.esBoolean}\n                    esFecha={this.esFecha}\n                    esTexto={this.esTexto}\n                    campos={this.state.campos}> </Campo>\n                <Operacion esNumero={this.state.tipoCampo.esNumero}\n                    esBoolean={this.state.tipoCampo.esBoolean}\n                    esFecha={this.state.tipoCampo.esFecha}\n                    esTexto={this.state.tipoCampo.esTexto}> </Operacion>\n                <Valor esNumero={this.state.tipoCampo.esNumero}\n                    esBoolean={this.state.tipoCampo.esBoolean}\n                    esFecha={this.state.tipoCampo.esFecha}\n                    esTexto={this.state.tipoCampo.esTexto}\n                    campos={this.state.campos}> </Valor>\n                { this.state.errorCreacionRegla.mostrar ? (\n                    <ErrorMessage campo={this.state.errorCreacionTipoCredito.campo} descripcion={this.state.errorCreacionTipoCredito.descripcion} dismissTableError={this.dismissReglaNewError}> </ErrorMessage>\n                ) : (\n                    <span></span>\n                )}\n                { this.state.mensajeModal.mostrarMensaje ? (\n                    <MessageModal esError={this.state.mensajeModal.esError} esConfirmar={this.state.mensajeModal.esConfirmar} dismissMessage={this.dismissMessageModal} confirmFunction={this.confirmMessageModal} titulo={this.state.mensajeModal.titulo} mensaje={this.state.mensajeModal.mensaje}> </MessageModal>\n                ) : (\n                    <span></span>\n                )}\n                <div className={\"text-center\"}>\n                    <a onClick={this.saveRule} className={\"btn btn-primary col-xs-6 col-6\"} style={{color: \"white\", fontSize: \"1.2em\", fontWeight: \"bold\"}}>Guardar</a>\n                </div>\n                <br/>\n            </div>\n        );\n    }\n}\n"],"file":"VariableCreation.js"}