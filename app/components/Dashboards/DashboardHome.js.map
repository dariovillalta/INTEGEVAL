{"version":3,"sources":["components/Dashboards/DashboardHome.js"],"names":["DashboardHome","props","state","componenteActual","variables","camposDeVariables","indicadores","camposDeIndicadores","riesgos","camposDeRiesgos","dashboardSeleccionado","crearDashboard","bind","retornarSeleccionDashboards","editarDashboard","terminoCrearDashboardPasarAEdit","getResultsVariables","getResultsVariablesFieldsInit","getFieldAttributes","getFieldResults","getResultsIndicators","getResultsIndicatorsFieldsInit","getFieldAttributesIndicators","getFieldResultsIndicators","getResultsRisks","getResultsRisksFieldsInit","getFieldAttributesRisks","getFieldResultsRisks","setState","dashboard","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","result","console","log","rollback","commit","recordset","undefined","length","resultados","arregloTemp","arregloTempCampos","i","valor","nombreVariable","esVariable","esIndicador","esRiesgo","push","resultado","index","array","inicioVigencia","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","arrTemp","nombre","COLUMN_NAME","tipo","DATA_TYPE","atributos","nombreIndicador","nombreRiesgo","localeCompare","configuracionHome","goOptions","terminoCrearFuenteDatosPasarAEdit","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport sql from 'mssql';\n\nimport SeleccionarDashboard from './SeleccionarDashboard.js';\nimport CrearDashboard from './CrearDashboard.js';\nimport EditarDashboardHome from './EditarDashboardHome.js';\n\nexport default class DashboardHome extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            componenteActual: \"selDashboard\",\n            variables: [],\n            camposDeVariables: [],\n            indicadores: [],\n            camposDeIndicadores: [],\n            riesgos: [],\n            camposDeRiesgos: [],\n            dashboardSeleccionado: null\n        }\n        this.crearDashboard = this.crearDashboard.bind(this);\n        this.retornarSeleccionDashboards = this.retornarSeleccionDashboards.bind(this);\n        this.editarDashboard = this.editarDashboard.bind(this);\n        this.terminoCrearDashboardPasarAEdit = this.terminoCrearDashboardPasarAEdit.bind(this);\n\n        this.getResultsVariables = this.getResultsVariables.bind(this);\n        this.getResultsVariablesFieldsInit = this.getResultsVariablesFieldsInit.bind(this);\n        this.getFieldAttributes = this.getFieldAttributes.bind(this);\n        this.getFieldResults = this.getFieldResults.bind(this);\n\n        this.getResultsIndicators = this.getResultsIndicators.bind(this);\n        this.getResultsIndicatorsFieldsInit = this.getResultsIndicatorsFieldsInit.bind(this);\n        this.getFieldAttributesIndicators = this.getFieldAttributesIndicators.bind(this);\n        this.getFieldResultsIndicators = this.getFieldResultsIndicators.bind(this);\n\n        this.getResultsRisks = this.getResultsRisks.bind(this);\n        this.getResultsRisksFieldsInit = this.getResultsRisksFieldsInit.bind(this);\n        this.getFieldAttributesRisks = this.getFieldAttributesRisks.bind(this);\n        this.getFieldResultsRisks = this.getFieldResultsRisks.bind(this);\n    }\n\n    componentDidMount () {\n        this.getResultsVariables();\n        this.getResultsIndicators();\n        this.getResultsRisks();\n    }\n\n    crearDashboard () {\n        this.setState({\n            componenteActual: \"crearDashboard\"\n        });\n    }\n\n    retornarSeleccionDashboards () {\n        this.setState({\n            componenteActual: \"selDashboard\"\n        });\n    }\n\n    editarDashboard (dashboard) {\n        this.setState({\n            dashboardSeleccionado: dashboard,\n            componenteActual: \"editarDashboard\"\n        });\n    }\n\n    terminoCrearDashboardPasarAEdit () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select top 1 * from Dashboard order by ID desc\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if(result.recordset != undefined) {\n                            if(result.recordset.length) {\n                                this.editarDashboard(result.recordset[0]);\n                            }\n                        }\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    /////////////////////////////////////////////////////////\n\n    getResultsVariables () {\n        //OBTENER LA LISTA DE POSIBLES VARIABLES A VISUALIZAR\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ResultadosNombreVariables\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                        return [];\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.getResultsVariablesFieldsInit(result.recordset);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsVariablesFieldsInit (resultados) {\n        var arregloTemp = [], arregloTempCampos = [];\n        for (var i = 0; i < resultados.length; i++) {\n            resultados[i].valor = resultados[i].nombreVariable;\n            resultados[i].esVariable = true;\n            resultados[i].esIndicador = false;\n            resultados[i].esRiesgo = false;\n            arregloTemp.push(resultados[i]);\n            this.getFieldAttributes(resultados[i], i, arregloTemp, arregloTempCampos);\n            this.getFieldResults(resultados[i], i, arregloTemp);\n        };\n    }\n\n    getFieldAttributes(resultado, index, array, arregloTempCampos) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = '\"+resultado.nombreVariable+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds()+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var arrTemp = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            arrTemp.push({nombre: result.recordset[i].COLUMN_NAME, valor: result.recordset[i].COLUMN_NAME, tipo: result.recordset[i].DATA_TYPE, esVariable: true, esIndicador: false, esRiesgo: false, nombreVariable: resultado.nombreVariable});\n                        };\n                        array[index].atributos = arrTemp;\n                        arregloTempCampos[index] = arrTemp;\n                        this.setState({\n                            variables: array,\n                            camposDeVariables: arregloTempCampos\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getFieldResults(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from \"+resultado.nombreVariable+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds(), (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        array[index].resultados = result.recordset;\n                        this.setState({\n                            variables: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsIndicators () {\n        //OBTENER LA LISTA DE POSIBLES VARIABLES A VISUALIZAR\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ResultadosNombreIndicadores\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                        return [];\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.getResultsIndicatorsFieldsInit(result.recordset);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsIndicatorsFieldsInit (resultados) {\n        var arregloTemp = [], arregloTempCampos = [];\n        for (var i = 0; i < resultados.length; i++) {\n            resultados[i].valor = resultados[i].nombreIndicador;\n            resultados[i].esVariable = false;\n            resultados[i].esIndicador = true;\n            resultados[i].esRiesgo = false;\n            arregloTemp.push(resultados[i]);\n            this.getFieldAttributesIndicators(resultados[i], i, arregloTemp, arregloTempCampos);\n            this.getFieldResultsIndicators(resultados[i], i, arregloTemp);\n        };\n    }\n\n    getFieldAttributesIndicators(resultado, index, array, arregloTempCampos) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = '\"+resultado.nombreIndicador+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds()+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var arrTemp = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            arrTemp.push({nombre: result.recordset[i].COLUMN_NAME, valor: result.recordset[i].COLUMN_NAME, tipo: result.recordset[i].DATA_TYPE, esVariable: false, esIndicador: true, esRiesgo: false, nombreIndicador: resultado.nombreIndicador});\n                        };\n                        array[index].atributos = arrTemp;\n                        arregloTempCampos[index] = arrTemp;\n                        this.setState({\n                            indicadores: array,\n                            camposDeIndicadores: arregloTempCampos\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getFieldResultsIndicators(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from \"+resultado.nombreIndicador+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds(), (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        array[index].resultados = result.recordset;\n                        this.setState({\n                            indicadores: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsRisks () {\n        //OBTENER LA LISTA DE POSIBLES VARIABLES A VISUALIZAR\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ResultadosNombreRiesgos\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                        return [];\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.getResultsRisksFieldsInit(result.recordset);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsRisksFieldsInit (resultados) {\n        var arregloTemp = [], arregloTempCampos = [];\n        for (var i = 0; i < resultados.length; i++) {\n            resultados[i].valor = resultados[i].nombreRiesgo;\n            resultados[i].esVariable = false;\n            resultados[i].esIndicador = false;\n            resultados[i].esRiesgo = true;\n            arregloTemp.push(resultados[i]);\n            this.getFieldAttributesRisks(resultados[i], i, arregloTemp, arregloTempCampos);\n            this.getFieldResultsRisks(resultados[i], i, arregloTemp);\n        };\n    }\n\n    getFieldAttributesRisks(resultado, index, array, arregloTempCampos) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = '\"+resultado.nombreRiesgo+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds()+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var arrTemp = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            arrTemp.push({nombre: result.recordset[i].COLUMN_NAME, valor: result.recordset[i].COLUMN_NAME, tipo: result.recordset[i].DATA_TYPE, esVariable: false, esIndicador: false, esRiesgo: true, nombreRiesgo: resultado.nombreRiesgo});\n                        };\n                        array[index].atributos = arrTemp;\n                        arregloTempCampos[index] = arrTemp;\n                        this.setState({\n                            riesgos: array,\n                            camposDeRiesgos: arregloTempCampos\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getFieldResultsRisks(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from \"+resultado.nombreRiesgo+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds(), (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        array[index].resultados = result.recordset;\n                        this.setState({\n                            riesgos: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    render() {\n        if(this.state.componenteActual.localeCompare(\"selDashboard\") == 0) {\n            return (\n                <div>\n                    <SeleccionarDashboard pool={this.props.pool}\n                                            configuracionHome={this.props.configuracionHome}\n                                            crearDashboard={this.crearDashboard}\n                                            goOptions={this.props.goOptions}\n                                            editarDashboard={this.editarDashboard}>\n                    </SeleccionarDashboard>\n                </div>\n            );\n        } else if(this.state.componenteActual.localeCompare(\"crearDashboard\") == 0) {\n            return (\n                <div>\n                    <CrearDashboard pool={this.props.pool}\n                                            retornarSeleccionDashboards={this.retornarSeleccionDashboards}\n                                            terminoCrearCampo={this.terminoCrearFuenteDatosPasarAEdit}\n                                            variables={this.state.variables}\n                                            camposDeVariables={this.state.camposDeVariables}\n                                            indicadores={this.state.indicadores}\n                                            camposDeIndicadores={this.state.camposDeIndicadores}\n                                            riesgos={this.state.riesgos}\n                                            camposDeRiesgos={this.state.camposDeRiesgos}\n                                            terminoCrearDashboardPasarAEdit={this.terminoCrearDashboardPasarAEdit}>\n                    </CrearDashboard>\n                </div>\n            );\n        } else if(this.state.componenteActual.localeCompare(\"editarDashboard\") == 0) {\n            return (\n                <div>\n                    <EditarDashboardHome pool={this.props.pool}\n                                    retornarSeleccionDashboards={this.retornarSeleccionDashboards}\n                                    variables={this.state.variables}\n                                    indicadores={this.state.indicadores}\n                                    riesgos={this.state.riesgos}\n                                    dashboardSeleccionado={this.state.dashboardSeleccionado}>\n                    </EditarDashboardHome>\n                </div>\n            );\n        }\n    }\n}\n"],"file":"DashboardHome.js"}