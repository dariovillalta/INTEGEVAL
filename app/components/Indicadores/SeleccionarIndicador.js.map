{"version":3,"sources":["components/Indicadores/SeleccionarIndicador.js"],"names":["SeleccionarIndicador","props","irCrearRiesgos","bind","calcularPesoDisponible","updateBanderaCrearRiesgoTrue","showRiesgos","riesgo","indexRiesgo","pesoRiesgoTotal","pesoExistente","i","indicadores","length","peso","pesoDisponible","goCrearIndicador","ID","formula","indexIndicador","indicador","goEditarIndicador","idFormula","nombre","codigo","tolerancia","tipoValorIdeal","valorIdeal","periodicidad","tipoIndicador","analista","fechaInicioCalculo","configuracionHome","riesgos","map","undefined","j","calcularPesoDisponibleEdit","display","permision","indexOf","color","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport sql from 'mssql';\n\nimport Accordion from '../Accordion/Accordion.js';\n\nexport default class SeleccionarIndicador extends React.Component {\n    constructor(props) {\n        super(props);\n        this.irCrearRiesgos = this.irCrearRiesgos.bind(this);\n        this.calcularPesoDisponible = this.calcularPesoDisponible.bind(this);\n    }\n\n    irCrearRiesgos () {\n        this.props.updateBanderaCrearRiesgoTrue();\n        this.props.showRiesgos();\n    }\n\n    calcularPesoDisponible (riesgo, indexRiesgo) {\n        var pesoRiesgoTotal = 100;\n        var pesoExistente = 0;\n        for (var i = 0; i < this.props.indicadores[indexRiesgo].length; i++) {\n            pesoExistente += this.props.indicadores[indexRiesgo][i].peso;\n        };\n        var pesoDisponible = pesoRiesgoTotal-pesoExistente;\n        this.props.goCrearIndicador(riesgo.ID, riesgo.formula, pesoDisponible);\n    }\n\n    calcularPesoDisponibleEdit (riesgo, indexRiesgo, indexIndicador) {\n        var pesoRiesgoTotal = 100;\n        var pesoExistente = 0;\n        var indicador = this.props.indicadores[indexRiesgo][indexIndicador];\n        for (var i = 0; i < this.props.indicadores[indexRiesgo].length; i++) {\n            pesoExistente += this.props.indicadores[indexRiesgo][i].peso;\n        };\n        var pesoDisponible = pesoRiesgoTotal-pesoExistente;\n        this.props.goEditarIndicador(riesgo.ID, riesgo.formula, riesgo.pesoDisponible, indicador.ID, indicador.idFormula, indicador.nombre, indicador.codigo, indicador.formula, indicador.peso, indicador.tolerancia, indicador.tipoValorIdeal, indicador.valorIdeal, indicador.periodicidad, indicador.tipoIndicador, indicador.analista, indicador.fechaInicioCalculo, this.props.indicadores[indexRiesgo]);\n    }\n\n    render() {\n        return (\n            <div>\n                <div className={\"row\"}>\n                    <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                        <div className={\"page-header\"}>\n                            <h2 className={\"pageheader-title\"}>Seleccionar Indicador</h2>\n                            <div className={\"page-breadcrumb\"}>\n                                <nav aria-label=\"breadcrumb\">\n                                    <ol className={\"breadcrumb\"}>\n                                        <li className={\"breadcrumb-item font-16\"} aria-current=\"page\" onClick={this.props.configuracionHome}><a href=\"#\" className={\"breadcrumb-link\"}>Configuraci&oacute;n</a></li>\n                                        <li className={\"breadcrumb-item active font-16\"} aria-current=\"page\">Seleccionar Indicador</li>\n                                    </ol>\n                                </nav>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <br/>\n                <div className={\"row\"}>\n                    <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                        {this.props.riesgos.map((riesgo, i) => (\n                            <div key={riesgo.ID}>\n                                <Accordion showTrash={false} showEdit={false} allowMultipleOpen color={\"#ffffff\"}>\n                                    <div label={riesgo.nombre}>\n                                        { this.props.indicadores[i] != undefined ? (\n                                            <div>\n                                                {this.props.indicadores[i].map((indicador, j) =>\n                                                    <a className={\"btn btn-outline-info btn-block btnWhiteColorHover fontSize1EM\"} onClick={() => this.calcularPesoDisponibleEdit(riesgo, i, j)} key={indicador.ID}>{indicador.nombre}</a>\n                                                )}\n                                                <div className={\"row\"} style={{display: this.props.permision.indicadores.indexOf(\"E\") > -1 ? \"\" : \"none\" }}>\n                                                    <a className={\"btn btn-success btn-block btnWhiteColorHover font-bold font-20\"} style={{color: \"#fafafa\"}} onClick={() => this.calcularPesoDisponible(riesgo, i)}>Crear Indicador</a>\n                                                </div>\n                                            </div>\n                                        ) : (\n                                            null\n                                        )}\n                                    </div>\n                                </Accordion>\n                                <br/>\n                            </div>\n                        ))}\n                        { this.props.riesgos.length == 0 ? (\n                            <a className={\"btn btn-outline-dark btn-block btnWhiteColorHover fontSize1EM\"} onClick={this.irCrearRiesgos}>No existen riesgos creados, presione para crear</a>\n                        ) : (\n                            null\n                        )}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n"],"file":"SeleccionarIndicador.js"}