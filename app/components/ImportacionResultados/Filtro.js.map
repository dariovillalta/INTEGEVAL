{"version":3,"sources":["components/ImportacionResultados/Filtro.js"],"names":["textoOperacion","operacion","valor","valorTexto","Filtro","props","state","variables","indicadores","riesgos","variableSeleccionada","campoSeleccionado","tipoCampo","esNumero","esBoolean","esFecha","esTexto","filtros","textoValor","getResultsVariables","bind","getResultsVariablesFieldsInit","getFieldAttributes","getFieldResults","getResultsIndicators","getResultsIndicatorsFieldsInit","getFieldAttributesIndicators","getFieldResultsIndicators","getResultsRisks","getResultsRisksFieldsInit","getFieldAttributesRisks","getFieldResultsRisks","selVar","selCampo","retornoSeleccionOperacion","actualizarValor","retornarValorFecha","retornarValorTime","isValidDate","agregarFiltro","eliminarFiltro","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","result","console","log","rollback","commit","recordset","resultados","arregloTemp","i","length","push","resultado","index","array","nombreVariable","inicioVigencia","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","arrTemp","nombre","COLUMN_NAME","tipo","DATA_TYPE","atributos","setState","nombreIndicador","nombreRiesgo","arreglo","ref","localeCompare","copy","jQuery","extend","activa","textoOperacionNuevo","e","$","val","numero","parseFloat","isNaN","valorARetornar","retornarValor","campoSeleccionadoNombre","alert","fecha","indexOf","split","Date","valorN","valorTextoN","Object","prototype","toString","call","getTime","variableID","ID","nombreCampo","nuevoFiltro","tipoCampoObjetivo","operacionTexto","texto","copyFiltros","splice","filtrosAgrupadosPorVariables","esVariable","agregoFiltro","j","filtroPadre","filtrosAgrupadosPorIndicadores","esIndicador","filtrosAgrupadosPorRiesgos","esRiesgo","codigoVariables","crearCodigoFiltro","retornoVariables","tabs","nombreReferenciaArregloEnCodigo","codigo","arregloCodigoFiltro","filtro","arregloDeFiltros","tabsText","posicionesIF","newTabsTextFormula","arregloValoresAComparar","substring","lastIndexOf","stringValores","diasAgregarCadena","mesesAgregarCadena","aniosAgregarCadena","futuro","diasAgregar","parseInt","mesesAgregar","aniosAgregar","esFuturo","hoy","addYears","addMonths","addDays","minusDays","minusMonths","minusYears","tamArreglo","comparacion","inicioComparacion","nombreCampoDeArregloEnCodigo","cuerpo","filter","object","arregloCuerpo","retorno","merge","esCondicion","regla","returnChooseDates","height","width","borderBottom","borderRight","overflowY","display","alignItems","paddingTop","justifyContent","border","borderRadius","paddingLeft","overflowX","map","variable","padding","whiteSpace","atributo","lineHeight","backgroundColor","color","instruccion","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport sql from 'mssql';\n\nimport Operacion from '../Regla/Operacion.js';\nimport Valor from '../Regla/Valor.js';\n\nvar textoOperacion = '', operacion = '', valor = '', valorTexto = '';\n\nexport default class Filtro extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            variables: [],\n            indicadores: [],\n            riesgos: [],\n            variableSeleccionada: null,\n            campoSeleccionado: null,\n            tipoCampo: {\n                esNumero: true,\n                esBoolean: false,\n                esFecha: false,\n                esTexto: false\n            },\n            filtros: [],\n            textoValor: \"\"\n        }\n        this.getResultsVariables = this.getResultsVariables.bind(this);\n        this.getResultsVariablesFieldsInit = this.getResultsVariablesFieldsInit.bind(this);\n        this.getFieldAttributes = this.getFieldAttributes.bind(this);\n        this.getFieldResults = this.getFieldResults.bind(this);\n\n        this.getResultsIndicators = this.getResultsIndicators.bind(this);\n        this.getResultsIndicatorsFieldsInit = this.getResultsIndicatorsFieldsInit.bind(this);\n        this.getFieldAttributesIndicators = this.getFieldAttributesIndicators.bind(this);\n        this.getFieldResultsIndicators = this.getFieldResultsIndicators.bind(this);\n\n        this.getResultsRisks = this.getResultsRisks.bind(this);\n        this.getResultsRisksFieldsInit = this.getResultsRisksFieldsInit.bind(this);\n        this.getFieldAttributesRisks = this.getFieldAttributesRisks.bind(this);\n        this.getFieldResultsRisks = this.getFieldResultsRisks.bind(this);\n\n        this.selVar = this.selVar.bind(this);\n        this.selCampo = this.selCampo.bind(this);\n        this.retornoSeleccionOperacion = this.retornoSeleccionOperacion.bind(this);\n        this.actualizarValor = this.actualizarValor.bind(this);\n        this.retornarValorFecha = this.retornarValorFecha.bind(this);\n        this.retornarValorTime = this.retornarValorTime.bind(this);\n        this.isValidDate = this.isValidDate.bind(this);\n\n        this.agregarFiltro = this.agregarFiltro.bind(this);\n        this.eliminarFiltro = this.eliminarFiltro.bind(this);\n\n        textoOperacion = '';\n        operacion = '';\n        valor = '';\n        valorTexto = '';\n    }\n\n    componentDidMount () {\n        this.getResultsVariables();\n        this.getResultsIndicators();\n        this.getResultsRisks();\n    }\n\n\tgetResultsVariables () {\n\t\t//OBTENER LA LISTA DE POSIBLES VARIABLES A VISUALIZAR\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ResultadosNombreVariables\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                        return [];\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.getResultsVariablesFieldsInit(result.recordset);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsVariablesFieldsInit (resultados) {\n        var arregloTemp = [];\n        for (var i = 0; i < resultados.length; i++) {\n            arregloTemp.push(resultados[i]);\n            this.getFieldAttributes(resultados[i], i, arregloTemp);\n            this.getFieldResults(resultados[i], i, arregloTemp);\n        };\n    }\n\n    getFieldAttributes(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = '\"+resultado.nombreVariable+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds()+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var arrTemp = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            arrTemp.push({nombre: result.recordset[i].COLUMN_NAME, tipo: result.recordset[i].DATA_TYPE});\n                        };\n                        array[index].atributos = arrTemp;\n                        this.setState({\n                            variables: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getFieldResults(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from \"+resultado.nombreVariable+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds(), (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        array[index].resultados = result.recordset;\n                        this.setState({\n                            variables: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsIndicators () {\n        //OBTENER LA LISTA DE POSIBLES VARIABLES A VISUALIZAR\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ResultadosNombreIndicadores\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                        return [];\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.getResultsIndicatorsFieldsInit(result.recordset);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsIndicatorsFieldsInit (resultados) {\n        var arregloTemp = [];\n        for (var i = 0; i < resultados.length; i++) {\n            arregloTemp.push(resultados[i]);\n            this.getFieldAttributesIndicators(resultados[i], i, arregloTemp);\n            this.getFieldResultsIndicators(resultados[i], i, arregloTemp);\n        };\n    }\n\n    getFieldAttributesIndicators(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = '\"+resultado.nombreIndicador+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds()+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var arrTemp = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            arrTemp.push({nombre: result.recordset[i].COLUMN_NAME, tipo: result.recordset[i].DATA_TYPE});\n                        };\n                        array[index].atributos = arrTemp;\n                        this.setState({\n                            indicadores: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getFieldResultsIndicators(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from \"+resultado.nombreIndicador+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds(), (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        array[index].resultados = result.recordset;\n                        this.setState({\n                            indicadores: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsRisks () {\n        //OBTENER LA LISTA DE POSIBLES VARIABLES A VISUALIZAR\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ResultadosNombreRiesgos\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                        return [];\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.getResultsRisksFieldsInit(result.recordset);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsRisksFieldsInit (resultados) {\n        var arregloTemp = [];\n        for (var i = 0; i < resultados.length; i++) {\n            arregloTemp.push(resultados[i]);\n            this.getFieldAttributesRisks(resultados[i], i, arregloTemp);\n            this.getFieldResultsRisks(resultados[i], i, arregloTemp);\n        };\n    }\n\n    getFieldAttributesRisks(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = '\"+resultado.nombreRiesgo+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds()+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var arrTemp = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            arrTemp.push({nombre: result.recordset[i].COLUMN_NAME, tipo: result.recordset[i].DATA_TYPE});\n                        };\n                        array[index].atributos = arrTemp;\n                        this.setState({\n                            riesgos: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getFieldResultsRisks(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from \"+resultado.nombreRiesgo+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds(), (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        array[index].resultados = result.recordset;\n                        this.setState({\n                            riesgos: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    selVar (index, arreglo) {\n        var ref;\n        if(arreglo.localeCompare(\"variable\") == 0) {\n            ref = this.state.variables[index];\n        } else if(arreglo.localeCompare(\"indicador\") == 0) {\n            ref = this.state.indicadores[index];\n        } else if(arreglo.localeCompare(\"riesgo\") == 0) {\n            ref = this.state.riesgos[index];\n        }\n        this.setState({\n            variableSeleccionada: ref,\n            campoSeleccionado: null\n        });\n    }\n\n    selCampo (index) {\n        var copy = jQuery.extend(true, {}, this.state.variableSeleccionada);\n        for (var i = 0; i < copy.atributos.length; i++) {\n            if(i == index)\n                copy.atributos[i].activa = true;\n            else\n                copy.atributos[i].activa = false;\n        };\n        var tipoCampo;\n        if(copy.atributos[index].tipo.localeCompare(\"int\") == 0 || copy.atributos[index].tipo.localeCompare(\"decimal\") == 0) {\n            tipoCampo = {\n                esNumero: true,\n                esBoolean: false,\n                esFecha: false,\n                esTexto: false\n            };\n        } else if(copy.atributos[index].tipo.localeCompare(\"bool\") == 0) {\n            tipoCampo = {\n                esNumero: false,\n                esBoolean: true,\n                esFecha: false,\n                esTexto: false\n            };\n        } else if(copy.atributos[index].tipo.localeCompare(\"date\") == 0) {\n            tipoCampo = {\n                esNumero: false,\n                esBoolean: false,\n                esFecha: true,\n                esTexto: false\n            };\n        } else if(copy.atributos[index].tipo.localeCompare(\"varchar\") == 0) {\n            tipoCampo = {\n                esNumero: false,\n                esBoolean: false,\n                esFecha: false,\n                esTexto: true\n            };\n        }\n        console.log('copy.atributos[index]')\n        console.log(copy.atributos[index])\n        console.log('copy.atributos')\n        console.log(copy.atributos)\n        this.setState({\n            variableSeleccionada: copy,\n            campoSeleccionado: copy.atributos[index],\n            tipoCampo: tipoCampo\n        }, console.log(this.state.tipoCampo) );\n    }\n\n    retornoSeleccionOperacion(textoOperacionNuevo, operacion) {\n        textoOperacion = textoOperacionNuevo;\n    }\n\n    actualizarValor (e) {\n        var valor  = $(\"#valor\").val();\n        this.setState({\n            textoValor: valor\n        });\n        if(this.state.tipoCampo.esNumero) {\n            var numero = parseFloat(valor);\n            if(!isNaN(numero)) {\n                var valorARetornar = \"MANUAL=NUMERO[\"+numero+\"]\";\n                this.props.retornarValor(valorARetornar, valor);\n            } else if(this.state.campoSeleccionadoNombre.localeCompare(\"{campo}\") != 0) {\n                alert('Valor Ingresado no es un número válido')\n            }\n        } else if(this.state.tipoCampo.esBoolean) {\n            if(numero.localeCompare(\"true\") == 0 || numero.localeCompare(\"false\") == 0 ) {\n                var valorARetornar = \"MANUAL=BOOL[\"+valor+\"]\";\n                this.props.retornarValor(valorARetornar, valor);\n            } else if(this.state.campoSeleccionadoNombre.localeCompare(\"{campo}\") != 0) {\n                alert('Valor Ingresado no es un valor booleano válido')\n            }\n        } else if(this.state.tipoCampo.esFecha) {\n            var fecha = null;\n            if(valor.indexOf(\"-\") != -1 && valor.split(\"-\").length > 2) {\n                fecha = new Date(valor.split(\"-\")[0], valor.split(\"-\")[1], valor.split(\"-\")[2]);\n            } else if(valor.indexOf(\"/\") != -1 && valor.split(\"/\").length > 2) {\n                fecha = new Date(valor.split(\"/\")[0], valor.split(\"/\")[1], valor.split(\"/\")[2]);\n            }\n            if(fecha != null && this.isValidDate(fecha)) {\n                var valorARetornar = \"MANUAL=FECHA[\";\n                if(valor.indexOf(\"-\") != -1 && valor.split(\"-\").length > 2) {\n                    valorARetornar += valor.split(\"-\")[0]+\",\"+valor.split(\"-\")[1]+\",\"+valor.split(\"-\")[2]+\"]\";\n                } else if(valor.indexOf(\"/\") != -1 && valor.split(\"/\").length > 2) {\n                    valorARetornar += valor.split(\"/\")[0]+\",\"+valor.split(\"/\")[1]+\",\"+valor.split(\"/\")[2]+\"]\";\n                }\n                this.props.retornarValor(valorARetornar, valor);\n            } else if(this.state.campoSeleccionadoNombre.localeCompare(\"{campo}\") != 0) {\n                alert('Valor Ingresado no es una fecha válida')\n            }\n        } else if(this.state.tipoCampo.esTexto) {\n            if(valor.length > 0 || valor.length < 984 ) {\n                var valorARetornar = \"MANUAL=VARCHAR[\"+valor+\"]\";\n                this.props.retornarValor(valorARetornar, valor);\n            } else if(this.state.campoSeleccionadoNombre.localeCompare(\"{campo}\") != 0) {\n                if(valor.length > 0)\n                    alert('Valor Ingresado debe tener una longitud mayor a 0')\n                else\n                    alert('Valor Ingresado debe tener una longitud menor a 984')\n            }\n        }\n    }\n\n    retornarValorFecha(valorN, valorTextoN) {\n        valor = valorN;\n        valorTexto = valorTextoN;\n    }\n\n    retornarValorTime(valorN, valorTexto) {\n        valor = valorN;\n        valorTexto = valorTextoN;\n    }\n\n    isValidDate (fecha) {\n        if (Object.prototype.toString.call(fecha) === \"[object Date]\") {\n            if (isNaN(fecha.getTime())) {\n                alert(\"Ingrese una fecha valida.\");\n                return false;\n            } else {\n                return true;\n            }\n        } else {\n            alert(\"Ingrese una fecha valida.\");\n            return false;\n        }\n    }\n\n    agregarFiltro() {\n        var variableID = this.state.variableSeleccionada.ID;\n        var nombreCampo = this.state.campoSeleccionado.nombre;\n        var tipoCampo = this.state.variableSeleccionada.tipo;\n        var nuevoFiltro = {\n            variableID: variableID,\n            nombreCampo: nombreCampo,\n            tipoCampoObjetivo: tipoCampo,\n            operacion: operacion,\n            operacionTexto: textoOperacion,\n            valor: valor,\n            texto: nombreCampo+\" \"+textoOperacion+\" \"+valorTexto\n        };\n        var copyFiltros = [...this.state.filtros];\n        copyFiltros.push(nuevoFiltro);\n        this.setState({\n            filtros: copyFiltros\n        });\n    }\n\n    eliminarFiltro(index) {\n        var copyFiltros = [...this.state.filtros];\n        copyFiltros.splice(index, 1);\n        this.setState({\n            filtros: copyFiltros\n        });\n    }\n\n    crearCodigoFiltros () {\n        //agregar filtros por variable\n        var filtrosAgrupadosPorVariables = [];\n        for (var i = 0; i < this.state.filtros.length; i++) {\n            if(this.state.filtros[i].esVariable) {\n                var agregoFiltro = false;\n                for (var i = 0; i < filtrosAgrupadosPorVariables.length; i++) {\n                    for (var j = 0; j < filtrosAgrupadosPorVariables[i].length; j++) {\n                        if (filtrosAgrupadosPorVariables[i][j].variableID == this.state.filtros[i].variableID) {\n                            filtrosAgrupadosPorVariables[i].push(this.state.filtros[i]);\n                            filtrosAgrupadosPorVariables[i][filtrosAgrupadosPorVariables[i].length-1].filtroPadre = filtrosAgrupadosPorVariables[i].length-2;\n                        }\n                    };\n                };\n                if(filtrosAgrupadosPorVariables.length == 0) {\n                    filtrosAgrupadosPorVariables.push(this.state.filtros[i]);\n                }\n            }\n        };\n        var filtrosAgrupadosPorIndicadores = [];\n        for (var i = 0; i < this.state.filtros.length; i++) {\n            if(this.state.filtros[i].esIndicador) {\n                var agregoFiltro = false;\n                for (var i = 0; i < filtrosAgrupadosPorIndicadores.length; i++) {\n                    for (var j = 0; j < filtrosAgrupadosPorIndicadores[i].length; j++) {\n                        if (filtrosAgrupadosPorIndicadores[i][j].variableID == this.state.filtros[i].variableID) {\n                            filtrosAgrupadosPorIndicadores[i].push(this.state.filtros[i]);\n                            filtrosAgrupadosPorIndicadores[i][filtrosAgrupadosPorIndicadores[i].length-1].filtroPadre = filtrosAgrupadosPorIndicadores[i].length-2;\n                        }\n                    };\n                };\n                if(filtrosAgrupadosPorIndicadores.length == 0) {\n                    filtrosAgrupadosPorIndicadores.push(this.state.filtros[i]);\n                }\n            }\n        };\n        var filtrosAgrupadosPorRiesgos = [];\n        for (var i = 0; i < this.state.filtros.length; i++) {\n            if(this.state.filtros[i].esRiesgo) {\n                var agregoFiltro = false;\n                for (var i = 0; i < filtrosAgrupadosPorRiesgos.length; i++) {\n                    for (var j = 0; j < filtrosAgrupadosPorRiesgos[i].length; j++) {\n                        if (filtrosAgrupadosPorRiesgos[i][j].variableID == this.state.filtros[i].variableID) {\n                            filtrosAgrupadosPorRiesgos[i].push(this.state.filtros[i]);\n                            filtrosAgrupadosPorRiesgos[i][filtrosAgrupadosPorRiesgos[i].length-1].filtroPadre = filtrosAgrupadosPorRiesgos[i].length-2;\n                        }\n                    };\n                };\n                if(filtrosAgrupadosPorRiesgos.length == 0) {\n                    filtrosAgrupadosPorRiesgos.push(this.state.filtros[i]);\n                }\n            }\n        };\n        //crearCodigo\n        var codigoVariables  = '';\n        for (var i = 0; i < filtrosAgrupadosPorVariables.length; i++) {\n            for (var j = 0; j < filtrosAgrupadosPorVariables[i].length; j++) {\n                codigoVariables += this.crearCodigoFiltro(filtrosAgrupadosPorVariables[i]);\n            };\n        };\n        console.log('codigoVariables')\n        console.log(codigoVariables)\n        this.props.retornoVariables(this.state.variables, this.state.indicadores, this.state.riesgos);\n    }\n\n    crearCodigoFiltro (filtros, tabs, nombreReferenciaArregloEnCodigo) {\n        var codigo = '';\n        var resultado = this.arregloCodigoFiltro(filtros[0], tabs, [], filtros, nombreReferenciaArregloEnCodigo);\n        if(resultado.length > 0)\n            resultado[0].codigo = \"\\n\"+resultado[0].codigo;\n        //$.merge( prestamosCuerpo, resultado );\n        for (var i = 0; i < resultado.length; i++) {\n            codigo += resultado[i].codigo;\n        };\n        return codigo;\n    }\n\n    arregloCodigoFiltro (filtro, tabs, arreglo, arregloDeFiltros, nombreReferenciaArregloEnCodigo) {\n        var tabsText = '';\n        for (var i = 0; i < tabs; i++) {\n            tabsText+='\\t';\n        };\n        var posicionesIF = [];\n        var newTabsTextFormula = '';\n        \n        //condiciones if\n        var arregloValoresAComparar = [];\n        if(filtro.valor.indexOf(\"LISTAID\") == 0) {\n            //\n        } else if(filtro.valor.indexOf(\"FECHA\") == 0) {\n            var fecha = filtro.valor.substring(filtro.valor.indexOf(\"[\")+1, filtro.valor.lastIndexOf(\"]\"));\n            arregloValoresAComparar = [\"new Date(\"+fecha+\").getTime()\"];\n        } else if(filtro.valor.indexOf(\"TIEMPO\") == 0) {\n            var stringValores = filtro.valor.substring(filtro.valor.indexOf(\"[\")+1, filtro.valor.lastIndexOf(\"]\"));\n            var diasAgregarCadena = stringValores.split(\",\")[0], mesesAgregarCadena = stringValores.split(\",\")[1], aniosAgregarCadena = stringValores.split(\",\")[2], futuro = stringValores.split(\",\")[3];\n            var diasAgregar = parseInt(diasAgregarCadena.indexOf(\"=\")+1), mesesAgregar = parseInt(mesesAgregarCadena.indexOf(\"=\")+1), aniosAgregar = parseInt(aniosAgregarCadena.indexOf(\"=\")+1);\n            var esFuturo = true;\n            if(futuro.localeCompare(\"FUTURO\") == 0)\n                esFuturo = true;\n            else\n                esFuturo = false;\n            var hoy = new Date();\n            if(esFuturo) {\n                hoy = this.addYears(hoy, aniosAgregar);\n                hoy = this.addMonths(hoy, mesesAgregar);\n                hoy = this.addDays(hoy, diasAgregar);\n            } else {\n                hoy = this.minusDays(hoy, aniosAgregar);\n                hoy = this.minusMonths(hoy, aniosAgregar);\n                hoy = this.minusYears(hoy, aniosAgregar);\n            }\n            arregloValoresAComparar = [\"new Date(\"+hoy.getFullYear()+\", \"+hoy.getMonth()+\", \"+hoy.getDate()+\").getTime()\"];\n        } else if(filtro.valor.indexOf(\"MANUAL\") == 0) {\n            arregloValoresAComparar = [filtro.valor.substring(filtro.valor.indexOf(\"[\")+1, filtro.valor.lastIndexOf(\"]\"))];\n        }\n        var tamArreglo = arreglo.length;\n        //for (var j = 0; j < tamArreglo; j++) {\n            for (var i = 0; i < arregloValoresAComparar.length; i++) {\n                var comparacion = \"\";\n                var inicioComparacion = \"\";\n                var operacion = \"\";\n                if(filtro.operacion.localeCompare(\"ES_MENOR\") == 0) {\n                    operacion = \"<\";\n                } else if(filtro.operacion.localeCompare(\"ES_MENOR_O_IGUAL\") == 0) {\n                    operacion = \"<=\";\n                } else if(filtro.operacion.localeCompare(\"ES_MAYOR_O_IGUAL\") == 0) {\n                    operacion = \">=\";\n                } else if(filtro.operacion.localeCompare(\"ES_MAYOR\") == 0) {\n                    operacion = \">\";\n                } else if(filtro.operacion.localeCompare(\"ES_IGUAL\") == 0) {\n                    operacion = \"==\";\n                } else if(filtro.operacion.localeCompare(\"NO_ES_IGUAL\") == 0) {\n                    operacion = \"!=\";\n                }\n                if (filtro.tipoCampoObjetivo.localeCompare(\"date\") == 0) {\n                    if(filtro.operacion.localeCompare(\"encuentra\") == 0) {\n                        //\n                    } else if(filtro.operacion.localeCompare(\"no_encuentra\") == 0) {\n                        //\n                    } else {\n                        inicioComparacion = nombreReferenciaArregloEnCodigo+\"[x].\"+filtro.nombreCampo+\" != undefined && isValidDate(\"+nombreReferenciaArregloEnCodigo+\"[x].\"+nombreCampoDeArregloEnCodigo+\")\";\n                        comparacion = nombreReferenciaArregloEnCodigo+\"[x].\"+filtro.nombreCampo+\".getTime() \"+operacion+\" \"+arregloValoresAComparar[i];\n                    }\n                } else if (filtro.tipoCampoObjetivo.localeCompare(\"varchar\") == 0) {\n                    if(filtro.operacion.localeCompare(\"encuentra\") == 0) {\n                        //\n                    } else if(filtro.operacion.localeCompare(\"no_encuentra\") == 0) {\n                        //\n                    } else {\n                        inicioComparacion = nombreReferenciaArregloEnCodigo+\"[x].\"+filtro.nombreCampo+\" != undefined\";\n                        comparacion = nombreReferenciaArregloEnCodigo+\"[x].\"+filtro.nombreCampo+\".localeCompare('\"+arregloValoresAComparar[i]+\"') \"+operacion+\" 0\";\n                    }\n                } else if (filtro.tipoCampoObjetivo.localeCompare(\"int\") == 0 || filtro.filtro.nombreCampo.localeCompare(\"decimal\") == 0) {\n                    if(filtro.operacion.localeCompare(\"encuentra\") == 0) {\n                        //\n                    } else if(filtro.operacion.localeCompare(\"no_encuentra\") == 0) {\n                        //\n                    } else {\n                        inicioComparacion = nombreReferenciaArregloEnCodigo+\"[x].\"+filtro.nombreCampo+\" != undefined && !isNaN(\"+nombreReferenciaArregloEnCodigo+\"[x].\"+nombreCampoDeArregloEnCodigo+\")\"\n                        comparacion = nombreReferenciaArregloEnCodigo+\"[x].\"+filtro.nombreCampo+\" \"+operacion+\" \"+arregloValoresAComparar[i];\n                    }\n                } else if (filtro.tipoCampoObjetivo.localeCompare(\"bit\") == 0) {\n                    inicioComparacion = nombreReferenciaArregloEnCodigo+\"[x].\"+filtro.nombreCampo+\" != undefined\"\n                    comparacion = nombreReferenciaArregloEnCodigo+\"[x].\"+filtro.nombreCampo+\" \"+operacion+\" \"+arregloValoresAComparar[i];\n                }\n                if(i+1 == arregloValoresAComparar.length) {\n                    comparacion += \" ) {\";\n                }\n                if(i==0) {\n                    arreglo.push({codigo: '\\n'+tabsText+\"if ( \"+inicioComparacion+\" && \"+comparacion, tipo: \"COMPARACION\"});\n                } else {\n                    arreglo[arreglo.length-1].codigo += \" && \"+comparacion;\n                }\n            };\n            /*console.log(\"ENTROOO j\");\n        };*/\n        posicionesIF.push(arreglo.length);\n\n        var cuerpo = arregloDeFiltros.filter(function( object, index ) {\n            return object.filtroPadre == index;\n        });\n        if(cuerpo.length > 0) {\n            var arregloCuerpo = [];\n            for (var i = 0; i < cuerpo.length; i++) {\n                var retorno = this.arregloCodigoFiltro(cuerpo[i], tabs+1, [], arregloDeFiltros, nombreReferenciaArregloEnCodigo);\n                retorno[0].codigo = \"\\n\"+retorno[0].codigo;\n                $.merge( arregloCuerpo, retorno );\n            };\n            for (var i = 0; i < posicionesIF.length; i++) {\n                arreglo.splice(posicionesIF[i], 0, ...arregloCuerpo);\n                if(filtro.esCondicion)\n                    arreglo.splice(posicionesIF[i]+arregloCuerpo.length, 0, {codigo: \"\\n\"+tabsText+\"}\", filtro: regla.filtro});\n                for (var j = i; j < posicionesIF.length; j++) {\n                    posicionesIF[j]+=arregloCuerpo.length;\n                };\n            };\n            if(posicionesIF.length == 0)\n                $.merge( arreglo, arregloCuerpo );\n            return arreglo;\n        } else {\n            if(filtro.esCondicion || posicionesIF.length > 0){\n                for (var i = 0; i < posicionesIF.length; i++) {\n                    if (newTabsTextFormula.length > 0)\n                        newTabsTextFormula = newTabsTextFormula.substring(0, newTabsTextFormula.length - 1);\n                    arreglo.splice(posicionesIF[i], 0, {codigo: \"\\n\"+tabsText+newTabsTextFormula+\"}\", filtro: regla.filtro})\n                };\n            }\n            return arreglo;\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <div className={\"row\"}>\n                    <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                        <div className={\"page-header\"}>\n                            <h2 className={\"pageheader-title\"}>Crear Filtros</h2>\n                            <div className={\"page-breadcrumb\"}>\n                                <nav aria-label=\"breadcrumb\">\n                                    <ol className={\"breadcrumb\"}>\n                                        <li className={\"breadcrumb-item font-16\"} aria-current=\"page\" onClick={this.props.returnChooseDates}><a href=\"#\" className={\"breadcrumb-link\"}>Seleccionar Fechas</a></li>\n                                        <li className={\"breadcrumb-item active font-16\"} aria-current=\"page\">Crear Filtros</li>\n                                    </ol>\n                                </nav>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"row\" style={{height: \"70vh\"}}>\n                    <div className=\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\" style={{height: \"100%\", width: \"100%\"}}>\n                        <div className=\"card\" style={{height: \"100%\", width: \"100%\"}}>\n                            <div className=\"row\" style={{borderBottom: \"3px solid #d2d2e4\", height: \"90%\", width: \"100%\"}}>\n                                <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3\"} style={{borderRight: \"3px solid #d2d2e4\", height: \"100%\", overflowY: \"scroll\"}}>\n                                    <div style={{display: \"flex\", alignItems: \"center\", paddingTop: \"1%\", justifyContent: \"center\", height: \"8%\", width: \"100%\", paddingTop: \"5px\"}}>\n                                        <h2>Variables</h2>\n                                    </div>\n                                    <div style={{width: \"100%\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\"}}>\n                                        <div style={{width: \"100%\", border: \"1px solid #999297\", borderRadius: \"50px\"}}>\n                                        </div>\n                                    </div>\n                                    <br/>\n                                    <div style={{paddingLeft: \"5px\", overflowX: \"scroll\"}}>\n                                        {this.state.variables.map((variable, i) => (\n                                            <div key={variable.ID}>\n                                                <label className=\"custom-control custom-radio\">\n                                                    <input id={\"varRad\"+variable.ID} onClick={() => this.selVar(i, \"variable\")} type=\"radio\" name=\"sinoRadio\" className=\"custom-control-input\"/><span className=\"custom-control-label\">{variable.nombreVariable}</span>\n                                                </label>\n                                                {\n                                                    i != this.state.variables.length-1\n                                                    ?   <div style={{width: \"100%\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\"}}>\n                                                            <div style={{width: \"80%\", border: \"1px solid #d2d2e4\", borderRadius: \"50px\"}}>\n                                                            </div>\n                                                        </div>\n                                                    : null\n                                                }\n                                            </div>\n                                        ))}\n                                    </div>\n                                </div>\n\n                                <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9\"} style={{height: \"100%\", width: \"100%\", padding: \"0px\"}}>\n                                    <div className=\"row\" style={{display: (this.state.variableSeleccionada != null ? \"\" : \"none\"), borderBottom: \"3px solid #d2d2e4\", height: \"30%\", width: \"100%\"}}>\n                                        {\n                                            this.state.variableSeleccionada != null\n                                            ?   <div className=\"text-center\" style={{height: \"100%\", width: \"100%\", overflowX: \"scroll\", whiteSpace: \"nowrap\"}}>\n                                                    {this.state.variableSeleccionada.atributos.map((atributo, i) => (\n                                                        <div key={this.state.variableSeleccionada.nombre+atributo.nombre+atributo.ID} style={{height: \"100%\", width: \"33%\", display: \"inline-block\", lineHeight: \"100%\", borderRight: \"1px solid #d2d2e4\", backgroundColor: (atributo.activa ? \"rgba(210, 210, 228, 0.4)\" : \"\") }} onClick={() => this.selCampo(i)} className=\"addPointer\">\n                                                            <div style={{height: \"100%\", width: \"100%\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                                                                <p className=\"lead\">\n                                                                    {atributo.nombre}\n                                                                </p>\n                                                            </div>\n                                                        </div>\n                                                    ))}\n                                                </div>\n                                            : null\n                                        }\n                                    </div>\n                                    <div className=\"row\" style={{display: (this.state.campoSeleccionado != null ? \"\" : \"none\"), borderBottom: \"3px solid #d2d2e4\", height: \"30%\"}}>\n                                        <Operacion esNumero={this.state.tipoCampo.esNumero}\n                                            esBoolean={this.state.tipoCampo.esBoolean}\n                                            esFecha={this.state.tipoCampo.esFecha}\n                                            esTexto={this.state.tipoCampo.esTexto}\n                                            retornoSeleccionOperacion={this.retornoSeleccionOperacion}>\n                                        </Operacion>\n                                    </div>\n                                    <div className=\"row\" style={{display: (this.state.campoSeleccionado != null ? \"\" : \"none\"), height: \"40%\", overflowY: \"scroll\"}}>\n                                        <Valor esNumero={this.state.tipoCampo.esNumero}\n                                            esBoolean={this.state.tipoCampo.esBoolean}\n                                            esFecha={this.state.tipoCampo.esFecha}\n                                            esTexto={this.state.tipoCampo.esTexto}\n                                            retornarValorFecha={this.retornarValorFecha}\n                                            retornarValorTime={this.retornarValorTime}\n                                            actualizarValor={this.actualizarValor}\n                                            pool={this.props.pool}>\n                                        </Valor>\n                                    </div>\n                                </div>\n                            </div>\n                            <br/>\n                            <div className={\"text-center\"} style={{width: \"100%\"}}>\n                                <a href=\"#\" className=\"btn btn-primary active\" onClick={this.agregarFiltro}>Agregar Filtro</a>\n                            </div>\n                            <br/>\n                        </div>\n                    </div>\n                </div>\n\n                <br/>\n                <div className={\"row\"}>\n                    <a className={\"btn btn-success btn-block btnWhiteColorHover font-bold font-20\"} style={{color: \"#fafafa\"}} onClick={() => this.props.retornoVariables(this.state.variables, this.state.indicadores, this.state.riesgos)}>Visualizar Variables</a>\n                </div>\n                <br/>\n\n                <div className=\"row\">\n                    <div className=\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\">\n                        <div className=\"card\">\n                            <table className=\"table table-striped table-bordered\">\n                                <thead>\n                                    <tr>\n                                        <th scope=\"col\">#</th>\n                                        <th scope=\"col\">Instrucción</th>\n                                        <th scope=\"col\">Borrar</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {this.state.filtros.map((filtro, i) => (\n                                        <tr key={filtro.instruccion+\"\"+j}>\n                                            <td scope=\"row\">{i+1}</td>\n                                            <td scope=\"row\">\n                                                {filtro.texto}\n                                            </td>\n                                            <td scope=\"row\">\n                                                <img className=\"addPointer\" onClick={() => this.eliminarFiltro(i) } src={\"../assets/trash.png\"} style={{height: \"20px\", width: \"20px\", display: \"block\"}}></img>\n                                            </td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        );\n    }\n}\n\n"],"file":"Filtro.js"}