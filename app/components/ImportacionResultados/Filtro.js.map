{"version":3,"sources":["components/ImportacionResultados/Filtro.js"],"names":["Filtro","props","state","variables","indicadores","riesgos","agregarFiltro","bind","getResultsVariables","getResultsVariablesFieldsInit","getFieldAttributes","getFieldResults","getResultsIndicators","getResultsIndicatorsFieldsInit","getFieldAttributesIndicators","getFieldResultsIndicators","getResultsRisks","getResultsRisksFieldsInit","getFieldAttributesRisks","getFieldResultsRisks","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","result","console","log","rollback","commit","recordset","resultados","arregloTemp","i","length","push","resultado","index","array","nombreVariable","inicioVigencia","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","arrTemp","nombre","COLUMN_NAME","tipo","DATA_TYPE","atributos","setState","nombreIndicador","nombreRiesgo","configuracionHome","map","variable","ID","width","color","retornoVariables","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport sql from 'mssql';\n\nexport default class Filtro extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            variables: [],\n            indicadores: [],\n            riesgos: []\n        }\n        this.agregarFiltro = this.agregarFiltro.bind(this);\n        this.getResultsVariables = this.getResultsVariables.bind(this);\n        this.getResultsVariablesFieldsInit = this.getResultsVariablesFieldsInit.bind(this);\n        this.getFieldAttributes = this.getFieldAttributes.bind(this);\n        this.getFieldResults = this.getFieldResults.bind(this);\n\n        this.getResultsIndicators = this.getResultsIndicators.bind(this);\n        this.getResultsIndicatorsFieldsInit = this.getResultsIndicatorsFieldsInit.bind(this);\n        this.getFieldAttributesIndicators = this.getFieldAttributesIndicators.bind(this);\n        this.getFieldResultsIndicators = this.getFieldResultsIndicators.bind(this);\n\n        this.getResultsRisks = this.getResultsRisks.bind(this);\n        this.getResultsRisksFieldsInit = this.getResultsRisksFieldsInit.bind(this);\n        this.getFieldAttributesRisks = this.getFieldAttributesRisks.bind(this);\n        this.getFieldResultsRisks = this.getFieldResultsRisks.bind(this);\n    }\n\n    componentDidMount () {\n        this.getResultsVariables();\n        this.getResultsIndicators();\n        this.getResultsRisks();\n    }\n\n    agregarFiltro () {\n        //\n    }\n\n\tgetResultsVariables () {\n\t\t//OBTENER LA LISTA DE POSIBLES VARIABLES A VISUALIZAR\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ResultadosNombreVariables\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                        return [];\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.getResultsVariablesFieldsInit(result.recordset);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsVariablesFieldsInit (resultados) {\n        var arregloTemp = [];\n        for (var i = 0; i < resultados.length; i++) {\n            arregloTemp.push(resultados[i]);\n            this.getFieldAttributes(resultados[i], i, arregloTemp);\n            this.getFieldResults(resultados[i], i, arregloTemp);\n        };\n    }\n\n    getFieldAttributes(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = '\"+resultado.nombreVariable+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds()+\"'\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var arrTemp = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            arrTemp.push({nombre: result.recordset[i].COLUMN_NAME, tipo: result.recordset[i].DATA_TYPE});\n                        };\n                        array[index].atributos = arrTemp;\n                        this.setState({\n                            variables: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getFieldResults(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from \"+resultado.nombreVariable+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds(), (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        array[index].resultados = result.recordset;\n                        this.setState({\n                            variables: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsIndicators () {\n        //OBTENER LA LISTA DE POSIBLES VARIABLES A VISUALIZAR\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ResultadosNombreIndicadores\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                        return [];\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.getResultsIndicatorsFieldsInit(result.recordset);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsIndicatorsFieldsInit (resultados) {\n        var arregloTemp = [];\n        for (var i = 0; i < resultados.length; i++) {\n            arregloTemp.push(resultados[i]);\n            this.getFieldAttributesIndicators(resultados[i], i, arregloTemp);\n            this.getFieldResultsIndicators(resultados[i], i, arregloTemp);\n        };\n    }\n\n    getFieldAttributesIndicators(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = '\"+resultado.nombreIndicador+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds()+\"'\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var arrTemp = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            arrTemp.push({nombre: result.recordset[i].COLUMN_NAME, tipo: result.recordset[i].DATA_TYPE});\n                        };\n                        array[index].atributos = arrTemp;\n                        this.setState({\n                            indicadores: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getFieldResultsIndicators(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from \"+resultado.nombreIndicador+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds(), (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        array[index].resultados = result.recordset;\n                        this.setState({\n                            indicadores: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsRisks () {\n        //OBTENER LA LISTA DE POSIBLES VARIABLES A VISUALIZAR\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ResultadosNombreRiesgos\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                        return [];\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.getResultsRisksFieldsInit(result.recordset);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getResultsRisksFieldsInit (resultados) {\n        var arregloTemp = [];\n        for (var i = 0; i < resultados.length; i++) {\n            arregloTemp.push(resultados[i]);\n            this.getFieldAttributesRisks(resultados[i], i, arregloTemp);\n            this.getFieldResultsRisks(resultados[i], i, arregloTemp);\n        };\n    }\n\n    getFieldAttributesRisks(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME = '\"+resultado.nombreRiesgo+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds()+\"'\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var arrTemp = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            arrTemp.push({nombre: result.recordset[i].COLUMN_NAME, tipo: result.recordset[i].DATA_TYPE});\n                        };\n                        array[index].atributos = arrTemp;\n                        this.setState({\n                            riesgos: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getFieldResultsRisks(resultado, index, array) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from \"+resultado.nombreRiesgo+'_'+resultado.inicioVigencia.getFullYear()+'_'+(resultado.inicioVigencia.getMonth()+1)+'_'+resultado.inicioVigencia.getDate()+'_'+resultado.inicioVigencia.getHours()+'_'+resultado.inicioVigencia.getMinutes()+'_'+resultado.inicioVigencia.getSeconds(), (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        array[index].resultados = result.recordset;\n                        this.setState({\n                            riesgos: array\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    render() {\n        return (\n            <div>\n                <div className={\"row\"}>\n                    <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                        <div className={\"page-header\"}>\n                            <h2 className={\"pageheader-title\"}>Crear Filtros</h2>\n                            <div className={\"page-breadcrumb\"}>\n                                <nav aria-label=\"breadcrumb\">\n                                    <ol className={\"breadcrumb\"}>\n                                        <li className={\"breadcrumb-item font-16\"} aria-current=\"page\" onClick={this.props.configuracionHome}><a href=\"#\" className={\"breadcrumb-link\"}>Seleccionar Fechas</a></li>\n                                        <li className={\"breadcrumb-item active font-16\"} aria-current=\"page\">Crear Filtros</li>\n                                    </ol>\n                                </nav>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"row\">\n                    <div className=\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\">\n                        <div className=\"card\">\n                            <div className=\"row\">\n                                <div className={\"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4\"}>\n                                    {this.state.variables.map((variable, i) => (\n                                        <label key={variable.ID} className=\"custom-control custom-radio custom-control-inline\">\n                                            <input id={\"varRad\"+variable.ID} type=\"radio\" name=\"sinoRadio\" defaultChecked className=\"custom-control-input\"/><span className=\"custom-control-label\">{variable.nombreVariable}</span>\n                                        </label>\n                                    ))}\n                                </div>\n\n                                <div className={\"col-xl-8 col-lg-8 col-md-8 col-sm-8 col-8\"}>\n                                </div>\n                            </div>\n                            <br/>\n                            <div className={\"text-center\"} style={{width: \"100%\"}}>\n                                <a href=\"#\" className=\"btn btn-primary active\" onClick={this.agregarFiltro}>Agregar Filtro</a>\n                            </div>\n                            <br/>\n                        </div>\n                    </div>\n                </div>\n\n                <br/>\n                <div className={\"row\"}>\n                    <a className={\"btn btn-success btn-block btnWhiteColorHover font-bold font-20\"} style={{color: \"#fafafa\"}} onClick={() => this.props.retornoVariables(this.state.variables, this.state.indicadores, this.state.riesgos)}>Visualizar Variables</a>\n                </div>\n                <br/>\n            </div>\n        );\n    }\n}\n\n"],"file":"Filtro.js"}