{"version":3,"sources":["components/SeleccionarCredito.js"],"names":["SeleccionarCredito","props","state","tipoCreditos","mostrarCreacionTipoCredito","loadTypeCredit","bind","goCreateTypeCredit","returnChooseTypeCredit","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","tablaID","result","console","log","rollback","commit","setState","recordset","retornoTablas","showConfigurationComponent","color","fontSize","fontWeight","margin","display","map","tipoCredito","i","seleccionarCredito","ID","nombre","length","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport sql from 'mssql';\n\nimport CrearTipoCredito from './CrearTipoCredito.js';\n\nexport default class SeleccionarCredito extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            tipoCreditos: [],\n            mostrarCreacionTipoCredito: false\n        }\n        this.loadTypeCredit = this.loadTypeCredit.bind(this);\n        this.goCreateTypeCredit = this.goCreateTypeCredit.bind(this);\n        this.returnChooseTypeCredit = this.returnChooseTypeCredit.bind(this);\n    }\n\n    componentDidMount() {\n        this.loadTypeCredit();\n    }\n\n    loadTypeCredit() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from TipoCredito where tablaID = \"+this.props.tablaID, (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.setState({\n                            tipoCreditos: result.recordset\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    goCreateTypeCredit() {\n        this.setState({\n            mostrarCreacionTipoCredito: true\n        });\n    }\n\n    returnChooseTypeCredit() {\n        this.setState({\n            mostrarCreacionTipoCredito: false\n        });\n        this.loadTypeCredit();\n    }\n\n    render() {\n        if(this.state.mostrarCreacionTipoCredito) {\n            return (\n                <div>\n                    <CrearTipoCredito tablaID={this.props.tablaID} pool={this.props.pool} retornoSelCreditos={this.returnChooseTypeCredit} retornoTablas={this.props.retornoTablas} showConfigurationComponent={this.props.showConfigurationComponent}> </CrearTipoCredito>\n                </div>\n            );\n        } else {\n            return (\n                <div>\n                    <div className={\"row\"}>\n                        <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                            <div className={\"page-header\"}>\n                                <h2 className={\"pageheader-title\"}>Configuraci&oacute;n</h2>\n                                <div className={\"page-breadcrumb\"}>\n                                    <nav aria-label=\"breadcrumb\">\n                                        <ol className={\"breadcrumb\"}>\n                                            <li className={\"breadcrumb-item\"} aria-current=\"page\" onClick={this.props.showConfigurationComponent}><a href=\"#\" className={\"breadcrumb-link\"}>Configuraci&oacute;n</a></li>\n                                            <li className={\"breadcrumb-item\"} aria-current=\"page\" onClick={this.props.retornoTablas}><a href=\"#\" className={\"breadcrumb-link\"}>Seleccionar Tabla</a></li>\n                                            <li className={\"breadcrumb-item active\"} aria-current=\"page\">Seleccionar Tipo de Cr&eacute;dito</li>\n                                        </ol>\n                                    </nav>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={\"row\"}>\n                        <button onClick={this.goCreateTypeCredit} className={\"btn btn-success btn-block col-xl-10 col-10\"} style={{color: \"white\", fontSize: \"1.2em\", fontWeight: \"bold\", margin: \"0 auto\", display: \"block\"}}>Crear</button>\n                    </div>\n                    <br/>\n                    <div className={\"row\"}>\n                        <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                            <div className={\"card influencer-profile-data\"}>\n                                <div className={\"card-body\"}>\n                                    <div className={\"row border-top border-bottom addPaddingToConfig\"}>\n                                        {this.state.tipoCreditos.map((tipoCredito, i) =>\n                                            <a className={\"btn btn-outline-info btn-block btnWhiteColorHover fontSize1EM\"} onClick={() => this.props.seleccionarCredito(tipoCredito.ID)} key={tipoCredito.ID}>{tipoCredito.nombre}</a>\n                                        )}\n                                        { this.state.tipoCreditos.length == 0 ? (\n                                            <a className={\"btn btn-outline-dark btn-block btnWhiteColorHover fontSize1EM\"}>No existen tipos de cr&eacute;ditos creados</a>\n                                        ) : (\n                                            <span></span>\n                                        )}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n    }\n}\n"],"file":"SeleccionarCredito.js"}