{"version":3,"sources":["components/ContenedorFormulas.js"],"names":["variables","objetos","camposDeObjetos","formulaSeleccionada","posicionFormula","ContenedorFormulas","props","state","mostrarCrearCondicion","asignaciones","crearSelected","editarSelected","eliminarSelected","mostrarCrearFormula","actualizarSeleccionFormula","bind","verificarSeleccionFormula","eliminarFormula","eliminarFormulaDataBase","eliminarElementosFormulaDataBase","handleMouseHoverAgregar","handleMouseHoverModificar","handleMouseHoverEliminar","handleMouseHoverExit","verificarBotonSel","goCrear","goModificar","goEliminar","verificarAccion","asignacion","posicionFormulaN","$","prop","setState","undefined","callbackCrearRegla","showMessage","esEditarVar","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","tablaBorrarFormulas","condicionFormula","result","console","log","rollback","commit","tablaBorrarElementos","condicionElemento","addClass","removeClass","css","i","reglas","length","j","callbackModificarRegla","callbackEliminarRegla","width","color","goToCreateFormula","map","paddingLeft","paddingRight","height","display","marginRight","formula","fontSize","fontWeight","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport VariableCreation from './Regla/VariableCreation.js';\nimport ContenedorReglas from './ContenedorReglas.js';\n\n//const campos = [{valor: \"idCLiente\"}, {valor: \"saldoTotal\"}, {valor: \"tipoPersona\"}, {valor: \"impuestosTotal\"}, {valor: \"nombreCliente\"}, {valor: \"diasMora\"}, {valor: \"mesMora\"}];\nconst variables = [];\nconst objetos = [];\nconst camposDeObjetos = [];\n\nvar formulaSeleccionada, posicionFormula;\n\nexport default class ContenedorFormulas extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            mostrarCrearCondicion: true,\n            asignaciones: [],\n            crearSelected: true,\n            editarSelected: false,\n            eliminarSelected: false,\n            mostrarCrearFormula: true\n        }\n        this.actualizarSeleccionFormula = this.actualizarSeleccionFormula.bind(this);\n        this.verificarSeleccionFormula = this.verificarSeleccionFormula.bind(this);\n        this.eliminarFormula = this.eliminarFormula.bind(this);\n        this.eliminarFormulaDataBase = this.eliminarFormulaDataBase.bind(this);\n        this.eliminarElementosFormulaDataBase = this.eliminarElementosFormulaDataBase.bind(this);\n        this.handleMouseHoverAgregar = this.handleMouseHoverAgregar.bind(this);\n        this.handleMouseHoverModificar = this.handleMouseHoverModificar.bind(this);\n        this.handleMouseHoverEliminar = this.handleMouseHoverEliminar.bind(this);\n        this.handleMouseHoverExit = this.handleMouseHoverExit.bind(this);\n        this.verificarBotonSel = this.verificarBotonSel.bind(this);\n        this.goCrear = this.goCrear.bind(this);\n        this.goModificar = this.goModificar.bind(this);\n        this.goEliminar = this.goEliminar.bind(this);\n        this.verificarAccion = this.verificarAccion.bind(this);\n    }\n\n    componentDidMount() {\n        this.verificarBotonSel();\n    }\n\n    actualizarSeleccionFormula (asignacion, posicionFormulaN) {\n        if(posicionFormula == posicionFormulaN) {\n            $(\"#formula\"+posicionFormula).prop(\"checked\", false);\n            this.setState({\n                mostrarCrearFormula: true\n            });\n            posicionFormula = -1;\n            this.props.actualizarSeleccionFormula(null, posicionFormulaN);\n        } else {\n            formulaSeleccionada = asignacion;\n            posicionFormula = posicionFormulaN;\n            this.setState({\n                mostrarCrearFormula: false\n            });\n            this.props.actualizarSeleccionFormula(asignacion, posicionFormulaN);\n        }\n    }\n\n    verificarSeleccionFormula () {\n        if(formulaSeleccionada != undefined && formulaSeleccionada != null) {\n            this.props.callbackCrearRegla(true, formulaSeleccionada, posicionFormula);\n        } else {\n            this.props.showMessage(\"Error\", \"Seleccione por lo menos una formula\", true, false, {});\n        }\n    }\n\n    eliminarFormula (asignacion) {\n        if(this.props.esEditarVar) {\n            this.eliminarFormulaDataBase();\n            this.eliminarElementosFormulaDataBase();\n            this.props.eliminarFormula();\n        } else {\n            this.props.eliminarFormula();\n        }\n    }\n\n    eliminarFormulaDataBase () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"delete from \"+this.props.tablaBorrarFormulas+\" where \"+this.props.condicionFormula, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    eliminarElementosFormulaDataBase () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"delete from \"+this.props.tablaBorrarElementos+\" where \"+this.props.condicionElemento, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    handleMouseHoverAgregar() {\n        $(\"#crearButton\").addClass(\"onHoverOpcionUmbralSinCambioHeight\");\n        $(\"#modificarButton\").removeClass(\"onHoverOpcionUmbralSinCambioHeight\");\n        $(\"#eliminarButton\").removeClass(\"onHoverOpcionUmbralSinCambioHeight\");\n    }\n\n    handleMouseHoverModificar() {\n        $(\"#crearButton\").removeClass(\"onHoverOpcionUmbralSinCambioHeight\");\n        $(\"#modificarButton\").addClass(\"onHoverOpcionUmbralSinCambioHeight\");\n        $(\"#eliminarButton\").removeClass(\"onHoverOpcionUmbralSinCambioHeight\");\n    }\n\n    handleMouseHoverEliminar() {\n        $(\"#crearButton\").removeClass(\"onHoverOpcionUmbralSinCambioHeight\");\n        $(\"#modificarButton\").removeClass(\"onHoverOpcionUmbralSinCambioHeight\");\n        $(\"#eliminarButton\").addClass(\"onHoverOpcionUmbralSinCambioHeight\");\n    }\n\n    handleMouseHoverExit() {\n        $(\"#crearButton\").removeClass(\"onHoverOpcionUmbralSinCambioHeight\");\n        $(\"#modificarButton\").removeClass(\"onHoverOpcionUmbralSinCambioHeight\");\n        $(\"#eliminarButton\").removeClass(\"onHoverOpcionUmbralSinCambioHeight\");\n        this.verificarBotonSel();\n    }\n\n    verificarBotonSel () {\n        if(this.state.crearSelected) {\n            $(\"#crearButton\").addClass(\"onHoverOpcionUmbralSinCambioHeight\");\n            $(\"#modificarButton\").removeClass(\"onHoverOpcionUmbralSinCambioHeight\");\n            $(\"#eliminarButton\").removeClass(\"onHoverOpcionUmbralSinCambioHeight\");\n        } else if(this.state.editarSelected) {\n            $(\"#crearButton\").removeClass(\"onHoverOpcionUmbralSinCambioHeight\");\n            $(\"#modificarButton\").addClass(\"onHoverOpcionUmbralSinCambioHeight\");\n            $(\"#eliminarButton\").removeClass(\"onHoverOpcionUmbralSinCambioHeight\");\n        } else if (this.state.eliminarSelected) {\n            $(\"#crearButton\").removeClass(\"onHoverOpcionUmbralSinCambioHeight\");\n            $(\"#modificarButton\").removeClass(\"onHoverOpcionUmbralSinCambioHeight\");\n            $(\"#eliminarButton\").addClass(\"onHoverOpcionUmbralSinCambioHeight\");\n        }\n    }\n\n    goCrear() {\n        this.setState({\n            crearSelected: true,\n            editarSelected: false,\n            eliminarSelected: false\n        });\n    }\n\n    goModificar() {\n        this.setState({\n            crearSelected: false,\n            editarSelected: true,\n            eliminarSelected: false\n        });\n    }\n\n    goEliminar() {\n        this.setState({\n            crearSelected: false,\n            editarSelected: false,\n            eliminarSelected: true\n        });\n    }\n\n    verificarAccion () {\n        $(\"#reglaInit\").removeClass(\"colorPunteroFormula\");\n        $(\"#reglaInit\").removeClass(\"blink\");\n        $(\"#reglaFin\").removeClass(\"colorPunteroFormula\");\n        $(\"#reglaFin\").removeClass(\"blink\");\n        $(\"#unicaRegla\").css(\"border\", \"initial\");\n        $(\"#unicaRegla\").removeClass(\"blink\");\n        for (var i = 0; i < this.props.reglas.length; i++) {\n            if(this.props.reglas.length == 1 && this.props.reglas[0] != undefined && this.props.reglas[0].length == 1) {\n                console.log('YEAH1')\n                $(\"#reglaInit\"+i).removeClass(\"colorPunteroFormula\");\n                $(\"#reglaInit\"+i).removeClass(\"blink\");\n                $(\"#reglaFin\"+i).removeClass(\"colorPunteroFormula\");\n                $(\"#reglaFin\"+i).removeClass(\"blink\");\n            } else {\n                console.log('YEAH2')\n                for (var j = 0; j < this.props.reglas[i].length; j++) {\n                    console.log('j = '+j)\n                    $(\"#regla\"+i+j).css(\"border\", \"initial\");\n                    $(\"#regla\"+i+j).removeClass(\"blink\");\n                    $(\"#reglaInit\"+i+j).removeClass(\"colorPunteroFormula\");\n                    $(\"#reglaInit\"+i+j).removeClass(\"blink\");\n                    $(\"#reglaFin\"+i+j).removeClass(\"colorPunteroFormula\");\n                    $(\"#reglaFin\"+i+j).removeClass(\"blink\");\n                }\n            }\n        };\n        if(this.state.crearSelected)\n            this.verificarSeleccionFormula();\n        else if(this.state.editarSelected) {\n            if(formulaSeleccionada != undefined && formulaSeleccionada != null) {\n                this.props.callbackModificarRegla(true, formulaSeleccionada, posicionFormula);\n            } else {\n                this.props.showMessage(\"Error\", \"Seleccione por lo menos una formula\", true, false, {});\n            }\n        } else {\n            this.props.callbackEliminarRegla(true);\n        }\n    }\n    \n    render() {\n        return (\n            <div style={{width: \"100%\"}}>\n                <h3 className={\"card-header\"}>Crear Asignación</h3>\n                <br/>\n                <div className={\"text-center\"}>\n                    {\n                        this.state.mostrarCrearFormula\n                        ? <a className={\"btn btn-success col-xs-10 col-10 btnWhiteColorHover font-bold font-20\"} style={{color: \"#fafafa\"}} onClick={() => {posicionFormula = -1; this.props.goToCreateFormula(-1, false)} }>Crear</a>\n                        : <a className={\"btn btn-success col-xs-10 col-10 btnWhiteColorHover font-bold font-20\"} style={{color: \"#fafafa\"}} onClick={() => {posicionFormula = -1; this.props.goToCreateFormula(posicionFormula, true)} }>Modificar</a>\n                    }\n                </div>\n                <hr/>\n                <h3 className={\"card-header\"}>Seleccionar Asignación</h3>\n                <br/>\n                <div>\n                    {this.props.asignaciones.map((asignacion, i) => (\n                        <div key={i} style={{paddingLeft: \"10px\", paddingRight: \"5px\"}}>\n                            {\n                                i != 0\n                                ? <br/>\n                                : null\n                            }\n                            <label className=\"custom-control custom-radio\">\n                                <input id={\"formula\"+i} type=\"radio\" name=\"formulasRadio\" className=\"custom-control-input\" onClick={() => this.actualizarSeleccionFormula(asignacion, i)}/><span className=\"custom-control-label\"> <img className=\"addPointer\" onClick={() => this.eliminarFormula(asignacion) } src={\"../assets/trash.png\"} style={{height: \"20px\", width: \"20px\", display: \"block\", float: \"left\", marginRight: \"10px\"}}></img> {asignacion.formula}</span>\n                            </label>\n                        </div>\n                    ))}\n                    {\n                        this.props.asignaciones.length == 0\n                        ? \n                            <div className={\"text-center\"}>\n                                <a style={{color: \"#fafafa\"}} className={\"btn btn-dark col-xs-10 col-10 btnWhiteColorHover font-bold font-20\"}>No existen asignaciones / fórmulas creadas</a>\n                            </div>\n                        : null\n                    }\n                </div>\n                <hr/>\n                <div className={\"row\"}>\n                    <div className={\"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2\"}>\n                        <div id=\"crearButton\" onMouseEnter={this.handleMouseHoverAgregar} onMouseLeave={this.handleMouseHoverExit} onClick={this.goCrear} className=\"border text-center addPointer\">Agregar</div>\n                        <div id=\"modificarButton\" onMouseEnter={this.handleMouseHoverModificar} onMouseLeave={this.handleMouseHoverExit} onClick={this.goModificar} className=\"border text-center addPointer\">Modificar</div>\n                        <div id=\"eliminarButton\" onMouseEnter={this.handleMouseHoverEliminar} onMouseLeave={this.handleMouseHoverExit} onClick={this.goEliminar} className=\"border text-center addPointer\">Eliminar</div>\n                    </div>\n                    <div className={\"col-xl-10 col-lg-10 col-md-10 col-sm-10 col-10\"} style={{display: this.state.crearSelected ?  \"\" : \"none\"}}>\n                        <div className={\"text-center\"}>\n                            <a onClick={this.verificarAccion} className={\"btn btn-primary col-xs-6 col-6\"} style={{color: \"white\", fontSize: \"1.2em\", fontWeight: \"bold\"}}>Agregar Asignación</a>\n                        </div>\n                    </div>\n                    <div className={\"col-xl-10 col-lg-10 col-md-10 col-sm-10 col-10\"} style={{display: this.state.editarSelected ? \"\" : \"none\"}}>\n                        <div className={\"text-center\"}>\n                            <a onClick={this.verificarAccion} className={\"btn btn-primary col-xs-6 col-6\"} style={{color: \"white\", fontSize: \"1.2em\", fontWeight: \"bold\"}}>Modificar Asignación</a>\n                        </div>\n                    </div>\n                    <div className={\"col-xl-10 col-lg-10 col-md-10 col-sm-10 col-10\"} style={{display: this.state.eliminarSelected ? \"\" : \"none\"}}>\n                        <div className={\"text-center\"}>\n                            <a onClick={this.verificarAccion} className={\"btn btn-primary col-xs-6 col-6\"} style={{color: \"white\", fontSize: \"1.2em\", fontWeight: \"bold\"}}>Eliminar</a>\n                        </div>\n                    </div>\n                </div>\n                <br/>\n            </div>\n        );\n    }\n}\n"],"file":"ContenedorFormulas.js"}