{"version":3,"sources":["components/Home.js"],"names":["c3","require","d3","resultados1","resultados2","Home","props","state","capitalMinimo1","capitalMinimo2","capitalMinimo3","capitalMinimo4","getMinimoCapital1","bind","getLabels1","getSumValues1","insertIntoResults1","renderChart1","getLabels2","getSumValues2","insertIntoResults2","renderChart2","formatDateCreation","console","log","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","Date","result","rollback","commit","setState","recordset","date","monthNames","day","getDate","monthIndex","getMonth","year","getFullYear","nombreIdentificador","i","length","idObjeto","valor","nombreEtiqueta","entro","localeCompare","push","chartClientes","generate","bindto","data","columns","type","colors","data1","data2","data3","data4","data5","pie","label","format","value","ratio","id","undefined","Intl","NumberFormat","style","currency","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport sql from 'mssql';\n\nvar c3 = require(\"c3\");\nvar d3 = require(\"d3\");\n\nvar resultados1 = [], resultados2 = [];\n\nexport default class Home extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            capitalMinimo1: {},\n            capitalMinimo2: {},\n            capitalMinimo3: {},\n            capitalMinimo4: {}\n        }\n        this.getMinimoCapital1 = this.getMinimoCapital1.bind(this);\n        this.getLabels1 = this.getLabels1.bind(this);\n        this.getSumValues1 = this.getSumValues1.bind(this);\n        this.insertIntoResults1 = this.insertIntoResults1.bind(this);\n        this.renderChart1 = this.renderChart1.bind(this);\n        this.getLabels2 = this.getLabels2.bind(this);\n        this.getSumValues2 = this.getSumValues2.bind(this);\n        this.insertIntoResults2 = this.insertIntoResults2.bind(this);\n        this.renderChart2 = this.renderChart2.bind(this);\n        this.formatDateCreation = this.formatDateCreation.bind(this);\n    }\n\n    componentDidMount() {\n        resultados1 = [];\n        resultados2 = [];\n        this.getMinimoCapital1();\n        this.getLabels1();\n        this.getLabels2();\n    }\n\n    getMinimoCapital1 () {\n        console.log(this.state.capitalMinimo1)\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ResultadosDecimal where objeto = 'CAPITAL_MINIMO' and fecha = '\"+this.formatDateCreation(new Date())+\"'\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.setState({\n                            capitalMinimo1: result.recordset[0]\n                        }, console.log(this.state.capitalMinimo1));\n                        console.log(this.state.capitalMinimo1)\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    formatDateCreation(date) {\n        //formato si es STRING\n        //aaaa/mm/dd\n        //aaaa-mm-dd\n        var monthNames = [\n            \"Ene\", \"Feb\", \"Mar\",\n            \"Abr\", \"May\", \"Jun\", \"Jul\",\n            \"Ago\", \"Sep\", \"Oct\",\n            \"Nov\", \"Dec\"\n        ];\n\n        var day = date.getDate();\n        var monthIndex = date.getMonth();\n        monthIndex++;\n        var year = date.getFullYear();\n        return year + '-' + monthIndex + '-' + day;\n    }\n\n    getLabels1 () {\n        var nombreIdentificador = \"valor, idObjeto\";\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select \"+nombreIdentificador+\" from ResultadosString where nombre = 'categoriaClasificacion'\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            this.getSumValues1(result.recordset[i].idObjeto, result.recordset[i].valor);\n                        };\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getSumValues1 (idObjeto, nombreEtiqueta) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select valor from ResultadosDecimal where nombre = 'totalCapitalPagado' and idObjeto = '\"+idObjeto+\"'\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        console.log(result.recordset);\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            this.insertIntoResults1(result.recordset[i].valor, nombreEtiqueta);\n                        };\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    insertIntoResults1 (valor, nombreEtiqueta) {\n        var entro = false;\n        for (var i = 0; i < resultados1.length; i++) {\n            if(resultados1[i][0].localeCompare(nombreEtiqueta) == 0) {\n                resultados1[i][1] += valor;\n                entro = true;\n                break;\n            }\n        };\n        if(resultados1.length == 0 || !entro) {\n            resultados1.push([nombreEtiqueta, valor])\n        }\n        this.renderChart1();\n    }\n\n    renderChart1 () {\n        var chartClientes = c3.generate({\n            bindto: \"#saldos\",\n            data: {\n                columns: resultados1,\n                type: 'pie',\n\n                colors: {\n                    data1: '#5969ff',\n                    data2: '#ff407b',\n                    data3: '#b39ddb',\n                    data4: '#80deea',\n                    data5: '#ffcc80'\n\n                }\n            },\n            pie: {\n                label: {\n                    format: function(value, ratio, id) {\n                        return d3.format('$')(value);\n                    }\n                }\n            }\n        });\n    }\n\n    getLabels2 () {\n        var nombreIdentificador = \"valor, idObjeto\";\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select \"+nombreIdentificador+\" from ResultadosString where nombre = 'categoriaClasificacion'\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            this.getSumValues2(result.recordset[i].idObjeto, result.recordset[i].valor);\n                        };\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getSumValues2 (idObjeto, nombreEtiqueta) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select valor from ResultadosDecimal where nombre = 'estimacionDeterioro' and idObjeto = '\"+idObjeto+\"'\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        console.log(result.recordset);\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            this.insertIntoResults2(result.recordset[i].valor, nombreEtiqueta);\n                        };\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    insertIntoResults2 (valor, nombreEtiqueta) {\n        var entro = false;\n        for (var i = 0; i < resultados2.length; i++) {\n            if(resultados2[i][0].localeCompare(nombreEtiqueta) == 0) {\n                resultados2[i][1] += valor;\n                entro = true;\n                break;\n            }\n        };\n        if(resultados2.length == 0 || !entro) {\n            resultados2.push([nombreEtiqueta, valor])\n        }\n        this.renderChart2();\n    }\n\n    renderChart2 () {\n        var chartClientes = c3.generate({\n            bindto: \"#deterioro\",\n            data: {\n                columns: resultados2,\n                type: 'pie',\n\n                colors: {\n                    data1: '#5969ff',\n                    data2: '#ff407b',\n                    data3: '#b39ddb',\n                    data4: '#80deea',\n                    data5: '#ffcc80'\n\n                }\n            },\n            pie: {\n                label: {\n                    format: function(value, ratio, id) {\n                        return d3.format('$')(value);\n                    }\n                }\n            }\n        });\n    }\n\n    /*componentDidMount() {\n        var chartClientes = c3.generate({\n            bindto: \"#saldos\",\n            data: {\n                columns: [\n                    ['Créditos Buenos', 5620029.11],\n                    ['Créditos Especialmente Mencionados', 7981023],\n                    ['Créditos Bajo Norma', 13420089.78],\n                    ['Créditos de Dudosa Recuperación', 7419023.52],\n                    ['Créditos de Pérdida', 2570891.44]\n                ],\n                type: 'pie',\n\n                colors: {\n                    data1: '#5969ff',\n                    data2: '#ff407b',\n                    data3: '#b39ddb',\n                    data4: '#80deea',\n                    data5: '#ffcc80'\n\n                }\n            },\n            pie: {\n                label: {\n                    format: function(value, ratio, id) {\n                        return d3.format('$')(value);\n                    }\n                }\n            }\n        });\n\n        var chartDeterioro = c3.generate({\n            bindto: \"#deterioro\",\n            data: {\n                columns: [\n                    ['Créditos Buenos', 28100.14555],\n                    ['Créditos Especialmente Mencionados', 319240.92],\n                    ['Créditos Bajo Norma', 3355022.445],\n                    ['Créditos de Dudosa Recuperación', 4451414.112],\n                    ['Créditos de Pérdida', 2570891.44]\n                ],\n                type: 'pie',\n\n                colors: {\n                    data1: '#5969ff',\n                    data2: '#ff407b',\n                    data3: '#b39ddb',\n                    data4: '#80deea',\n                    data5: '#ffcc80'\n\n                }\n            },\n            pie: {\n                label: {\n                    format: function(value, ratio, id) {\n                        return d3.format('$')(value);\n                    }\n                }\n            }\n        });\n    }*/\n\n    render() {\n        return (\n            <div>\n                <div className=\"row\">\n                    <div className=\"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6\">\n                        <div className=\"card\">\n                            <h5 className=\"card-header\">Distribución de Saldos por Categoria de Clasificación</h5>\n                            <div className=\"card-body\">\n                                <div id=\"saldos\"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6\">\n                        <div className=\"card\">\n                            <h5 className=\"card-header\">Estimaciones de Deterioro por Categoria de Clasificación</h5>\n                            <div className=\"card-body\">\n                                <div id=\"deterioro\"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"row\">\n                    { this.state.capitalMinimo1 != undefined ? (\n                        <div className=\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\">\n                            <div className=\"card border-3 border-top border-top-primary\">\n                                <div className=\"card-body\">\n                                    <h5 className=\"text-muted\">Capital Mínimo: </h5>\n                                    <div className=\"metric-value d-inline-block\">\n                                        <h1 className=\"mb-1\">{new Intl.NumberFormat('en-GB', { \n                                            style: 'currency', \n                                            currency: 'HNL' \n                                        }).format(this.state.capitalMinimo1.valor)}</h1>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    ) : (\n                        <span></span>\n                    )}\n                </div>\n            </div>\n        );\n    }\n}\n"],"file":"Home.js"}