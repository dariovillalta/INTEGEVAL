{"version":3,"sources":["components/Variables/FuenteDatos/SeleccionarFuenteDatos.js"],"names":["colores","SeleccionarFuenteDatos","props","state","fuenteDeDatos","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","result","console","log","rollback","commit","setState","recordset","configuracionHome","goOptions","retornoSeleccionTabla","color","crearFuenteDatos","map","fuenteDeDato","i","editarFuenteDatos","ID","nombre","tipo","guardar","formula","length","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport sql from 'mssql';\n\nconst colores = [\"secondary\", \"success\", \"primary\", \"brand\"];\n\nexport default class SeleccionarFuenteDatos extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            fuenteDeDatos: []\n        }\n    }\n\n    componentDidMount() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from Campos\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.setState({\n                            fuenteDeDatos: result.recordset\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    render() {\n        return (\n            <div>\n                <div className={\"row\"}>\n                    <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                        <div className={\"page-header\"}>\n                            <h2 className={\"pageheader-title\"}>Fuentes de Datos</h2>\n                            <div className={\"page-breadcrumb\"}>\n                                <nav aria-label=\"breadcrumb\">\n                                    <ol className={\"breadcrumb\"}>\n                                        <li className={\"breadcrumb-item font-16\"} aria-current=\"page\" onClick={this.props.configuracionHome}><a href=\"#\" className={\"breadcrumb-link\"}>Configuraci&oacute;n</a></li>\n                                        <li className={\"breadcrumb-item font-16\"} aria-current=\"page\" onClick={this.props.goOptions}><a href=\"#\" className={\"breadcrumb-link\"}>Tipo de Variable</a></li>\n                                        <li className={\"breadcrumb-item font-16\"} aria-current=\"page\" onClick={this.props.retornoSeleccionTabla}><a href=\"#\" className={\"breadcrumb-link\"}>Tablas</a></li>\n                                        <li className={\"breadcrumb-item active font-16\"} aria-current=\"page\">Fuentes de Datos</li>\n                                    </ol>\n                                </nav>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className={\"row\"}>\n                    <a className={\"btn btn-success btn-block btnWhiteColorHover font-bold font-20\"} style={{color: \"#fafafa\"}} onClick={this.props.crearFuenteDatos}>Crear Fuente de Dato</a>\n                </div>\n                <br/>\n                <div className={\"row\"}>\n                    <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                        <div className={\"card influencer-profile-data\"}>\n                            <div className={\"card-body\"}>\n                                <div className={\"row border-top border-bottom addPaddingToConfig\"}>\n                                    {this.state.fuenteDeDatos.map((fuenteDeDato, i) =>\n                                        <a onClick={() => this.props.editarFuenteDatos(fuenteDeDato.ID, fuenteDeDato.nombre, fuenteDeDato.tipo, fuenteDeDato.guardar, fuenteDeDato.formula)} style={{color: \"#fafafa\"}} className={\"btn btn-\" + (i <= colores.length-1 ? colores[i] : colores[i%colores.length]) + ' btn-block btnWhiteColorHover font-bold font-20'} key={fuenteDeDato.ID}>{fuenteDeDato.nombre}</a>\n                                    )}\n                                    {\n                                        this.state.fuenteDeDatos.length == 0\n                                        ? <a style={{color: \"#fafafa\"}} className={\"btn btn-info btn-block btnWhiteColorHover font-bold font-20\"}>No existen tipo de datos creados</a>\n                                        : null\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n"],"file":"SeleccionarFuenteDatos.js"}