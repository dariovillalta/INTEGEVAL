{"version":3,"sources":["components/Variables/Variables/EditarVariable/FuenteDatoForma.js"],"names":["variables","excel","formas","periodicidad","nombre","window","arregloDeErroresFormas","arregloHTMLFormas","FuenteDatoForma","props","state","tipo","guardar","valorPeriodicidad","forma","showModalForma","tituloVariableForma","htmlForma","crearVariable","bind","traerForma","eliminarVarExcel","eliminarVariable","getVariables","getExcel","getFormas","verificarNoExisteNombreVar","actualizarPeriodicidad","cargarDatePicker","isValidDate","verificarSiExisteExcelEnResultadosHistoricosModificar","crearTablaDeResultadoNombreModificar","crearResultadoNombreModificar","modificarResultadosNombre","verificarPeriodicidadGuardarModificar","updatePeriodicidadModificar","verificarPeriodicidad","addDays","addMonths","addYears","traerPeriodicidadVariable","formaCrearVariable","iniciarMostrarFormas","updateForm","loadFechas","closeModalForma","verificarSiExisteFormaEnResultadosHistoricos","crearTablaDeResultadoNombreForma","crearResultadoNombreForma","guardarResultadosNombreForma","guardarForma","borrarForma","verificarPeriodicidadGuardar","updatePeriodicidad","guardarPeriodicidad","tipoVariableOriginal","localeCompare","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","idVariable","result","console","log","rollback","commit","recordset","length","setState","$","val","prop","analista","fechaInicioCalculo","getFullYear","getMonth","getDate","datepicker","nombreVariable","guardarVariable","is","fecha","Date","alert","actualizarIDVariableModificada","transaction1","request1","transaction2","request2","transaction3","request3","transaction4","request4","transaction5","request5","transaction6","request6","transaction7","request7","transaction8","request8","contadorObjetosGuardados","noExiste","i","toLowerCase","ID","format","todayHighlight","viewMode","minViewMode","language","Object","prototype","toString","call","isNaN","getTime","variable","inicioVigencia","hoy","textoCreacionTabla","getHours","getMinutes","getSeconds","mes","dia","resultado","tabla","copiedObject","jQuery","extend","days","date","setDate","months","setMonth","years","setYear","getYear","verificarFinPeriodicidad","fechaUltimoCalculo","tieneUltimoCalculo","realizarCalculo","ultimoCalculoVigente","fechaSiguienteCalculo","tocaNuevoCalculo","indexJ","crearVariablesExcel","id","tipoVariable","parseFloat","nombreSiguiente","undefined","indexSiguiente","tipoSiguiente","inputSiguiente","HTMLFormas","width","display","alignItems","justifyContent","margin","titulo","idInput","setTimeout","fechaNombreTabla","textoInsertPrincipio","instruccionSQLBorrar","instruccionSQLFinal","self","instruccionSQL","periodicidadVariable","map","analistaVariable","actualizarNombreEncargado","marginLeft","eliminarVarForma","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport sql from 'mssql';\n\nimport Modal from '../../../Modal/Modal.js';\n\nvar variables = [];\nvar excel = [];\nvar formas = [];\n\nconst periodicidad = [ {nombre: \"diario\"}, {nombre: \"semanal\"}, {nombre: \"mensual\"}, {nombre: \"trimestral\"}, {nombre: \"bi-anual\"}, {nombre: \"anual\"} ];\n\n\n\n\n/*\n    **************************************\n    **************************************\n                VARIABLES CALCULO \n    **************************************\n    **************************************\n*/\n\nwindow.arregloDeErroresFormas = [];\nwindow.arregloHTMLFormas = [];                          //Arreglo que contiene el codigo html de las formas\n\n/*\n    **************************************\n    **************************************\n            VARIABLES CALCULO FIN\n    **************************************\n    **************************************\n*/\n\nexport default class FuenteDatoForma extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            nombre: \"\",\n            tipo: \"\",\n            guardar: \"\",\n            valorPeriodicidad: '-1',\n            forma: null,\n            showModalForma: true,\n            tituloVariableForma: \"\",\n            htmlForma: ''\n        }\n        this.crearVariable = this.crearVariable.bind(this);\n        this.traerForma = this.traerForma.bind(this);\n        this.eliminarVarExcel = this.eliminarVarExcel.bind(this);\n        this.eliminarVariable = this.eliminarVariable.bind(this);\n        this.getVariables = this.getVariables.bind(this);\n        this.getExcel = this.getExcel.bind(this);\n        this.getFormas = this.getFormas.bind(this);\n        this.verificarNoExisteNombreVar = this.verificarNoExisteNombreVar.bind(this);\n        this.actualizarPeriodicidad = this.actualizarPeriodicidad.bind(this);\n        this.cargarDatePicker = this.cargarDatePicker.bind(this);\n        this.isValidDate = this.isValidDate.bind(this);\n        this.verificarSiExisteExcelEnResultadosHistoricosModificar = this.verificarSiExisteExcelEnResultadosHistoricosModificar.bind(this);\n        this.crearTablaDeResultadoNombreModificar = this.crearTablaDeResultadoNombreModificar.bind(this);\n        this.crearResultadoNombreModificar = this.crearResultadoNombreModificar.bind(this);\n        this.modificarResultadosNombre = this.modificarResultadosNombre.bind(this);\n        this.verificarPeriodicidadGuardarModificar = this.verificarPeriodicidadGuardarModificar.bind(this);\n        this.updatePeriodicidadModificar = this.updatePeriodicidadModificar.bind(this);\n\n        this.verificarPeriodicidad = this.verificarPeriodicidad.bind(this);\n        this.addDays = this.addDays.bind(this);\n        this.addMonths = this.addMonths.bind(this);\n        this.addYears = this.addYears.bind(this);\n        this.traerPeriodicidadVariable = this.traerPeriodicidadVariable.bind(this);\n        this.formaCrearVariable = this.formaCrearVariable.bind(this);\n        this.iniciarMostrarFormas = this.iniciarMostrarFormas.bind(this);\n        this.updateForm = this.updateForm.bind(this);\n        this.loadFechas = this.loadFechas.bind(this);\n        this.closeModalForma = this.closeModalForma.bind(this);\n        this.verificarSiExisteFormaEnResultadosHistoricos = this.verificarSiExisteFormaEnResultadosHistoricos.bind(this);\n        this.crearTablaDeResultadoNombreForma = this.crearTablaDeResultadoNombreForma.bind(this);\n        this.crearResultadoNombreForma = this.crearResultadoNombreForma.bind(this);\n        this.guardarResultadosNombreForma = this.guardarResultadosNombreForma.bind(this);\n        this.guardarForma = this.guardarForma.bind(this);\n        this.borrarForma = this.borrarForma.bind(this);\n        this.verificarPeriodicidadGuardar = this.verificarPeriodicidadGuardar.bind(this);\n        this.updatePeriodicidad = this.updatePeriodicidad.bind(this);\n        this.guardarPeriodicidad = this.guardarPeriodicidad.bind(this);\n    }\n\n    componentDidMount() {\n        if (this.props.tipoVariableOriginal.localeCompare(\"forma\") == 0) {\n            this.traerForma();\n        }\n        this.getVariables();\n        this.getExcel();\n        this.getFormas();\n    }\n\n    traerForma() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from FormasVariables where ID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if(result.recordset.length > 0) {\n                            this.setState({\n                                nombre: result.recordset[0].nombre,\n                                tipo: result.recordset[0].tipo,\n                                guardar: result.recordset[0].guardar,\n                                valorPeriodicidad: result.recordset[0].periodicidad,\n                                forma: result.recordset[0]\n                            });\n                            $(\"#nombreVariable\").val(result.recordset[0].nombre);\n                            $(\"#tipo\").val(result.recordset[0].tipo);\n                            if (result.recordset[0].guardar)\n                                $(\"#guardarVariable\").prop('checked', true);\n                            else\n                                $(\"#guardarVariable\").prop('checked', false);\n                            $(\"#periodicidad\").val(result.recordset[0].periodicidad);\n                            $(\"#analista\").val(result.recordset[0].analista);\n                            if(result.recordset[0].fechaInicioCalculo.getFullYear() == 1964 && result.recordset[0].fechaInicioCalculo.getMonth() == 4 && result.recordset[0].fechaInicioCalculo.getDate() == 28){\n                                //\n                            } else {\n                                $(\"#fecha\").datepicker(\"setDate\", result.recordset[0].fechaInicioCalculo);\n                            }\n                        }\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    crearVariable () {\n        var nombreVariable = $(\"#nombreVariable\").val();\n        var tipo = $(\"#tipo\").val();\n        var guardarVariable;\n        if ($(\"#guardarVariable\").is(':checked'))\n            guardarVariable = true;\n        else\n            guardarVariable = false;\n        var periodicidad = $(\"#periodicidad\").val();\n        var fecha;\n        if(periodicidad.localeCompare(\"-1\") == 0)\n            fecha = new Date(1964, 4, 28);\n        else\n            fecha = $(\"#fecha\").datepicker('getDate');\n        var analista = $(\"#analista\").val();\n        if(nombreVariable.length > 0 && nombreVariable.length < 1001) {\n            if(this.verificarNoExisteNombreVar(nombreVariable)) {\n                if(tipo.length > 0 && tipo.length < 1001) {\n                    if(periodicidad.length > 0 && periodicidad.length < 51) {\n                        if(this.isValidDate(fecha)) {\n                            if(analista.length > 0 && analista.length < 101) {\n                                if (this.props.tipoVariableOriginal.localeCompare(\"excel\") == 0) {\n                                    this.eliminarVarExcel();\n                                }\n                                if (this.props.tipoVariableOriginal.localeCompare(\"variable\") == 0) {\n                                    this.eliminarVariable();\n                                }\n                                if (this.props.tipoVariableOriginal.localeCompare(\"forma\") != 0) {\n                                    const transaction = new sql.Transaction( this.props.pool );\n                                    transaction.begin(err => {\n                                        var rolledBack = false;\n                                        transaction.on('rollback', aborted => {\n                                            rolledBack = true;\n                                        });\n                                        const request = new sql.Request(transaction);\n                                        request.query(\"insert into FormasVariables (nombre, tipo, periodicidad, fechaInicioCalculo, analista, guardar) values ('\"+nombreVariable+\"', '\"+tipo+\"', '\"+periodicidad+\"', '\"+fecha.getFullYear()+\"-\"+(fecha.getMonth()+1)+\"-\"+fecha.getDate()+\"', '\"+analista+\"', '\"+guardarVariable+\"')\", (err, result) => {\n                                            if (err) {\n                                                console.log(err);\n                                                if (!rolledBack) {\n                                                    transaction.rollback(err => {\n                                                    });\n                                                }\n                                            } else {\n                                                transaction.commit(err => {\n                                                    alert(\"Variable Modificada\");\n                                                    this.getFormas();\n                                                    this.props.actualizarIDVariableModificada(\"forma\");\n                                                    var forma = {\n                                                        nombreVariable: nombreVariable,\n                                                        tipo: tipo,\n                                                        guardarVariable: guardarVariable,\n                                                        periodicidad: periodicidad,\n                                                        fecha: fecha,\n                                                        analista: analista\n                                                    }\n                                                    this.verificarSiExisteExcelEnResultadosHistoricosModificar(forma);\n                                                });\n                                            }\n                                        });\n                                    }); // fin transaction\n                                } else {\n                                    const transaction = new sql.Transaction( this.props.pool );\n                                    transaction.begin(err => {\n                                        var rolledBack = false;\n                                        transaction.on('rollback', aborted => {\n                                            rolledBack = true;\n                                        });\n                                        const request = new sql.Request(transaction);\n                                        request.query(\"update FormasVariables set nombre = '\"+nombreVariable+\"', tipo = '\"+tipo+\"', periodicidad = '\"+periodicidad+\"', guardar = '\"+guardarVariable+\"', fechaInicioCalculo = '\"+fecha.getFullYear()+\"-\"+(fecha.getMonth()+1)+\"-\"+fecha.getDate()+\"', analista = '\"+analista+\"' where ID = \"+this.props.idVariable, (err, result) => {\n                                            if (err) {\n                                                console.log(err);\n                                                if (!rolledBack) {\n                                                    transaction.rollback(err => {\n                                                    });\n                                                }\n                                            } else {\n                                                transaction.commit(err => {\n                                                    alert(\"Variable Modificada\");\n                                                    this.getFormas();\n                                                    var forma = {\n                                                        nombreVariable: nombreVariable,\n                                                        tipo: tipo,\n                                                        guardarVariable: guardarVariable,\n                                                        periodicidad: periodicidad,\n                                                        fecha: fecha,\n                                                        analista: analista\n                                                    }\n                                                    this.verificarSiExisteExcelEnResultadosHistoricosModificar(forma);\n                                                });\n                                            }\n                                        });\n                                    }); // fin transaction\n                                }\n                            } else {\n                                alert('Ingrese un valor para el analista que debe ser menor a 51 caracteres');\n                            }\n                        } else {\n                            alert('Ingrese un valor para la fecha');\n                        }\n                    } else {\n                        alert('Ingrese un valor para el valor de periodicidad que debe ser menor a 51 caracteres');\n                    }\n                } else {\n                    alert('Ingrese un valor para el tipo de la variable que debe ser menor a 31 caracteres');\n                }\n            } else {\n                alert('El nombre de la variable debe ser único.');\n            }\n        } else {\n            alert('Ingrese un valor para el nombre de la variable que debe ser menor a 101 caracteres');\n        }\n    }\n\n    eliminarVarExcel () {\n        const transaction1 = new sql.Transaction( this.props.pool );\n        transaction1.begin(err => {\n            var rolledBack = false;\n            transaction1.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request1 = new sql.Request(transaction1);\n            request1.query(\"DELETE FROM ExcelArchivos WHERE ID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction1.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction1.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction1\n        const transaction2 = new sql.Transaction( this.props.pool );\n        transaction2.begin(err => {\n            var rolledBack = false;\n            transaction2.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request2 = new sql.Request(transaction2);\n            request2.query(\"DELETE FROM ExcelVariables WHERE excelArchivoID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction2.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction2.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction2\n    }\n\n    eliminarVariable () {\n        const transaction1 = new sql.Transaction( this.props.pool );\n        transaction1.begin(err => {\n            var rolledBack = false;\n            transaction1.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request1 = new sql.Request(transaction1);\n            request1.query(\"DELETE FROM Variables WHERE ID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction1.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction1.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction1\n        const transaction2 = new sql.Transaction( this.props.pool );\n        transaction2.begin(err => {\n            var rolledBack = false;\n            transaction2.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request2 = new sql.Request(transaction2);\n            request2.query(\"DELETE FROM VariablesCampos WHERE variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction2.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction2.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction2\n        const transaction3 = new sql.Transaction( this.props.pool );\n        transaction3.begin(err => {\n            var rolledBack = false;\n            transaction3.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request3 = new sql.Request(transaction3);\n            request3.query(\"DELETE FROM FormulasVariablesCampos WHERE variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction3.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction3.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction3\n        const transaction4 = new sql.Transaction( this.props.pool );\n        transaction4.begin(err => {\n            var rolledBack = false;\n            transaction4.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request4 = new sql.Request(transaction4);\n            request4.query(\"DELETE FROM ElementoFormulasVariablesCampos WHERE variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction4.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction4.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction4\n        const transaction5 = new sql.Transaction( this.props.pool );\n        transaction5.begin(err => {\n            var rolledBack = false;\n            transaction5.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request5 = new sql.Request(transaction5);\n            request5.query(\"DELETE FROM SegmentoReglasVariables WHERE variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction5.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction5.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction5\n        const transaction6 = new sql.Transaction( this.props.pool );\n        transaction6.begin(err => {\n            var rolledBack = false;\n            transaction6.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request6 = new sql.Request(transaction6);\n            request6.query(\"DELETE FROM ReglasVariables WHERE variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction6.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction6.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction6\n        const transaction7 = new sql.Transaction( this.props.pool );\n        transaction7.begin(err => {\n            var rolledBack = false;\n            transaction7.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request7 = new sql.Request(transaction7);\n            request7.query(\"delete from InstruccionSQL WHERE variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction7.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction7.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction7\n        const transaction8 = new sql.Transaction( this.props.pool );\n        transaction8.begin(err => {\n            var rolledBack = false;\n            transaction8.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request8 = new sql.Request(transaction8);\n            request8.query(\"delete from InstruccionSQLCampos where variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        contadorObjetosGuardados++;\n                        transaction8.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction8.commit(err => {\n                        //this.props.terminoCrearCampo(variable, variableCampo);\n                    });\n                }\n            });\n        }); // fin transaction8\n    }\n\n    getVariables() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from Variables\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        variables = result.recordset;\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getExcel() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ExcelVariables\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        excel = result.recordset;\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getFormas() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from FormasVariables\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        formas = result.recordset;\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    verificarNoExisteNombreVar (nombre) {\n        var noExiste = true;\n        for (var i = 0; i < variables.length; i++) {\n            if (variables[i].nombre.toLowerCase().localeCompare(nombre.toLowerCase()) == 0) {\n                noExiste = false;\n                break;\n            }\n        };\n        if(noExiste) {\n            for (var i = 0; i < excel.length; i++) {\n                if (excel[i].nombre.toLowerCase().localeCompare(nombre.toLowerCase()) == 0) {\n                    noExiste = false;\n                    break;\n                }\n            };\n        }\n        if(noExiste) {\n            for (var i = 0; i < formas.length; i++) {\n                if (this.props.tipoVariableOriginal.localeCompare(\"forma\") == 0) {\n                    if (formas[i].nombre.toLowerCase().localeCompare(nombre.toLowerCase()) == 0 && formas[i].ID != this.props.idVariable) {\n                        noExiste = false;\n                        break;\n                    }\n                } else {\n                    if (formas[i].nombre.toLowerCase().localeCompare(nombre.toLowerCase()) == 0) {\n                        noExiste = false;\n                        break;\n                    }\n                }\n            };\n        }\n        return noExiste;\n    }\n\n    actualizarPeriodicidad () {\n        var periodicidad = $(\"#periodicidad\").val();\n        this.setState({\n            valorPeriodicidad: periodicidad\n        }, this.cargarDatePicker );\n    }\n\n    cargarDatePicker () {\n        $('#fecha').datepicker({\n            format: \"dd-mm-yyyy\",\n            todayHighlight: true,\n            viewMode: \"days\", \n            minViewMode: \"days\",\n            language: 'es'\n        });\n    }\n\n    isValidDate (fecha) {\n        if (Object.prototype.toString.call(fecha) === \"[object Date]\") {\n            if (isNaN(fecha.getTime())) {\n                alert(\"Ingrese una fecha valida.\");\n                return false;\n            } else {\n                return true;\n            }\n        } else {\n            alert(\"Ingrese una fecha valida.\");\n            return false;\n        }\n    }\n\n    verificarSiExisteExcelEnResultadosHistoricosModificar (variable) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ResultadosNombreVariables where nombreVariable = '\"+variable.nombre+\"' and finVigencia = '1964-05-28'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if (result.recordset.length == 0) {\n                            this.crearTablaDeResultadoNombreModificar(variable);\n                        } else {\n                            console.log(\"ENCONTRO\")\n                            console.log(result.recordset[0])\n                            this.modificarResultadosNombre(variable, result.recordset[0].inicioVigencia);\n                        }\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    crearTablaDeResultadoNombreModificar (variable) {\n        //NOMBRE TABLA: NOMBREVARIABLE_AÑOVIGENCIA_MESVIGENCIA_DIAVIGENCIA_HORAVIGENCIA_MINUTOSVIGENCIA_SEGUNDOSVIGENCIA\n        //VIGENCIA: DIA CREACION\n        let hoy = new Date();\n        var textoCreacionTabla = 'CREATE TABLE '+variable.nombre+'_'+hoy.getFullYear()+'_'+(hoy.getMonth()+1)+'_'+hoy.getDate()+'_'+hoy.getHours()+'_'+hoy.getMinutes()+'_'+hoy.getSeconds()+' ( ID int IDENTITY(1,1) PRIMARY KEY, ';\n        for (var i = 0; i < variable.variables.length; i++) {\n            if(i != 0)\n                textoCreacionTabla += ', ';\n            if(variable.variables[i].tipo.localeCompare(\"numero\") == 0) {\n                textoCreacionTabla += variable.variables[i].nombre+' decimal(22,4)';\n            } else if(variable.variables[i].tipo.localeCompare(\"varchar\") == 0) {\n                textoCreacionTabla += variable.variables[i].nombre+' varchar(1000)';\n            } else if(variable.variables[i].tipo.localeCompare(\"bit\") == 0) {\n                textoCreacionTabla += variable.variables[i].nombre+' bit';\n            } else if(variable.variables[i].tipo.localeCompare(\"date\") == 0) {\n                textoCreacionTabla += variable.variables[i].nombre+' date';\n            }\n        };\n        textoCreacionTabla += ', f3ch4Gu4rd4do date )';\n        console.log('textoCreacionTabla')\n        console.log(textoCreacionTabla)\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(textoCreacionTabla, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        //console.log(\"Tabla \"+variable.nombre+'_'+hoy.getFullYear()+'_'+hoy.getMonth()+'_'+hoy.getDate()+'_'+hoy.getHours()+'_'+hoy.getMinutes()+'_'+hoy.getSeconds()+\" creada.\");\n                        console.log('CREO TABLA');\n                        this.crearResultadoNombreModificar(variable, hoy);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    crearResultadoNombreModificar (variable, hoy) {\n        console.log('INICAR CREAR RESULTADO');\n        let mes = hoy.getMonth()+1;\n        if(mes.toString().length == 1)\n            mes = '0'+mes;\n        let dia = hoy.getDate();\n        if(dia.toString().length == 1)\n            dia = '0'+dia;\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"insert into ResultadosNombreVariables (nombreVariable, inicioVigencia, finVigencia) values ('\"+variable.nombre+\"', '\"+hoy.getFullYear()+'-'+mes+'-'+dia+\" \"+hoy.getHours()+\":\"+hoy.getMinutes()+\":\"+hoy.getSeconds()+\"', '1964-05-28')\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        console.log('GUARDO RESULTADO');\n                        this.verificarPeriodicidadGuardarModificar(variable, \"excel\", hoy);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    modificarResultadosNombre (resultado, variable, hoy)  {\n        console.log('MODIFICAR CREAR RESULTADO');\n        let mes = hoy.getMonth()+1;\n        if(mes.toString().length == 1)\n            mes = '0'+mes;\n        let dia = hoy.getDate();\n        if(dia.toString().length == 1)\n            dia = '0'+dia;\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"update ResultadosNombreVariables set finVigencia = '\"+hoy.getFullYear()+'-'+mes+'-'+dia+\" \"+hoy.getHours()+\"' where ID = \"+resultado.ID, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        console.log('GUARDO RESULTADO');\n                        this.crearTablaDeResultadoNombreModificar(variable);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    verificarPeriodicidadGuardarModificar (variable, tabla, hoy) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from PeriodicidadCalculo where variableID = \"+variable.ID+\" and tablaVariable = '\"+tabla+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if(result.recordset.length > 0) {\n                            this.updatePeriodicidadModificar(variable, tabla, hoy);\n                        }/* else {\n                            this.guardarPeriodicidad(variable, tabla, hoy);\n                        }*/\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    updatePeriodicidadModificar (variable, tabla, hoy) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"update PeriodicidadCalculo where variableID = \"+variable.ID+\" and tablaVariable = '\"+tabla+\"' set fechaUltimoCalculo = '1964-05-28'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    /*\n        **************************************\n        **************************************\n                    CALCULO CODIGO\n        **************************************\n        **************************************\n    */\n\n    verificarPeriodicidad () {\n        var copiedObject = jQuery.extend(true, {}, this.state.forma);\n        this.traerPeriodicidadVariable(copiedObject, \"forma\");\n    }\n\n    addDays (fecha, days) {\n        var date = new Date(fecha);\n        date.setDate(date.getDate() + days);\n        return date;\n    }\n\n    addMonths (fecha, months) {\n        var date = new Date(fecha);\n        date.setMonth(date.getMonth() + months);\n        return date;\n    }\n\n    addYears (fecha, years) {\n        var date = new Date(fecha);\n        date.setYear(date.getYear() + years);\n        return date;\n    }\n\n    traerPeriodicidadVariable (variable, tabla) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from PeriodicidadCalculo where variableID = \"+variable.ID+\" and tablaVariable = '\"+tabla+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    this.verificarFinPeriodicidad();\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if(result.recordset.length > 0) {\n                            var fechaInicioCalculo = variable.fechaInicioCalculo;\n                            var fechaUltimoCalculo = result.recordset[0].fechaUltimoCalculo;\n                            var tieneUltimoCalculo = false;\n                            //si la fecha es null, realizar calculo (28, 4, 1964) POPS BIRTHDAY\n                            if(fechaUltimoCalculo.getFullYear() != 1964 && fechaUltimoCalculo.getMonth() != 4 && fechaUltimoCalculo.getDate() != 28) {\n                                tieneUltimoCalculo = true;\n                            }\n                            if(!tieneUltimoCalculo) {\n                                variable.realizarCalculo = true;\n                            } else {\n                                var ultimoCalculoVigente = false;\n                                var periodicidad = variable.periodicidad;\n                                var fechaSiguienteCalculo = new Date(fechaInicioCalculo);\n                                while(fechaSiguienteCalculo.getFullYear() < fechaUltimoCalculo.getFullYear() && fechaSiguienteCalculo.getMonth() < fechaUltimoCalculo.getMonth() && fechaSiguienteCalculo.getDate() < fechaUltimoCalculo.getDate()) {\n                                    if(periodicidad.localeCompare(\"diario\") == 0) {\n                                        fechaSiguienteCalculo = this.addDays(fechaSiguienteCalculo, 1);\n                                    } else if(periodicidad.localeCompare(\"semanal\") == 0) {\n                                        fechaSiguienteCalculo = this.addDays(fechaSiguienteCalculo, 7);\n                                    } else if(periodicidad.localeCompare(\"mensual\") == 0) {\n                                        fechaSiguienteCalculo = this.addMonths(fechaSiguienteCalculo, 1);\n                                    } else if(periodicidad.localeCompare(\"trimestral\") == 0) {\n                                        fechaSiguienteCalculo = this.addMonths(fechaSiguienteCalculo, 3);\n                                    } else if(periodicidad.localeCompare(\"bi-anual\") == 0) {\n                                        fechaSiguienteCalculo = this.addMonths(fechaSiguienteCalculo, 6);\n                                    } else if(periodicidad.localeCompare(\"anual\") == 0) {\n                                        fechaSiguienteCalculo = this.addYears(fechaSiguienteCalculo, 1);\n                                    }\n                                }\n                                var tocaNuevoCalculo = false;\n                                if(periodicidad.localeCompare(\"diario\") == 0) {\n                                    if(fechaSiguienteCalculo.getDate() >= fechaUltimoCalculo.getDate()+1) {\n                                        tocaNuevoCalculo = true;\n                                    }\n                                } else if(periodicidad.localeCompare(\"semanal\") == 0) {\n                                    if(fechaSiguienteCalculo.getDate() >= fechaUltimoCalculo.getDate()+7) {\n                                        tocaNuevoCalculo = true;\n                                    }\n                                } else if(periodicidad.localeCompare(\"mensual\") == 0) {\n                                    if(fechaSiguienteCalculo.getMonth() >= fechaUltimoCalculo.getMonth()+1) {\n                                        tocaNuevoCalculo = true;\n                                    }\n                                } else if(periodicidad.localeCompare(\"trimestral\") == 0) {\n                                    if(fechaSiguienteCalculo.getMonth() >= fechaUltimoCalculo.getMonth()+3) {\n                                        tocaNuevoCalculo = true;\n                                    }\n                                } else if(periodicidad.localeCompare(\"bi-anual\") == 0) {\n                                    if(fechaSiguienteCalculo.getMonth() >= fechaUltimoCalculo.getMonth()+6) {\n                                        tocaNuevoCalculo = true;\n                                    }\n                                } else if(periodicidad.localeCompare(\"anual\") == 0) {\n                                    if(fechaSiguienteCalculo.getFullYear() >= fechaUltimoCalculo.getFullYear()+1) {\n                                        tocaNuevoCalculo = true;\n                                    }\n                                }\n                                if(tocaNuevoCalculo) {\n                                    variable.realizarCalculo = true;\n                                } else {\n                                    variable.realizarCalculo = false;\n                                }\n                            }\n                        } else {\n                            if(indexJ != null)\n                                variable.realizarCalculo = true;\n                            else\n                                variable.realizarCalculo = true;\n                        }\n                        this.crearVariablesExcel(variable);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    formaCrearVariable (id, nombreVariable, tipoVariable, variable) {\n        //variableForma\n        if(tipoVariable.localeCompare(\"numero\") == 0) {\n            var variable = parseFloat($(\"#variableForma\").val());\n            window[nombreVariable] = variable;\n        } else if(tipoVariable.localeCompare(\"bit\") == 0) {\n            if ($(\"#variableForma\").is(':checked')) {\n                window[nombreVariable] = true;\n            } else {\n                window[nombreVariable] = false;\n            }\n        } else if(tipoVariable.localeCompare(\"varchar\") == 0) {\n            var variable = $(\"#variableForma\").val();\n            window[nombreVariable] = variable;\n        } else if(tipoVariable.localeCompare(\"date\") == 0) {\n            var variable = $(\"#variableForma\").datepicker('getDate');\n            window[nombreVariable] = variable;\n        }\n        if(nombreSiguiente != undefined) {\n            this.updateForm(nombreSiguiente, indexSiguiente, tipoSiguiente, inputSiguiente);\n        } else {\n            this.closeModalForma();\n            this.verificarSiExisteFormaEnResultadosHistoricos(variable);\n        }\n    }\n\n    iniciarMostrarFormas (variable) {\n        var HTMLFormas = '';\n        if(variable.tipo.localeCompare(\"numero\") == 0) {\n            let nombre = variable.nombre;\n            let id = variable.ID;\n            let tipo = variable.tipo;\n            HTMLFormas =  <div style={{width: \"100%\"}}>\n                                        <br/>\n                                        <div className={\"row\"} style={{width: \"100%\"}}>\n                                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                                <label htmlFor={\"variableForma\"} className=\"col-form-label\">Valor:</label>\n                                            </div>\n                                            <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                                                <input id={\"variableForma\"} type=\"text\" className=\"form-control form-control-sm\"/>\n                                            </div>\n                                        </div>\n                                        <br/>\n                                        <div className={\"text-center\"} style={{width: \"100%\"}}>\n                                            <a href=\"#\" className=\"btn btn-brand active\" onClick={() => this.formaCrearVariable(id, nombre, tipo, variable)}>Guardar</a>\n                                        </div>\n                                        <br/>\n                                    </div>;\n        } else if(variable.tipo.localeCompare(\"bit\") == 0) {\n            let nombre = variable.nombre;\n            let id = variable.ID;\n            let tipo = variable.tipo;\n            HTMLFormas =  <div style={{width: \"100%\"}}>\n                                        <br/>\n                                        <div className={\"row\"} style={{width: \"100%\"}}>\n                                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                                <label htmlFor={\"variableForma\"} className=\"col-form-label\">Valor:</label>\n                                            </div>\n                                            <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                                                <br/>\n                                                <div className={\"switch-button switch-button-bool\"} style={{margin:\"0 auto\", display:\"block\"}}>\n                                                    <input type=\"checkbox\" defaultChecked name={\"guardarFuenteDato\"} id={\"variableForma\"}/><span>\n                                                    <label htmlFor={\"guardarFuenteDato\"}></label></span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <br/>\n                                        <div className={\"text-center\"} style={{width: \"100%\"}}>\n                                            <a href=\"#\" className=\"btn btn-brand active\" onClick={() => this.formaCrearVariable(id, nombre, tipo, variable)}>Guardar</a>\n                                        </div>\n                                        <br/>\n                                    </div>;\n        } else if(variable.tipo.localeCompare(\"varchar\") == 0) {\n            let nombre = variable.nombre;\n            let id = variable.ID;\n            let tipo = variable.tipo;\n            HTMLFormas =  <div style={{width: \"100%\"}}>\n                                        <br/>\n                                        <div className={\"row\"} style={{width: \"100%\"}}>\n                                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                                <label htmlFor={\"variableForma\"} className=\"col-form-label\">Valor:</label>\n                                            </div>\n                                            <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                                                <input id={\"variableForma\"} type=\"text\" className=\"form-control form-control-sm\"/>\n                                            </div>\n                                        </div>\n                                        <br/>\n                                        <div className={\"text-center\"} style={{width: \"100%\"}}>\n                                            <a href=\"#\" className=\"btn btn-brand active\" onClick={() => this.formaCrearVariable(id, nombre, tipo, variable)}>Guardar</a>\n                                        </div>\n                                        <br/>\n                                    </div>;\n        } else if(variable.tipo.localeCompare(\"date\") == 0) {\n            let nombre = variable.nombre;\n            let id = variable.ID;\n            let tipo = variable.tipo;\n            HTMLFormas =  <div style={{width: \"100%\"}}>\n                                        <br/>\n                                        <div className={\"row\"} style={{width: \"100%\"}}>\n                                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                                <label htmlFor={\"variableForma\"} className=\"col-form-label\">Valor:</label>\n                                            </div>\n                                            <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                                                <div className=\"row\" style={{display: \"flex\", justifyContent: \"center\"}}>\n                                                    <div id={\"variableForma\"} className=\"center-block\"></div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <br/>\n                                        <div className={\"text-center\"} style={{width: \"100%\"}}>\n                                            <a href=\"#\" className=\"btn btn-brand active\" onClick={() => this.formaCrearVariable(id, nombre, tipo, variable)}>Guardar</a>\n                                        </div>\n                                        <br/>\n                                    </div>;\n        }\n        this.updateForm(variable.nombre, HTMLFormas, variable.tipo, \"variableForma\");\n    }\n\n    updateForm (titulo, HTMLFormas, tipo, idInput) {\n        this.setState({\n            showModalForma: true,\n            tituloVariableForma: \"Variable: \"+titulo,\n            htmlForma: HTMLFormas\n        }, this.loadFechas(tipo, idInput));\n    }\n\n    loadFechas (tipo, idInput) {\n        if(tipo.localeCompare(\"date\") == 0) {\n            setTimeout(function(){\n                $('#'+idInput).datepicker({\n                    format: \"dd-mm-yyyy\",\n                    todayHighlight: true,\n                    viewMode: \"days\", \n                    minViewMode: \"days\",\n                    language: 'es'\n                });\n            }, 250);\n        }\n    }\n\n    closeModalForma () {\n        this.setState({\n            showModalForma: false\n        });\n    }\n\n\n    verificarSiExisteFormaEnResultadosHistoricos (variable) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ResultadosNombreVariables where nombreVariable = '\"+variable.nombre+\"' and finVigencia = '1964-05-28'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if (result.recordset.length == 0) {\n                            this.crearTablaDeResultadoNombreForma(variable);\n                        } else {\n                            console.log(\"ENCONTRO\")\n                            console.log(result.recordset[0])\n                            this.guardarResultadosNombreForma(variable, result.recordset[0].inicioVigencia);\n                        }\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    crearTablaDeResultadoNombreForma (variable) {\n        //NOMBRE TABLA: NOMBREVARIABLE_AÑOVIGENCIA_MESVIGENCIA_DIAVIGENCIA_HORAVIGENCIA_MINUTOSVIGENCIA_SEGUNDOSVIGENCIA\n        //VIGENCIA: DIA CREACION\n        let hoy = new Date();\n        var textoCreacionTabla = 'CREATE TABLE '+variable.nombre+'_'+hoy.getFullYear()+'_'+(hoy.getMonth()+1)+'_'+hoy.getDate()+'_'+hoy.getHours()+'_'+hoy.getMinutes()+'_'+hoy.getSeconds()+' ( ID int IDENTITY(1,1) PRIMARY KEY, ';\n        if(variable.tipo.localeCompare(\"numero\") == 0) {\n            textoCreacionTabla += variable.nombre+' decimal(22,4)';\n        } else if(variable.tipo.localeCompare(\"varchar\") == 0) {\n            textoCreacionTabla += variable.nombre+' varchar(1000)';\n        } else if(variable.tipo.localeCompare(\"bit\") == 0) {\n            textoCreacionTabla += variable.nombre+' bit';\n        } else if(variable.tipo.localeCompare(\"date\") == 0) {\n            textoCreacionTabla += variable.nombre+' date';\n        }\n        textoCreacionTabla += ', f3ch4Gu4rd4do date )';\n        console.log('textoCreacionTabla')\n        console.log(textoCreacionTabla)\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(textoCreacionTabla, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        //console.log(\"Tabla \"+variable.nombre+'_'+hoy.getFullYear()+'_'+hoy.getMonth()+'_'+hoy.getDate()+'_'+hoy.getHours()+'_'+hoy.getMinutes()+'_'+hoy.getSeconds()+\" creada.\");\n                        console.log('CREO TABLA');\n                        this.crearResultadoNombreForma(variable, hoy);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    crearResultadoNombreForma (variable, hoy) {\n        console.log('INICAR CREAR RESULTADO');\n        let mes = hoy.getMonth()+1;\n        if(mes.toString().length == 1)\n            mes = '0'+mes;\n        let dia = hoy.getDate();\n        if(dia.toString().length == 1)\n            dia = '0'+dia;\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"insert into ResultadosNombreVariables (nombreVariable, inicioVigencia, finVigencia) values ('\"+variable.nombre+\"', '\"+hoy.getFullYear()+'-'+mes+'-'+dia+\" \"+hoy.getHours()+\":\"+hoy.getMinutes()+\":\"+hoy.getSeconds()+\"', '1964-05-28')\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        console.log('GUARDO RESULTADO');\n                        this.guardarResultadosNombreForma(variable, hoy);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    guardarResultadosNombreForma (variable, fechaNombreTabla) {\n        console.log('INICAR GUARDAR RESULTADO');\n        console.log('fechaNombreTabla');\n        console.log(fechaNombreTabla);\n        console.log('fechaNombreTabla.getFullYear()');\n        console.log(fechaNombreTabla.getFullYear());\n        console.log('fechaNombreTabla.getMonth()');\n        console.log(fechaNombreTabla.getMonth());\n        console.log('fechaNombreTabla.getDate()');\n        console.log(fechaNombreTabla.getDate());\n        console.log('fechaNombreTabla.getHours()');\n        console.log(fechaNombreTabla.getHours());\n        console.log('fechaNombreTabla.getMinutes()');\n        console.log(fechaNombreTabla.getMinutes());\n        console.log('fechaNombreTabla.getSeconds()');\n        console.log(fechaNombreTabla.getSeconds());\n\n        let hoy = new Date();\n        var textoInsertPrincipio = 'INSERT INTO '+variable.nombre+'_'+fechaNombreTabla.getFullYear()+'_'+(fechaNombreTabla.getMonth()+1)+'_'+fechaNombreTabla.getDate()+'_'+fechaNombreTabla.getHours()+'_'+fechaNombreTabla.getMinutes()+'_'+fechaNombreTabla.getSeconds()+' ( ';\n        for (var i = 0; i < variable.variables.length; i++) {\n            if(i != 0)\n                textoInsertPrincipio += ', ';\n            textoInsertPrincipio += variable.variables[i].nombre;\n        };\n        textoInsertPrincipio += ', f3ch4Gu4rd4do ) values ( ';\n        var instruccionSQLBorrar = \"DELETE FROM \"+variable.nombre+\"_\"+fechaNombreTabla.getFullYear()+\"_\"+(fechaNombreTabla.getMonth()+1)+\"_\"+fechaNombreTabla.getDate()+\"_\"+fechaNombreTabla.getHours()+\"_\"+fechaNombreTabla.getMinutes()+\"_\"+fechaNombreTabla.getSeconds()+ \" WHERE f3ch4Gu4rd4do = '\"+hoy.getFullYear()+\"-\"+(hoy.getMonth()+1)+\"-\"+hoy.getDate()+\"' \";\n        console.log('instruccionSQLBorrar');\n        console.log(instruccionSQLBorrar);\n        this.borrarForma(instruccionSQLBorrar);\n\n        var instruccionSQLFinal = textoInsertPrincipio;\n        if(variable.tipo.localeCompare(\"numero\") == 0) {\n            instruccionSQLFinal += window[variable.nombre];\n        } else if(variable.tipo.localeCompare(\"varchar\") == 0) {\n            instruccionSQLFinal += \"'\"+window[variable.nombre]+\"'\";\n        } else if(variable.tipo.localeCompare(\"bit\") == 0) {\n            instruccionSQLFinal += \"'\"+window[variable.nombre]+\"'\";\n        } else if(variable.tipo.localeCompare(\"date\") == 0) {\n            instruccionSQLFinal += \"'\"+window[variable.nombre].getFullYear()+\"-\"+(window[variable.nombre].getMonth()+1)+\"-\"+window[variable.nombre].getDate()+\"'\";\n        }\n        instruccionSQLFinal += \", '\"+hoy.getFullYear()+\"-\"+(hoy.getMonth()+1)+\"-\"+hoy.getDate()+\"' )\";\n        console.log('instruccionSQLFinal 1');\n        console.log(instruccionSQLFinal);\n        var self = this;\n        setTimeout(function () {\n            self.guardarForma(instruccionSQLFinal, variable, 'forma', hoy);\n        }, 600);\n    }\n\n    guardarForma (instruccionSQL, variable, tabla, hoy) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(instruccionSQL, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if(variable.periodicidad.localeCompare(\"-1\") != 0)\n                            this.verificarPeriodicidadGuardar(variable, tabla, hoy);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    borrarForma (instruccionSQL) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(instruccionSQL, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    verificarPeriodicidadGuardar (variable, tabla, hoy) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from PeriodicidadCalculo where variableID = \"+variable.ID+\" and tablaVariable = '\"+tabla+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if(result.recordset.length > 0) {\n                            this.updatePeriodicidad(variable, tabla, hoy);\n                        } else {\n                            this.guardarPeriodicidad(variable, tabla, hoy);\n                        }\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    updatePeriodicidad (variable, tabla, hoy) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"update PeriodicidadCalculo where variableID = \"+variable.ID+\" and tablaVariable = '\"+tabla+\"' set fechaUltimoCalculo = '\"+hoy.getFullYear()+\"-\"+(hoy.getMonth()+1)+\"-\"+hoy.getDate()+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    guardarPeriodicidad (variable, tabla, hoy) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"insert into PeriodicidadCalculo (variableID, tablaVariable, fechaInicio, fechaUltimoCalculo) values (\"+variable.ID+\", '\"+tabla+\"', '\"+hoy.getFullYear()+\"-\"+(hoy.getMonth()+1)+\"-\"+hoy.getDate()+\"', '\"+hoy.getFullYear()+\"-\"+hoy.getMonth()+\"-\"+hoy.getDate()+\"') \", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    /*\n        **************************************\n        **************************************\n                FIN CALCULO CODIGO\n        **************************************\n        **************************************\n    */\n\n    render() {\n        return (\n            <div>\n                <br/>\n                <div className={\"row\"} style={{width: \"100%\"}}>\n                    <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                        <label htmlFor=\"nombreVariable\" className=\"col-form-label\">Nombre de Variable:</label>\n                    </div>\n                    <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                        <input id=\"nombreVariable\" defaultValue={this.state.nombre} type=\"text\" className=\"form-control form-control-sm\"/>\n                    </div>\n                </div>\n                <div className={\"row\"} style={{width: \"100%\"}}>\n                    <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                        <label htmlFor=\"tipo\" className=\"col-form-label\">Tipo de Variable:</label>\n                    </div>\n                    <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                        <select id=\"tipo\" defaultValue={this.state.tipo} className=\"form-control\">\n                            <option value=\"numero\">Número</option>\n                            <option value=\"varchar\">Cadena</option>\n                            <option value=\"date\">Fecha</option>\n                            <option value=\"bit\">Booleano</option>\n                        </select>\n                    </div>\n                </div>\n                <div className={\"row\"} style={{width: \"100%\"}}>\n                    <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                        <label htmlFor=\"periodicidad\" className=\"col-form-label\">Periodicidad</label>\n                    </div>\n                    <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                        <select id=\"periodicidad\" defaultValue={this.props.periodicidadVariable} onChange={this.actualizarPeriodicidad} className=\"form-control\">\n                            <option value=\"-1\">Ninguno</option>\n                            {periodicidad.map((periodicidad, i) =>\n                                <option value={periodicidad.nombre} key={periodicidad.nombre}>{periodicidad.nombre}</option>\n                            )}\n                        </select>\n                    </div>\n                </div>\n                {\n                    this.state.valorPeriodicidad.localeCompare(\"-1\") != 0\n                    ?\n                        <div className={\"row\"} style={{width: \"100%\"}}>\n                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                <label htmlFor=\"fecha\" className=\"col-form-label\">Fecha de Inicio de Cálculo:</label>\n                            </div>\n                            <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                                <input type=\"text\" className=\"form-control\" id=\"fecha\"/>\n                            </div>\n                        </div>\n                    : null\n                }\n                <div className={\"row\"} style={{width: \"100%\"}}>\n                    <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                        <label htmlFor=\"analista\" className=\"col-form-label\">Nombre Encargado</label>\n                    </div>\n                    <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                        <input id=\"analista\" defaultValue={this.props.analistaVariable} onKeyUp={this.props.actualizarNombreEncargado} type=\"text\" className=\"form-control form-control-sm\"/>\n                    </div>\n                </div>\n                <div className={\"row\"} style={{width: \"100%\"}}>\n                    <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                        <label htmlFor=\"guardarVariable\" className=\"col-form-label\">Guardar Valores Obtenidos en Base de Datos</label>\n                    </div>\n                    <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                        <br/>\n                        <div className={\"switch-button switch-button-yesno\"} style={{margin:\"0 auto\", display:\"block\"}}>\n                            <input type=\"checkbox\" defaultChecked={this.state.guardar} name={\"guardarVariable\"} id={\"guardarVariable\"}/><span>\n                            <label htmlFor={\"guardarVariable\"}></label></span>\n                        </div>\n                    </div>\n                </div>\n                <br/>\n                <div className={\"text-center\"} style={{width: \"100%\"}}>\n                    <a href=\"#\" className=\"btn btn-brand active\" onClick={this.crearVariable}>Modificar Variable</a>\n                    {\n                        this.props.tipoVariableOriginal.localeCompare(\"forma\") == 0\n                        ? <a href=\"#\" className=\"btn btn-secondary active\" style={{marginLeft: \"10px\"}}  onClick={this.props.eliminarVarForma}>Eliminar Variable</a>\n                        : null\n                    }\n                    {\n                        this.props.tipoVariableOriginal.localeCompare(\"forma\") == 0\n                        ? <a href=\"#\" className=\"btn btn-primary active\" style={{marginLeft: \"10px\"}} onClick={this.verificarPeriodicidad}>Realizar Cálculo</a>\n                        : null\n                    }\n                </div>\n                <br/>\n                <Modal show={this.state.showModalForma}\n                    titulo={this.state.tituloVariableForma}\n                    onClose={() => this.closeModalForma}>\n                        {this.state.htmlForma}\n                </Modal>\n            </div>\n        );\n    }\n}\n"],"file":"FuenteDatoForma.js"}