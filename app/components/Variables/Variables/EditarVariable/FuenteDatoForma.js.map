{"version":3,"sources":["components/Variables/Variables/EditarVariable/FuenteDatoForma.js"],"names":["variables","excel","formas","periodicidad","nombre","FuenteDatoForma","props","state","tipo","guardar","valorPeriodicidad","crearVariable","bind","traerForma","eliminarVarExcel","eliminarVariable","getVariables","getExcel","getFormas","verificarNoExisteNombreVar","actualizarPeriodicidad","isValidDate","tipoVariableOriginal","localeCompare","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","idVariable","result","console","log","rollback","commit","recordset","length","setState","$","val","prop","nombreVariable","guardarVariable","is","fecha","Date","datepicker","analista","fechaInicioCalculo","alert","actualizarIDVariableModificada","transaction1","request1","transaction2","request2","transaction3","request3","transaction4","request4","transaction5","request5","transaction6","request6","transaction7","request7","limpiarArreglos","transaction8","request8","contadorObjetosGuardados","noExiste","i","toLowerCase","cargarDatePicker","Object","prototype","toString","call","isNaN","getTime","width","display","alignItems","justifyContent","periodicidadVariable","map","analistaVariable","actualizarNombreEncargado","margin","marginLeft","eliminarVarForma","calculoVariable","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport sql from 'mssql';\n\nvar variables = [];\nvar excel = [];\nvar formas = [];\n\nconst periodicidad = [ {nombre: \"diario\"}, {nombre: \"semanal\"}, {nombre: \"mensual\"}, {nombre: \"trimestral\"}, {nombre: \"bi-anual\"}, {nombre: \"anual\"} ];\n\nexport default class FuenteDatoForma extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            nombre: \"\",\n            tipo: \"\",\n            guardar: \"\",\n            valorPeriodicidad: '-1'\n        }\n        this.crearVariable = this.crearVariable.bind(this);\n        this.traerForma = this.traerForma.bind(this);\n        this.eliminarVarExcel = this.eliminarVarExcel.bind(this);\n        this.eliminarVariable = this.eliminarVariable.bind(this);\n        this.getVariables = this.getVariables.bind(this);\n        this.getExcel = this.getExcel.bind(this);\n        this.getFormas = this.getFormas.bind(this);\n        this.verificarNoExisteNombreVar = this.verificarNoExisteNombreVar.bind(this);\n        this.actualizarPeriodicidad = this.actualizarPeriodicidad.bind(this);\n        this.isValidDate = this.isValidDate.bind(this);\n    }\n\n    componentDidMount() {\n        if (this.props.tipoVariableOriginal.localeCompare(\"forma\") == 0) {\n            this.traerForma();\n        }\n        this.getVariables();\n        this.getExcel();\n        this.getFormas();\n    }\n\n    traerForma() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from FormasVariables where ID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if(result.recordset.length > 0) {\n                            this.setState({\n                                nombre: result.recordset[0].nombre,\n                                tipo: result.recordset[0].tipo,\n                                guardar: result.recordset[0].guardar\n                            });\n                            $(\"#nombreVariable\").val(result.recordset[0].nombre);\n                            $(\"#tipo\").val(result.recordset[0].tipo);\n                            if (result.recordset[0].guardar)\n                                $(\"#guardarVariable\").prop('checked', true);\n                            else\n                                $(\"#guardarVariable\").prop('checked', false);\n                        }\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    crearVariable () {\n        var nombreVariable = $(\"#nombreVariable\").val();\n        var tipo = $(\"#tipo\").val();\n        var guardarVariable;\n        if ($(\"#guardarVariable\").is(':checked'))\n            guardarVariable = true;\n        else\n            guardarVariable = false;\n        var periodicidad = $(\"#periodicidad\").val();\n        var fecha;\n        if(periodicidad.localeCompare(\"-1\") == 0)\n            fecha = new Date(1964, 4, 28);\n        else\n            fecha = $(\"#fecha\").datepicker('getDate');\n        var analista = $(\"#analista\").val();\n        if(nombreVariable.length > 0 && nombreVariable.length < 1001) {\n            if(this.verificarNoExisteNombreVar(nombreVariable)) {\n                if(tipo.length > 0 && tipo.length < 1001) {\n                    if(periodicidad.length > 0 && periodicidad.length < 51) {\n                        if(this.isValidDate(fecha)) {\n                            if(analista.length > 0 && analista.length < 101) {\n                                if (this.props.tipoVariableOriginal.localeCompare(\"excel\") == 0) {\n                                    this.eliminarVarExcel();\n                                }\n                                if (this.props.tipoVariableOriginal.localeCompare(\"variable\") == 0) {\n                                    this.eliminarVariable();\n                                }\n                                if (this.props.tipoVariableOriginal.localeCompare(\"forma\") != 0) {\n                                    const transaction = new sql.Transaction( this.props.pool );\n                                    transaction.begin(err => {\n                                        var rolledBack = false;\n                                        transaction.on('rollback', aborted => {\n                                            rolledBack = true;\n                                        });\n                                        const request = new sql.Request(transaction);\n                                        request.query(\"insert into FormasVariables (nombre, tipo, periodicidad, fechaInicioCalculo, analista, guardar) values ('\"+nombreVariable+\"', '\"+tipo+\"', '\"+periodicidad+\"', '\"+fechaInicioCalculo+\"', '\"+analista+\"', '\"+guardarVariable+\"')\", (err, result) => {\n                                            if (err) {\n                                                console.log(err);\n                                                if (!rolledBack) {\n                                                    transaction.rollback(err => {\n                                                    });\n                                                }\n                                            } else {\n                                                transaction.commit(err => {\n                                                    alert(\"Variable Modificada\");\n                                                    this.getFormas();\n                                                    this.props.actualizarIDVariableModificada(\"forma\");\n                                                });\n                                            }\n                                        });\n                                    }); // fin transaction\n                                } else {\n                                    const transaction = new sql.Transaction( this.props.pool );\n                                    transaction.begin(err => {\n                                        var rolledBack = false;\n                                        transaction.on('rollback', aborted => {\n                                            rolledBack = true;\n                                        });\n                                        const request = new sql.Request(transaction);\n                                        request.query(\"update FormasVariables set nombre = '\"+nombreVariable+\"', tipo = '\"+tipo+\"', periodicidad = '\"+periodicidad+\"', guardar = '\"+guardarVariable+\"', fechaInicioCalculo = '\"+fechaInicioCalculo+\"', analista = '\"+analista+\"' where ID = \"+this.props.idVariable, (err, result) => {\n                                            if (err) {\n                                                console.log(err);\n                                                if (!rolledBack) {\n                                                    transaction.rollback(err => {\n                                                    });\n                                                }\n                                            } else {\n                                                transaction.commit(err => {\n                                                    alert(\"Variable Modificada\");\n                                                    this.getFormas();\n                                                });\n                                            }\n                                        });\n                                    }); // fin transaction\n                                }\n                            } else {\n                                alert('Ingrese un valor para el analista que debe ser menor a 51 caracteres');\n                            }\n                        } else {\n                            alert('Ingrese un valor para la fecha');\n                        }\n                    } else {\n                        alert('Ingrese un valor para el valor de periodicidad que debe ser menor a 51 caracteres');\n                    }\n                } else {\n                    alert('Ingrese un valor para el tipo de la variable que debe ser menor a 31 caracteres');\n                }\n            } else {\n                alert('El nombre de la variable debe ser único.');\n            }\n        } else {\n            alert('Ingrese un valor para el nombre de la variable que debe ser menor a 101 caracteres');\n        }\n    }\n\n    eliminarVarExcel () {\n        const transaction1 = new sql.Transaction( this.props.pool );\n        transaction1.begin(err => {\n            var rolledBack = false;\n            transaction1.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request1 = new sql.Request(transaction1);\n            request1.query(\"DELETE FROM ExcelArchivos WHERE ID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction1.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction1.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction1\n        const transaction2 = new sql.Transaction( this.props.pool );\n        transaction2.begin(err => {\n            var rolledBack = false;\n            transaction2.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request2 = new sql.Request(transaction2);\n            request2.query(\"DELETE FROM ExcelVariables WHERE excelArchivoID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction2.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction2.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction2\n    }\n\n    eliminarVariable () {\n        const transaction1 = new sql.Transaction( this.props.pool );\n        transaction1.begin(err => {\n            var rolledBack = false;\n            transaction1.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request1 = new sql.Request(transaction1);\n            request1.query(\"DELETE FROM Variables WHERE ID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction1.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction1.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction1\n        const transaction2 = new sql.Transaction( this.props.pool );\n        transaction2.begin(err => {\n            var rolledBack = false;\n            transaction2.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request2 = new sql.Request(transaction2);\n            request2.query(\"DELETE FROM VariablesCampos WHERE variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction2.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction2.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction2\n        const transaction3 = new sql.Transaction( this.props.pool );\n        transaction3.begin(err => {\n            var rolledBack = false;\n            transaction3.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request3 = new sql.Request(transaction3);\n            request3.query(\"DELETE FROM FormulasVariablesCampos WHERE variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction3.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction3.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction3\n        const transaction4 = new sql.Transaction( this.props.pool );\n        transaction4.begin(err => {\n            var rolledBack = false;\n            transaction4.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request4 = new sql.Request(transaction4);\n            request4.query(\"DELETE FROM ElementoFormulasVariablesCampos WHERE variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction4.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction4.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction4\n        const transaction5 = new sql.Transaction( this.props.pool );\n        transaction5.begin(err => {\n            var rolledBack = false;\n            transaction5.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request5 = new sql.Request(transaction5);\n            request5.query(\"DELETE FROM SegmentoReglasVariables WHERE variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction5.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction5.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction5\n        const transaction6 = new sql.Transaction( this.props.pool );\n        transaction6.begin(err => {\n            var rolledBack = false;\n            transaction6.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request6 = new sql.Request(transaction6);\n            request6.query(\"DELETE FROM ReglasVariables WHERE variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction6.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction6.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction6\n        const transaction7 = new sql.Transaction( this.props.pool );\n        transaction7.begin(err => {\n            var rolledBack = false;\n            transaction7.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request7 = new sql.Request(transaction7);\n            request7.query(\"delete from InstruccionSQL WHERE variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction7.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction7.commit(err => {\n                        this.limpiarArreglos();\n                    });\n                }\n            });\n        }); // fin transaction7\n        const transaction8 = new sql.Transaction( this.props.pool );\n        transaction8.begin(err => {\n            var rolledBack = false;\n            transaction8.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request8 = new sql.Request(transaction8);\n            request8.query(\"delete from InstruccionSQLCampos where variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        contadorObjetosGuardados++;\n                        transaction8.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction8.commit(err => {\n                        //this.props.terminoCrearCampo(variable, variableCampo);\n                    });\n                }\n            });\n        }); // fin transaction8\n    }\n\n    getVariables() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from Variables\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        variables = result.recordset;\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getExcel() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ExcelVariables\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        excel = result.recordset;\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getFormas() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from FormasVariables\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        formas = result.recordset;\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    verificarNoExisteNombreVar (nombre) {\n        var noExiste = true;\n        for (var i = 0; i < variables.length; i++) {\n            if (variables[i].nombre.toLowerCase().localeCompare(nombre.toLowerCase()) == 0) {\n                noExiste = false;\n                break;\n            }\n        };\n        if(noExiste) {\n            for (var i = 0; i < excel.length; i++) {\n                if (excel[i].nombre.toLowerCase().localeCompare(nombre.toLowerCase()) == 0) {\n                    noExiste = false;\n                    break;\n                }\n            };\n        }\n        if(noExiste) {\n            for (var i = 0; i < formas.length; i++) {\n                if (formas[i].nombre.toLowerCase().localeCompare(nombre.toLowerCase()) == 0) {\n                    noExiste = false;\n                    break;\n                }\n            };\n        }\n        return noExiste;\n    }\n\n    actualizarPeriodicidad () {\n        var periodicidad = $(\"#periodicidad\").val();\n        this.setState({\n            valorPeriodicidad: periodicidad\n        }, this.cargarDatePicker );\n    }\n\n    isValidDate (fecha) {\n        if (Object.prototype.toString.call(fecha) === \"[object Date]\") {\n            if (isNaN(fecha.getTime())) {\n                alert(\"Ingrese una fecha valida.\");\n                return false;\n            } else {\n                return true;\n            }\n        } else {\n            alert(\"Ingrese una fecha valida.\");\n            return false;\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <br/>\n                <div className={\"row\"} style={{width: \"100%\"}}>\n                    <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                        <label htmlFor=\"nombreVariable\" className=\"col-form-label\">Nombre de Variable:</label>\n                    </div>\n                    <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                        <input id=\"nombreVariable\" defaultValue={this.state.nombre} type=\"text\" className=\"form-control form-control-sm\"/>\n                    </div>\n                </div>\n                <div className={\"row\"} style={{width: \"100%\"}}>\n                    <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                        <label htmlFor=\"tipo\" className=\"col-form-label\">Tipo de Variable:</label>\n                    </div>\n                    <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                        <select id=\"tipo\" defaultValue={this.state.tipo} className=\"form-control\">\n                            <option value=\"numero\">Número</option>\n                            <option value=\"varchar\">Cadena</option>\n                            <option value=\"date\">Fecha</option>\n                            <option value=\"bit\">Booleano</option>\n                        </select>\n                    </div>\n                </div>\n                <div className={\"row\"} style={{width: \"100%\"}}>\n                    <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                        <label htmlFor=\"periodicidad\" className=\"col-form-label\">Periodicidad</label>\n                    </div>\n                    <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                        <select id=\"periodicidad\" defaultValue={this.props.periodicidadVariable} onChange={this.actualizarPeriodicidad} className=\"form-control\">\n                            <option value=\"-1\">Ninguno</option>\n                            {periodicidad.map((periodicidad, i) =>\n                                <option value={periodicidad.nombre} key={periodicidad.nombre}>{periodicidad.nombre}</option>\n                            )}\n                        </select>\n                    </div>\n                </div>\n                {\n                    this.state.valorPeriodicidad.localeCompare(\"-1\") != 0\n                    ?\n                        <div className={\"row\"} style={{width: \"100%\"}}>\n                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                <label htmlFor=\"fecha\" className=\"col-form-label\">Fecha de Inicio de Cálculo:</label>\n                            </div>\n                            <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                                <input type=\"text\" className=\"form-control\" id=\"fecha\"/>\n                            </div>\n                        </div>\n                    : null\n                }\n                <div className={\"row\"} style={{width: \"100%\"}}>\n                    <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                        <label htmlFor=\"analista\" className=\"col-form-label\">Nombre Encargado</label>\n                    </div>\n                    <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                        <input id=\"analista\" defaultValue={this.props.analistaVariable} onKeyUp={this.props.actualizarNombreEncargado} type=\"text\" className=\"form-control form-control-sm\"/>\n                    </div>\n                </div>\n                <div className={\"row\"} style={{width: \"100%\"}}>\n                    <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                        <label htmlFor=\"guardarVariable\" className=\"col-form-label\">Guardar Valores Obtenidos en Base de Datos</label>\n                    </div>\n                    <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                        <br/>\n                        <div className={\"switch-button switch-button-yesno\"} style={{margin:\"0 auto\", display:\"block\"}}>\n                            <input type=\"checkbox\" defaultChecked={this.state.guardar} name={\"guardarVariable\"} id={\"guardarVariable\"}/><span>\n                            <label htmlFor={\"guardarVariable\"}></label></span>\n                        </div>\n                    </div>\n                </div>\n                <br/>\n                <div className={\"text-center\"} style={{width: \"100%\"}}>\n                    <a href=\"#\" className=\"btn btn-brand active\" onClick={this.crearVariable}>Modificar Variable</a>\n                    {\n                        this.props.tipoVariableOriginal.localeCompare(\"forma\") == 0\n                        ? <a href=\"#\" className=\"btn btn-secondary active\" style={{marginLeft: \"10px\"}}  onClick={this.props.eliminarVarForma}>Eliminar Variable</a>\n                        : null\n                    }\n                    {\n                        this.props.tipoVariableOriginal.localeCompare(\"forma\") == 0\n                        ? <a href=\"#\" className=\"btn btn-primary active\" style={{marginLeft: \"10px\"}} onClick={this.calculoVariable}>Realizar Cálculo</a>\n                        : null\n                    }\n                </div>\n                <br/>\n            </div>\n        );\n    }\n}\n"],"file":"FuenteDatoForma.js"}