{"version":3,"sources":["components/Variables/Variables/EditarVariable/FuenteDatoExcel.js"],"names":["variables","excel","formas","agregoVariable","banderaVariablesATraer","nombreArchivo","ubicacionArchivo","nombreVariable","idFormula","descripcionVariable","operacion","hojaExcel","tipoVariable","celdasVariable","periodicidadVariable","responsableVariable","categoriaVariable","periodicidad","nombre","window","arregloDeErroresExcel","FuenteDatoExcel","props","state","valorPeriodicidad","valoresPeriodicidad","usuarios","hojas","showModal","saveBitacora","bind","seleccionarArchivo","guardarUbicacionArchivo","guardarVariablesModificar","traerArchivoID","guardarVariablesNuevas","crearVariable","traerArchivo","traerVariables","updateVariable","deleteVariable","eliminarVarForma","eliminarVariable","getVariables","getExcel","getFormas","verificarNoExisteNombreVar","verificarNoExisteNombreVarUpdate","actualizarPeriodicidad","cargarDatePicker","actualizarPeriodicidadUpdate","inicializarFecha","isValidDate","verificarSiExisteExcelEnResultadosHistoricosModificar","crearTablaDeResultadoNombreModificar","crearResultadoNombreModificar","modificarResultadosNombre","verificarPeriodicidadGuardarModificar","updatePeriodicidadModificar","verificarPeriodicidad","addDays","addMonths","addYears","traerPeriodicidadVariable","verificarFinTraerPeriodicidad","crearVariablesExcel","getArregloPosicionesExcel","getObjetoLetraNumeroCelda","esLetra","toColumnLetter","toColumnNumber","tieneEspaciosEnBlanco","getUsuarios","goToTimeline","closeModal","actualizarNombreArchivo","actualizarNombreVariable","actualizarIdFormula","actualizarDescripcionVariable","updateOperacion","updateHojaExcel","updateTipoVariable","actualizarCeldasVariable","actualizarNombreEncargado","actualizarCategoriaVariable","tipoVariableOriginal","localeCompare","fecha","descripcion","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","userID","userName","getFullYear","getMonth","getDate","idVariable","result","console","log","showMessage","rollback","commit","recordset","length","$","val","workbook","XLSX","readFile","i","SheetNames","push","setState","temp","dialog","electron","remote","fileExcel","showOpenDialog","title","filters","name","extensions","split","properties","undefined","self","setTimeout","showSuccesMessage","transaction1","nombreHoja","celdas","tipo","fechaInicioCalculo","responsable","guardarVariable","guardar","ID","archivoExcelID","actualizarIDVariableModificada","hoja","is","Date","datepicker","copyTemp","nuevaVar","copyTempPeriodicidad","index","splice","limpiarArreglos","request1","transaction2","request2","transaction3","request3","transaction4","request4","transaction5","request5","transaction6","request6","transaction7","request7","transaction8","request8","contadorObjetosGuardados","noExiste","toLowerCase","format","todayHighlight","viewMode","minViewMode","language","Object","prototype","toString","call","isNaN","getTime","variable","inicioVigencia","hoy","textoCreacionTabla","getHours","getMinutes","getSeconds","mes","dia","resultado","tabla","tempCopyArr","j","days","date","setDate","months","setMonth","years","setYear","getYear","arreglo","indexI","indexJ","verificarFinPeriodicidad","fechaUltimoCalculo","tieneUltimoCalculo","realizarCalculo","ultimoCalculoVigente","fechaSiguienteCalculo","tocaNuevoCalculo","verificarSiGuardo","k","sheet","Sheets","arregloPosicionesExcel","arregloDeExcel","t","w","indexOf","parseFloat","v","suma","promedio","max","min","count","verificarSiExisteExcelEnResultadosHistoricos","message","celdaInicial","celdaFinal","columna","filaInicial","parseInt","fila","filaFinal","toUpperCase","numeroColumnaInicial","numeroColumnaFinal","celda","charAt","substring","celdaObjeto","caracter","num","ret","a","b","String","fromCharCode","base","Math","pow","crearTablaDeResultadoNombreExcel","guardarResultadosNombreExcel","alert","crearResultadoNombreExcel","fechaNombreTabla","textoInsertPrincipio","instruccionSQLBorrar","borrarExcel","instruccionSQLFinal","guardarExcel","instruccionSQL","verificarPeriodicidadGuardar","updatePeriodicidad","guardarPeriodicidad","s","test","esExcel","idVariableExcel","esColeccion","changeStateFirstTimeToTrue","nombreArchivoN","nombreVariableN","idFormulaN","descripcionVariableN","operacionN","hojaExcelVariableN","hojaExcelVariable","tipoVariableN","celdasVariableN","periodicidadVariableN","responsableVariableN","categoriaVariableN","width","display","alignItems","justifyContent","permision","map","usuario","margin","marginLeft","eliminarVarExcel","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport electron from 'electron';\nimport sql from 'mssql';\nimport XLSX from 'xlsx-style';\n\nvar variables = [];\nvar excel = [];\nvar formas = [];\n\nvar agregoVariable = false;\nvar banderaVariablesATraer = 0;\n\nvar nombreArchivo = '', ubicacionArchivo = '';\nvar nombreVariable = '', idFormula = '', descripcionVariable = '', operacion = '', hojaExcel = '', tipoVariable = '', celdasVariable = '', periodicidadVariable = '', responsableVariable = '', categoriaVariable = '';\n\nconst periodicidad = [ {nombre: \"diario\"}, {nombre: \"semanal\"}, {nombre: \"mensual\"}, {nombre: \"trimestral\"}, {nombre: \"bi-anual\"}, {nombre: \"anual\"} ];\n\n\n\n\n/*\n    **************************************\n    **************************************\n                VARIABLES CALCULO \n    **************************************\n    **************************************\n*/\n\nwindow.arregloDeErroresExcel = [];\n\n/*\n    **************************************\n    **************************************\n            VARIABLES CALCULO FIN\n    **************************************\n    **************************************\n*/\n\nexport default class FuenteDatoExcel extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ubicacionArchivo: ubicacionArchivo,\n            variables: [],\n            valorPeriodicidad: '-1',\n            valoresPeriodicidad: [],\n            usuarios: [],\n            hojas: [],\n            showModal: false\n        }\n        this.saveBitacora = this.saveBitacora.bind(this);\n\n        this.seleccionarArchivo = this.seleccionarArchivo.bind(this);\n        this.guardarUbicacionArchivo = this.guardarUbicacionArchivo.bind(this);\n        this.guardarVariablesModificar = this.guardarVariablesModificar.bind(this);\n        this.traerArchivoID = this.traerArchivoID.bind(this);\n        this.guardarVariablesNuevas = this.guardarVariablesNuevas.bind(this);\n        this.crearVariable = this.crearVariable.bind(this);\n        this.traerArchivo = this.traerArchivo.bind(this);\n        this.traerVariables = this.traerVariables.bind(this);\n        this.updateVariable = this.updateVariable.bind(this);\n        this.deleteVariable = this.deleteVariable.bind(this);\n        this.eliminarVarForma = this.eliminarVarForma.bind(this);\n        this.eliminarVariable = this.eliminarVariable.bind(this);\n        this.getVariables = this.getVariables.bind(this);\n        this.getExcel = this.getExcel.bind(this);\n        this.getFormas = this.getFormas.bind(this);\n        this.verificarNoExisteNombreVar = this.verificarNoExisteNombreVar.bind(this);\n        this.verificarNoExisteNombreVarUpdate = this.verificarNoExisteNombreVarUpdate.bind(this);\n        this.actualizarPeriodicidad = this.actualizarPeriodicidad.bind(this);\n        this.cargarDatePicker = this.cargarDatePicker.bind(this);\n        this.actualizarPeriodicidadUpdate = this.actualizarPeriodicidadUpdate.bind(this);\n        this.inicializarFecha = this.inicializarFecha.bind(this);\n        this.isValidDate = this.isValidDate.bind(this);\n        this.verificarSiExisteExcelEnResultadosHistoricosModificar = this.verificarSiExisteExcelEnResultadosHistoricosModificar.bind(this);\n        this.crearTablaDeResultadoNombreModificar = this.crearTablaDeResultadoNombreModificar.bind(this);\n        this.crearResultadoNombreModificar = this.crearResultadoNombreModificar.bind(this);\n        this.modificarResultadosNombre = this.modificarResultadosNombre.bind(this);\n        this.verificarPeriodicidadGuardarModificar = this.verificarPeriodicidadGuardarModificar.bind(this);\n        this.updatePeriodicidadModificar = this.updatePeriodicidadModificar.bind(this);\n\n        this.verificarPeriodicidad = this.verificarPeriodicidad.bind(this);\n        this.addDays = this.addDays.bind(this);\n        this.addMonths = this.addMonths.bind(this);\n        this.addYears = this.addYears.bind(this);\n        this.traerPeriodicidadVariable = this.traerPeriodicidadVariable.bind(this);\n        this.verificarFinTraerPeriodicidad = this.verificarFinTraerPeriodicidad.bind(this);\n        this.crearVariablesExcel = this.crearVariablesExcel.bind(this);\n        this.getArregloPosicionesExcel = this.getArregloPosicionesExcel.bind(this);\n        this.getObjetoLetraNumeroCelda = this.getObjetoLetraNumeroCelda.bind(this);\n        this.esLetra = this.esLetra.bind(this);\n        this.toColumnLetter = this.toColumnLetter.bind(this);\n        this.toColumnNumber = this.toColumnNumber.bind(this);\n\n        this.tieneEspaciosEnBlanco = this.tieneEspaciosEnBlanco.bind(this);\n\n        this.getUsuarios = this.getUsuarios.bind(this);\n        this.goToTimeline = this.goToTimeline.bind(this);\n\n        this.closeModal = this.closeModal.bind(this);\n\n        this.actualizarNombreArchivo = this.actualizarNombreArchivo.bind(this);\n        this.actualizarNombreVariable = this.actualizarNombreVariable.bind(this);\n        this.actualizarIdFormula = this.actualizarIdFormula.bind(this);\n        this.actualizarDescripcionVariable = this.actualizarDescripcionVariable.bind(this);\n        this.updateOperacion = this.updateOperacion.bind(this);\n        this.updateHojaExcel = this.updateHojaExcel.bind(this);\n        this.updateTipoVariable = this.updateTipoVariable.bind(this);\n        this.actualizarCeldasVariable = this.actualizarCeldasVariable.bind(this);\n        this.actualizarPeriodicidad = this.actualizarPeriodicidad.bind(this);\n        this.actualizarNombreEncargado = this.actualizarNombreEncargado.bind(this);\n        this.actualizarCategoriaVariable = this.actualizarCategoriaVariable.bind(this);\n    }\n\n    componentDidMount() {\n        if (this.props.tipoVariableOriginal.localeCompare(\"excel\") == 0) {\n            this.traerArchivo();\n        }\n        this.getVariables();\n        this.getExcel();\n        this.getFormas();\n        this.getUsuarios();\n    }\n\n    componentWillUnmount() {\n        nombreArchivo = '';\n        ubicacionArchivo = '';\n        nombreVariable = '';\n        idFormula = '';\n        descripcionVariable = '';\n        operacion = '';\n        hojaExcel = '';\n        tipoVariable = '';\n        celdasVariable = '';\n        periodicidadVariable = '';\n        responsableVariable = '';\n        categoriaVariable = '';\n    }\n\n    saveBitacora (fecha, descripcion) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"insert into Bitacora (usuarioID, nombreUsuario, fecha, descripcion, tipoVariable, idVariable) values (\"+this.props.userID+\", '\"+this.props.userName+\"', '\"+fecha.getFullYear()+\"-\"+(fecha.getMonth()+1)+\"-\"+fecha.getDate()+\"', '\"+descripcion+\"', '\"+tipoVariable+\"', \"+idVariable+\")\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    this.props.showMessage(\"Error\", 'No se pudo guardar información de bitacora.', true, false, {});\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    traerArchivo () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ExcelArchivos where ID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    this.props.showMessage(\"Error\", 'No se pudo traer el archivo de excel.', true, false, {});\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if(result.recordset.length > 0) {\n                            $(\"#nombreArchivo\").val(result.recordset[0].nombre);\n                            var workbook = null;\n                            workbook = XLSX.readFile(result.recordset[0].ubicacionArchivo);\n                            var hojas = [];\n                            if(workbook != null) {\n                                for (var i = 0; i < workbook.SheetNames.length; i++) {\n                                    hojas.push(workbook.SheetNames[i]);\n                                };\n                                ubicacionArchivo = result.recordset[0].ubicacionArchivo;\n                                this.setState({\n                                    ubicacionArchivo: result.recordset[0].ubicacionArchivo,\n                                    hojas: hojas\n                                });\n                            } else {\n                                this.props.showMessage(\"Error\", 'No se pudo abrir el archivo.', true, false, {});\n                            }\n                            this.traerVariables();\n                            agregoVariable = false;\n                        }\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    traerVariables () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ExcelVariables where excelArchivoID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    this.props.showMessage(\"Error\", 'No se pudo traer las variables de excel del archivo.', true, false, {});\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var temp = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            temp.push(result.recordset[i].periodicidad);\n                        };\n                        this.setState({\n                            variables: result.recordset,\n                            valoresPeriodicidad: temp\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    seleccionarArchivo () {\n        var dialog = electron.remote.dialog;\n        var fileExcel = null;\n        fileExcel = dialog.showOpenDialog({\n            title: 'Seleccione un archivo',\n            filters: [{\n                name: \"Spreadsheets\",\n                extensions: \"xls|xlsx|xlsm|xlsb|csv\".split(\"|\")\n            }],\n            properties: ['openFile']\n        });\n        var workbook = null;\n        workbook = XLSX.readFile(fileExcel[0]);\n        var hojas = [];\n        if(fileExcel != undefined && fileExcel.length > 0 && workbook != null) {\n            if(workbook != null) {\n                for (var i = 0; i < workbook.SheetNames.length; i++) {\n                    hojas.push(workbook.SheetNames[i]);\n                };\n                ubicacionArchivo = fileExcel[0];\n                this.setState({\n                    ubicacionArchivo: fileExcel[0],\n                    hojas: hojas\n                });\n            } else {\n                this.props.showMessage(\"Error\", \"No se pudo abrir el archivo.\", true, false, {});\n            }\n        }\n    }\n\n    guardarUbicacionArchivo () {\n        var nombre = $(\"#nombreArchivo\").val();\n        if(nombre.length > 0 && nombre.length < 101) {\n            if(this.state.ubicacionArchivo.length > 0 && this.state.ubicacionArchivo.length < 1001) {\n                if (this.props.tipoVariableOriginal.localeCompare(\"forma\") == 0) {\n                    this.eliminarVarForma();\n                }\n                if (this.props.tipoVariableOriginal.localeCompare(\"variable\") == 0) {\n                    this.eliminarVariable();\n                }\n                var self = this;\n                setTimeout(function() {\n                    if (self.props.tipoVariableOriginal.localeCompare(\"excel\") != 0) {\n                        const transaction = new sql.Transaction( self.props.pool );\n                        transaction.begin(err => {\n                            var rolledBack = false;\n                            transaction.on('rollback', aborted => {\n                                rolledBack = true;\n                            });\n                            const request = new sql.Request(transaction);\n                            request.query(\"insert into ExcelArchivos (ubicacionArchivo, nombre) values ('\"+self.state.ubicacionArchivo+\"', '\"+nombre+\"')\", (err, result) => {\n                                if (err) {\n                                    console.log(err);\n                                    this.props.showMessage(\"Error\", 'Error al guardar archivo de excel.', true, false, {});\n                                    if (!rolledBack) {\n                                        transaction.rollback(err => {\n                                        });\n                                    }\n                                } else {\n                                    transaction.commit(err => {\n                                        this.props.showSuccesMessage(\"Éxito\", 'Variable Creada.');\n                                        self.traerArchivoID();\n                                    });\n                                }\n                            });\n                        }); // fin transaction\n                    } else {\n                        const transaction = new sql.Transaction( self.props.pool );\n                        transaction.begin(err => {\n                            var rolledBack = false;\n                            transaction.on('rollback', aborted => {\n                                rolledBack = true;\n                            });\n                            const request = new sql.Request(transaction);\n                            request.query(\"update ExcelArchivos set ubicacionArchivo = '\"+self.state.ubicacionArchivo+\"', nombre = '\"+nombre+\"' where ID = \"+self.props.idVariable, (err, result) => {\n                                if (err) {\n                                    console.log(err);\n                                    this.props.showMessage(\"Error\", 'Error al guardar archivo de excel.', true, false, {});\n                                    if (!rolledBack) {\n                                        transaction.rollback(err => {\n                                        });\n                                    }\n                                } else {\n                                    transaction.commit(err => {\n                                        this.props.showSuccesMessage(\"Éxito\", 'Variable Creada.');\n                                        self.guardarVariablesModificar();\n                                    });\n                                }\n                            });\n                        }); // fin transaction\n                    }\n                }, 500);\n            } else {\n                this.props.showMessage(\"Error\", 'Ingrese un valor para la ubicación del archivo que debe ser menor a 1001 caracteres.', true, false, {});\n            }\n        } else {\n            this.props.showMessage(\"Error\", 'Ingrese un nombre el archivo que debe ser menor a 101 caracteres.', true, false, {});\n        }\n    }\n\n    guardarVariablesModificar () {\n        let transaction1 = new sql.Transaction( this.props.pool );\n        transaction1.begin(err => {\n            var rolledBack = false;\n            transaction1.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            let request = new sql.Request(transaction1);\n            request.query(\"DELETE FROM ExcelVariables WHERE excelArchivoID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    this.props.showMessage(\"Error\", 'Error al eliminar variables al modificar.', true, false, {});\n                    if (!rolledBack) {\n                        transaction1.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction1.commit(err => {\n                    });\n                }\n            });\n        });\n        var self = this;\n        setTimeout(function() {\n            for (var i = 0; i < self.state.variables.length; i++) {\n                let nombreHoja = self.state.variables[i].nombreHoja;\n                let nombre = self.state.variables[i].nombre;\n                let idFormula = this.state.variables[i].idFormula;\n                let descripcion = this.state.variables[i].descripcion;\n                let operacion = self.state.variables[i].operacion;\n                let celdas = self.state.variables[i].celdas;\n                let tipo = self.state.variables[i].tipo;\n                let periodicidad = self.state.variables[i].periodicidad;\n                let fechaInicioCalculo = self.state.variables[i].fechaInicioCalculo;\n                let responsable = self.state.variables[i].responsable;\n                let categoriaVariable = this.state.variables[i].categoriaVariable;\n                let guardarVariable = self.state.variables[i].guardar;\n                let transaction = new sql.Transaction( self.props.pool );\n                transaction.begin(err => {\n                    var rolledBack = false;\n                    transaction.on('rollback', aborted => {\n                        rolledBack = true;\n                    });\n                    let request = new sql.Request(transaction);\n                    request.query(\"insert into ExcelVariables (excelArchivoID, nombreHoja, nombre, idFormula, descripcion, operacion, celdas, tipo, periodicidad, fechaInicioCalculo, responsable, categoriaVariable, guardar) values (\"+self.props.idVariable+\", '\"+nombreHoja+\"','\"+nombre+\"', '\"+idFormula+\"', '\"+descripcion+\"',' \"+operacion+\"', '\"+celdas+\"', '\"+tipo+\"', '\"+periodicidad+\"', '\"+fechaInicioCalculo.getFullYear()+\"-\"+(fechaInicioCalculo.getMonth()+1)+\"-\"+fechaInicioCalculo.getDate()+\"', '\"+responsable+\"', '\"+categoriaVariable+\"', '\"+guardarVariable+\"')\", (err, result) => {\n                        if (err) {\n                            console.log(err);\n                            if (!rolledBack) {\n                                transaction.rollback(err => {\n                                });\n                            }\n                        } else {\n                            transaction.commit(err => {\n                                if(i == self.state.variables.length-1) {\n                                    self.traerArchivo();\n                                    self.getExcel();\n                                    self.props.getExcel();\n                                }\n                                if(agregoVariable) {\n                                    self.verificarSiExisteExcelEnResultadosHistoricosModificar(nombre);\n                                }\n                            });\n                        }\n                    });\n                }); // fin transaction\n            };\n        }, 500);\n    }\n\n    traerArchivoID () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select top 1 * from ExcelArchivos order by ID desc\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    this.props.showMessage(\"Error\", 'Error al seleccionar ID de variable.', true, false, {});\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.guardarVariablesNuevas(result.recordset[0].ID);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    guardarVariablesNuevas (archivoExcelID) {\n        for (let i = 0; i < this.state.variables.length; i++) {\n            let nombreHoja = this.state.variables[i].nombreHoja;\n            let nombre = this.state.variables[i].nombre;\n            let idFormula = this.state.variables[i].idFormula;\n            let descripcion = this.state.variables[i].descripcion;\n            let operacion = this.state.variables[i].operacion;\n            let celdas = this.state.variables[i].celdas;\n            let tipo = this.state.variables[i].tipo;\n            let periodicidad = this.state.variables[i].periodicidad;\n            let fechaInicioCalculo = this.state.variables[i].fechaInicioCalculo;\n            let responsable = this.state.variables[i].responsable;\n            let categoriaVariable = this.state.variables[i].categoriaVariable;\n            let guardarVariable = this.state.variables[i].guardar;\n            const transaction = new sql.Transaction( this.props.pool );\n            transaction.begin(err => {\n                var rolledBack = false;\n                transaction.on('rollback', aborted => {\n                    rolledBack = true;\n                });\n                const request = new sql.Request(transaction);\n                request.query(\"insert into ExcelVariables (excelArchivoID, nombreHoja, nombre, idFormula, descripcion, operacion, celdas, tipo, periodicidad, fechaInicioCalculo, responsable, categoriaVariable, guardar) values (\"+archivoExcelID+\", '\"+nombreHoja+\"', '\"+nombre+\"', '\"+idFormula+\"', '\"+descripcion+\"',' \"+operacion+\"', '\"+celdas+\"', '\"+tipo+\"', '\"+periodicidad+\"', '\"+fechaInicioCalculo.getFullYear()+\"-\"+(fechaInicioCalculo.getMonth()+1)+\"-\"+fechaInicioCalculo.getDate()+\"', '\"+responsable+\"', '\"+categoriaVariable+\"', '\"+guardarVariable+\"')\", (err, result) => {\n                    if (err) {\n                        console.log(err);\n                        if (!rolledBack) {\n                            transaction.rollback(err => {\n                            });\n                        }\n                    } else {\n                        transaction.commit(err => {\n                            if(i == this.state.variables.length-1) {\n                                this.props.actualizarIDVariableModificada(\"excel\");\n                                this.getExcel();\n                                this.props.getExcel();\n                            }\n                            if(agregoVariable) {\n                                this.verificarSiExisteExcelEnResultadosHistoricosModificar(this.state.variables[i]);\n                            }\n                        });\n                    }\n                });\n            }); // fin transaction\n        };\n    }\n\n    crearVariable () {\n        var nombre = $(\"#nombreVariable\").val();\n        var idFormula = $(\"#idFormula\").val();\n        var descripcion = $(\"#descripcionVariable\").val();\n        var operacion = $(\"#operacion\").val();\n        var celdas = $(\"#celdasVariable\").val();\n        var hoja = $(\"#hojaExcelVariable\").val();\n        var tipo = $(\"#tipoVariable\").val();\n        var guardarVariable;\n        if ($(\"#guardarVariable\").is(':checked'))\n            guardarVariable = true;\n        else\n            guardarVariable = false;\n        var periodicidad = $(\"#periodicidad\").val();\n        var fecha;\n        if(periodicidad.localeCompare(\"-1\") == 0)\n            fecha = new Date(1964, 4, 28);\n        else\n            fecha = $(\"#fecha\").datepicker('getDate');\n        var responsable = $(\"#responsable\").val();\n        var categoriaVariable = $(\"#categoriaVariable\").val();\n        if(nombre.length > 0 && nombre.length < 501) {\n            if(idFormula.length > 0 && idFormula.length < 101) {\n                if(descripcion.length < 701) {\n                    if(!this.tieneEspaciosEnBlanco(idFormula)) {\n                        if(this.verificarNoExisteNombreVar(idFormula)) {\n                            if(operacion.length > 0 && operacion.length < 31) {\n                                if(celdas.length > 0 && celdas.length < 101) {\n                                    if(hoja.length > 0 && hoja.length < 201) {\n                                        if(tipo.length > 0 && tipo.length < 31) {\n                                            if(periodicidad.length > 0 && periodicidad.length < 51) {\n                                                if(this.isValidDate(fecha)) {\n                                                    if(responsable.length > 0 && responsable.length < 101) {\n                                                        if(categoriaVariable.length < 101) {\n                                                            var copyTemp = [...this.state.variables];\n                                                            var nuevaVar = {nombreHoja: hoja, nombre: nombre, operacion: operacion, celdas: celdas, tipo: tipo , periodicidad: periodicidad, fechaInicioCalculo: fecha, responsable: responsable, categoriaVariable: categoriaVariable, guardar: guardarVariable};\n                                                            copyTemp.push(nuevaVar);\n                                                            var copyTempPeriodicidad = [...this.state.valoresPeriodicidad];\n                                                            copyTempPeriodicidad.push(periodicidad);\n                                                            this.setState({\n                                                                variables: copyTemp,\n                                                                valoresPeriodicidad: copyTempPeriodicidad\n                                                            });\n\n                                                            nombreVariable = '';\n                                                            idFormula = '';\n                                                            descripcionVariable = '';\n                                                            operacion = '';\n                                                            hojaExcel = '';\n                                                            tipoVariable = '';\n                                                            celdasVariable = '';\n                                                            periodicidadVariable = '';\n                                                            responsableVariable = '';\n                                                            categoriaVariable = '';\n\n                                                            $(\"#nombreVariable\").val(\"\");\n                                                            $(\"#idFormula\").val(\"\");\n                                                            $(\"#descripcionVariable\").val(\"\");\n                                                            $(\"#operacion\").val(\"ASIG\");\n                                                            $(\"#hojaExcelVariable\").val(this.state.hojas[0]);\n                                                            $(\"#tipoVariable\").val(\"numero\");\n                                                            $(\"#celdasVariable\").val(\"\");\n                                                            //$(\"#periodicidad\").val(\"\");\n                                                            $(\"#responsable\").val(\"-1\");\n                                                            $(\"#categoriaVariable\").val(\"\");\n                                                            agregoVariable = true;\n                                                        } else {\n                                                            this.props.showMessage(\"Error\", 'Ingrese un valor para el valor de categoria de variable que debe ser menor a 101 caracteres.', true, false, {});\n                                                        }\n                                                    } else {\n                                                        this.props.showMessage(\"Error\", 'Ingrese un valor para el valor de responsable que debe ser menor a 101 caracteres.', true, false, {});\n                                                    }\n                                                } else {\n                                                    this.props.showMessage(\"Error\", 'Ingrese un valor para el valor de inicio de cálculo.', true, false, {});\n                                                }\n                                            } else {\n                                                this.props.showMessage(\"Error\", 'Ingrese un valor para el valor de periodicidad que debe ser menor a 51 caracteres.', true, false, {});\n                                            }\n                                        } else {\n                                            this.props.showMessage(\"Error\", 'Ingrese un valor para el valor de tipo de variable que debe ser menor a 31 caracteres.', true, false, {});\n                                        }\n                                    } else {\n                                        this.props.showMessage(\"Error\", 'Ingrese un valor para el valor de hoja de excel que debe ser menor a 201 caracteres.', true, false, {});\n                                    }\n                                } else {\n                                    this.props.showMessage(\"Error\", 'Ingrese un valor para el valor de celdas que debe ser menor a 101 caracteres.', true, false, {});\n                                }\n                            } else {\n                                this.props.showMessage(\"Error\", 'Ingrese un valor para el valor de operación que debe ser menor a 31 caracteres.', true, false, {});\n                            }\n                        } else {\n                            this.props.showMessage(\"Error\", 'El identificador de la variable en fórmula no debe contener espacios en blanco.', true, false, {});\n                        }\n                    } else {\n                        this.props.showMessage(\"Error\", 'El identificador de la variable en fórmula debe ser único.', true, false, {});\n                    }\n                } else {\n                    this.props.showMessage(\"Error\", 'La descripción de la variable debe ser menor a 701 caracteres.', true, false, {});\n                }\n            } else {\n                this.props.showMessage(\"Error\", 'Ingrese un valor para el identificador de la variable en fórmula que debe ser menor a 101 caracteres.', true, false, {});\n            }\n        } else {\n            this.props.showMessage(\"Error\", 'Ingrese un valor para el nombre de la variable que debe ser menor a 501 caracteres.', true, false, {});\n        }\n    }\n\n    updateVariable (index) {\n        if($(\"#nombreVariable\"+index).length > 0 && $(\"#nombreVariable\"+index).length < 501) {\n            if($(\"#idFormula\"+index).length > 0 && $(\"#idFormula\"+index).length < 101) {\n                if($(\"#descripcionVariable\"+index).length < 701) {\n                    if($(\"#operacion\"+index).val().length > 0 && $(\"#operacion\"+index).val().length < 31) {\n                        if($(\"#celdasVariable\"+index).length > 0 && $(\"#celdasVariable\"+index).length < 101) {\n                            if($(\"#hojaExcelVariable\"+index).length > 0 && $(\"#hojaExcelVariable\"+index).length < 201) {\n                                if($(\"#tipoVariable\"+index).val().length > 0 && $(\"#tipoVariable\"+index).val().length < 31) {\n                                    if($(\"#periodicidad\"+index).val().length > 0 && $(\"#periodicidad\"+index).val().length < 51) {\n                                        var fecha;\n                                        if($(\"#periodicidad\"+index).val().localeCompare(\"-1\") == 0)\n                                            fecha = new Date(1964, 4, 28);\n                                        else\n                                            fecha = $(\"#fecha\"+index).datepicker('getDate');\n                                        if(this.isValidDate(fecha)) {\n                                            if($(\"#responsable\"+index).val().length > 0 && $(\"#responsable\"+index).val().length < 101) {\n                                                if($(\"#categoriaVariable\"+index).val().length < 101) {\n                                                    if(this.verificarNoExisteNombreVarUpdate($(\"#idFormula\"+index).val(), index)) {\n                                                        if(!this.tieneEspaciosEnBlanco($(\"#idFormula\"+index).val())) {\n                                                            var copyTemp = [...this.state.variables];\n                                                            copyTemp[index].nombre = $(\"#nombreVariable\"+index).val();\n                                                            copyTemp[index].idFormula = $(\"#idFormula\"+index).val();\n                                                            copyTemp[index].descripcion = $(\"#descripcionVariable\"+index).val();\n                                                            copyTemp[index].operacion = $(\"#operacion\"+index).val();\n                                                            copyTemp[index].celdas = $(\"#celdasVariable\"+index).val();\n                                                            copyTemp[index].nombreHoja = $(\"#hojaExcelVariable\"+index).val();\n                                                            copyTemp[index].tipo = $(\"#tipoVariable\"+index).val();\n                                                            copyTemp[index].periodicidad = $(\"#periodicidad\"+index).val();\n                                                            copyTemp[index].fechaInicioCalculo = fecha;\n                                                            copyTemp[index].responsable = $(\"#responsable\"+index).val();\n                                                            copyTemp[index].categoriaVariable = $(\"#categoriaVariable\"+index).val();\n                                                            var guardarVariable;\n                                                            if ($(\"#guardarVariable\"+index).is(':checked'))\n                                                                guardarVariable = true;\n                                                            else\n                                                                guardarVariable = false;\n                                                            var copyTempPeriodicidad = [...this.state.valoresPeriodicidad];\n                                                            copyTempPeriodicidad[index] = $(\"#periodicidad\"+index).val();\n                                                            copyTemp[index].guardar = guardarVariable;\n                                                            this.setState({\n                                                                variables: copyTemp,\n                                                                valoresPeriodicidad: copyTempPeriodicidad\n                                                            });\n                                                            agregoVariable = true;\n                                                            this.props.showSuccesMessage(\"Éxito\", 'Variable Modificada.');\n                                                        } else {\n                                                            this.props.showMessage(\"Error\", 'El identificador de la variable en fórmula no debe contener espacios en blanco.', true, false, {});\n                                                        }\n                                                    } else {\n                                                        this.props.showMessage(\"Error\", 'El identificador de la variable en fórmula debe ser único.', true, false, {});\n                                                    }\n                                                } else {\n                                                    this.props.showMessage(\"Error\", 'Ingrese un valor para el valor de categoria de variable que debe ser menor a 101 caracteres.', true, false, {});\n                                                }\n                                            } else {\n                                                this.props.showMessage(\"Error\", 'Ingrese un valor para el valor de responsable que debe ser menor a 101 caracteres.', true, false, {});\n                                            }\n                                        } else {\n                                            this.props.showMessage(\"Error\", 'Ingrese un valor para el valor de inicio de cálculo.', true, false, {});\n                                        }\n                                    } else {\n                                        this.props.showMessage(\"Error\", 'Ingrese un valor para el valor de periodicidad que debe ser menor a 51 caracteres.', true, false, {});\n                                    }\n                                } else {\n                                    this.props.showMessage(\"Error\", 'Ingrese un valor para el valor de tipo de variable que debe ser menor a 31 caracteres.', true, false, {});\n                                }\n                            } else {\n                                this.props.showMessage(\"Error\", 'Ingrese un valor para el valor de hoja de excel que debe ser menor a 201 caracteres.', true, false, {});\n                            }\n                        } else {\n                            this.props.showMessage(\"Error\", 'Ingrese un valor para el valor de celdas que debe ser menor a 101 caracteres.', true, false, {});\n                        }\n                    } else {\n                        this.props.showMessage(\"Error\", 'Ingrese un valor para el valor de operación que debe ser menor a 31 caracteres.', true, false, {});\n                    }\n                } else {\n                    this.props.showMessage(\"Error\", 'La descripción de la variable debe ser menor a 701 caracteres.', true, false, {});\n                }\n            } else {\n                this.props.showMessage(\"Error\", 'Ingrese un valor para el identificador de la variable en fórmula que debe ser menor a 101 caracteres.', true, false, {});\n            }\n        } else {\n            this.props.showMessage(\"Error\", 'Ingrese un valor para el nombre de la variable que debe ser menor a 501 caracteres.', true, false, {});\n        }\n    }\n\n    deleteVariable (index) {\n        var copyTemp = [...this.state.variables];\n        copyTemp.splice(index, 1);\n        this.setState({\n            variables: copyTemp\n        });\n        agregoVariable = true;\n        this.props.showSuccesMessage(\"Éxito\", 'Variable Eliminada.');\n    }\n\n    eliminarVarForma () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"DELETE FROM FormasVariables WHERE ID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    eliminarVariable () {\n        this.props.limpiarArreglos();\n        $(\"#nombreFuenteDato\").val(\"\");\n        $(\"#descripcionFuenteDato\").val(\"\");\n        const transaction1 = new sql.Transaction( this.props.pool );\n        transaction1.begin(err => {\n            var rolledBack = false;\n            transaction1.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request1 = new sql.Request(transaction1);\n            request1.query(\"DELETE FROM Variables WHERE ID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction1.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction1.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction1\n        const transaction2 = new sql.Transaction( this.props.pool );\n        transaction2.begin(err => {\n            var rolledBack = false;\n            transaction2.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request2 = new sql.Request(transaction2);\n            request2.query(\"DELETE FROM VariablesCampos WHERE variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction2.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction2.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction2\n        const transaction3 = new sql.Transaction( this.props.pool );\n        transaction3.begin(err => {\n            var rolledBack = false;\n            transaction3.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request3 = new sql.Request(transaction3);\n            request3.query(\"DELETE FROM FormulasVariablesCampos WHERE variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction3.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction3.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction3\n        const transaction4 = new sql.Transaction( this.props.pool );\n        transaction4.begin(err => {\n            var rolledBack = false;\n            transaction4.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request4 = new sql.Request(transaction4);\n            request4.query(\"DELETE FROM ElementoFormulasVariablesCampos WHERE variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction4.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction4.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction4\n        const transaction5 = new sql.Transaction( this.props.pool );\n        transaction5.begin(err => {\n            var rolledBack = false;\n            transaction5.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request5 = new sql.Request(transaction5);\n            request5.query(\"DELETE FROM SegmentoReglasVariables WHERE variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction5.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction5.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction5\n        const transaction6 = new sql.Transaction( this.props.pool );\n        transaction6.begin(err => {\n            var rolledBack = false;\n            transaction6.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request6 = new sql.Request(transaction6);\n            request6.query(\"DELETE FROM ReglasVariables WHERE variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction6.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction6.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction6\n        const transaction7 = new sql.Transaction( this.props.pool );\n        transaction7.begin(err => {\n            var rolledBack = false;\n            transaction7.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request7 = new sql.Request(transaction7);\n            request7.query(\"delete from InstruccionSQL WHERE variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction7.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction7.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction7\n        const transaction8 = new sql.Transaction( this.props.pool );\n        transaction8.begin(err => {\n            var rolledBack = false;\n            transaction8.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request8 = new sql.Request(transaction8);\n            request8.query(\"delete from InstruccionSQLCampos where variableID = \"+this.props.idVariable, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        contadorObjetosGuardados++;\n                        transaction8.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction8.commit(err => {\n                        //this.props.terminoCrearCampo(variable, variableCampo);\n                    });\n                }\n            });\n        }); // fin transaction8\n    }\n\n    getVariables() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from Variables\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        variables = result.recordset;\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getExcel() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ExcelVariables\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        excel = result.recordset;\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getFormas() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from FormasVariables\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        formas = result.recordset;\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    verificarNoExisteNombreVar (idFormula) {\n        var noExiste = true;\n        for (var i = 0; i < variables.length; i++) {\n            if (variables[i].idFormula.toLowerCase().localeCompare(idFormula.toLowerCase()) == 0) {\n                noExiste = false;\n                break;\n            }\n        };\n        if(noExiste) {\n            for (var i = 0; i < excel.length; i++) {\n                if(this.props.tipoVariableOriginal.localeCompare(\"excel\") == 0) {\n                    if (excel[i].idFormula.toLowerCase().localeCompare(idFormula.toLowerCase()) == 0 && excel[i].ID != this.props.idVariable) {\n                        noExiste = false;\n                        break;\n                    }\n                } else {\n                    if (excel[i].idFormula.toLowerCase().localeCompare(idFormula.toLowerCase()) == 0) {\n                        noExiste = false;\n                        break;\n                    }\n                }\n            };\n        }\n        if(noExiste) {\n            for (var i = 0; i < formas.length; i++) {\n                if (formas[i].idFormula.toLowerCase().localeCompare(idFormula.toLowerCase()) == 0) {\n                    noExiste = false;\n                    break;\n                }\n            };\n        }\n        return noExiste;\n    }\n\n    verificarNoExisteNombreVarUpdate (idFormula, index) {\n        var noExiste = true;\n        for (var i = 0; i < variables.length; i++) {\n            if (variables[i].idFormula.toLowerCase().localeCompare(idFormula.toLowerCase()) == 0) {\n                noExiste = false;\n                break;\n            }\n        };\n        if(noExiste) {\n            for (var i = 0; i < this.state.variables.length; i++) {\n                if (this.state.variables[i].idFormula.toLowerCase().localeCompare(idFormula.toLowerCase()) == 0 && index != i) {\n                    noExiste = false;\n                    break;\n                }\n            };\n        }\n        if(noExiste) {\n            for (var i = 0; i < formas.length; i++) {\n                if (formas[i].idFormula.toLowerCase().localeCompare(idFormula.toLowerCase()) == 0) {\n                    noExiste = false;\n                    break;\n                }\n            };\n        }\n        return noExiste;\n    }\n\n    actualizarPeriodicidad () {\n        var periodicidad = $(\"#periodicidad\").val();\n        this.setState({\n            valorPeriodicidad: periodicidad\n        }, this.cargarDatePicker );\n    }\n\n    cargarDatePicker () {\n        $('#fecha').datepicker({\n            format: \"dd-mm-yyyy\",\n            todayHighlight: true,\n            viewMode: \"days\", \n            minViewMode: \"days\",\n            language: 'es'\n        });\n    }\n\n    actualizarPeriodicidadUpdate (index) {\n        var periodicidad = $(\"#periodicidad\"+index).val();\n        var copyTempPeriodicidad = [...this.state.valoresPeriodicidad];\n        copyTempPeriodicidad[index] = periodicidad;\n        this.setState({\n            valorPeriodicidad: periodicidad,\n            valoresPeriodicidad: copyTempPeriodicidad\n        });\n    }\n\n    inicializarFecha (index, fecha) {\n        if(this.state.valoresPeriodicidad[index].localeCompare(\"-1\") != 0) {\n            setTimeout(function () {\n                $('#fecha'+index).datepicker({\n                    format: \"dd-mm-yyyy\",\n                    todayHighlight: true,\n                    viewMode: \"days\", \n                    minViewMode: \"days\",\n                    language: 'es'\n                });\n                if(fecha.getFullYear() == 1964 && fecha.getMonth() == 4 && fecha.getDate() == 28) {\n                    //\n                } else {\n                    console.log('YEAAAH')\n                    $(\"#fecha\"+index).datepicker(\"setDate\", fecha);\n                }\n            }, 500);\n            return true;\n        }\n        return false;\n    }\n\n    isValidDate (fecha) {\n        if (Object.prototype.toString.call(fecha) === \"[object Date]\") {\n            if (isNaN(fecha.getTime())) {\n                return false;\n            } else {\n                return true;\n            }\n        } else {\n            return false;\n        }\n    }\n    \n    verificarSiExisteExcelEnResultadosHistoricosModificar (variable) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ResultadosNombreVariables where nombreVariable = '\"+variable.nombre+\"' and finVigencia = '1964-05-28'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if (result.recordset.length == 0) {\n                            //this.crearTablaDeResultadoNombreModificar(variable);\n                        } else {\n                            this.modificarResultadosNombre(variable, result.recordset[0].inicioVigencia);\n                        }\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    crearTablaDeResultadoNombreModificar (variable) {\n        //NOMBRE TABLA: NOMBREVARIABLE_AÑOVIGENCIA_MESVIGENCIA_DIAVIGENCIA_HORAVIGENCIA_MINUTOSVIGENCIA_SEGUNDOSVIGENCIA\n        //VIGENCIA: DIA CREACION\n        let hoy = new Date();\n        var textoCreacionTabla = 'CREATE TABLE '+variable.nombre+'_'+hoy.getFullYear()+'_'+(hoy.getMonth()+1)+'_'+hoy.getDate()+'_'+hoy.getHours()+'_'+hoy.getMinutes()+'_'+hoy.getSeconds()+' ( ID int IDENTITY(1,1) PRIMARY KEY, ';\n        for (var i = 0; i < variable.variables.length; i++) {\n            if(i != 0)\n                textoCreacionTabla += ', ';\n            if(variable.variables[i].tipo.localeCompare(\"numero\") == 0) {\n                textoCreacionTabla += variable.variables[i].nombre+' decimal(22,4)';\n            } else if(variable.variables[i].tipo.localeCompare(\"varchar\") == 0) {\n                textoCreacionTabla += variable.variables[i].nombre+' varchar(1000)';\n            } else if(variable.variables[i].tipo.localeCompare(\"bit\") == 0) {\n                textoCreacionTabla += variable.variables[i].nombre+' bit';\n            } else if(variable.variables[i].tipo.localeCompare(\"date\") == 0) {\n                textoCreacionTabla += variable.variables[i].nombre+' date';\n            }\n        };\n        textoCreacionTabla += ', f3ch4Gu4rd4do date )';\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(textoCreacionTabla, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.crearResultadoNombreModificar(variable, hoy);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    crearResultadoNombreModificar (variable, hoy) {\n        let mes = hoy.getMonth()+1;\n        if(mes.toString().length == 1)\n            mes = '0'+mes;\n        let dia = hoy.getDate();\n        if(dia.toString().length == 1)\n            dia = '0'+dia;\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"insert into ResultadosNombreVariables (nombreVariable, inicioVigencia, finVigencia) values ('\"+variable.nombre+\"', '\"+hoy.getFullYear()+'-'+mes+'-'+dia+\" \"+hoy.getHours()+\":\"+hoy.getMinutes()+\":\"+hoy.getSeconds()+\"', '1964-05-28')\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.verificarPeriodicidadGuardarModificar(variable, \"excel\", hoy);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    modificarResultadosNombre (resultado, variable, hoy)  {\n        let mes = hoy.getMonth()+1;\n        if(mes.toString().length == 1)\n            mes = '0'+mes;\n        let dia = hoy.getDate();\n        if(dia.toString().length == 1)\n            dia = '0'+dia;\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"update ResultadosNombreVariables set finVigencia = '\"+hoy.getFullYear()+'-'+mes+'-'+dia+\" \"+hoy.getHours()+\"' where ID = \"+resultado.ID, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.crearTablaDeResultadoNombreModificar(variable);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    verificarPeriodicidadGuardarModificar (variable, tabla, hoy) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from PeriodicidadCalculo where variableID = \"+variable.ID+\" and tablaVariable = '\"+tabla+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if(result.recordset.length > 0) {\n                            this.updatePeriodicidadModificar(variable, tabla, hoy);\n                        }/* else {\n                            this.guardarPeriodicidad(variable, tabla, hoy);\n                        }*/\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    updatePeriodicidadModificar (variable, tabla, hoy) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"update PeriodicidadCalculo where variableID = \"+variable.ID+\" and tablaVariable = '\"+tabla+\"' set fechaUltimoCalculo = '1964-05-28'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    /*\n        **************************************\n        **************************************\n                    CALCULO CODIGO\n        **************************************\n        **************************************\n    */\n\n    verificarPeriodicidad () {\n        banderaVariablesATraer = 0;\n        var tempCopyArr = [...this.state.variables];\n        for (var j = 0; j < tempCopyArr.length; j++) {\n            this.traerPeriodicidadVariable(tempCopyArr[j], \"excel\", tempCopyArr, j, null);\n        };\n    }\n\n    addDays (fecha, days) {\n        var date = new Date(fecha);\n        date.setDate(date.getDate() + days);\n        return date;\n    }\n\n    addMonths (fecha, months) {\n        var date = new Date(fecha);\n        date.setMonth(date.getMonth() + months);\n        return date;\n    }\n\n    addYears (fecha, years) {\n        var date = new Date(fecha);\n        date.setYear(date.getYear() + years);\n        return date;\n    }\n\n    traerPeriodicidadVariable (variable, tabla, arreglo, indexI, indexJ) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from PeriodicidadCalculo where variableID = \"+variable.ID+\" and tablaVariable = '\"+tabla+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    this.verificarFinPeriodicidad();\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if(result.recordset.length > 0) {\n                            var fechaInicioCalculo = variable.fechaInicioCalculo;\n                            var fechaUltimoCalculo = result.recordset[0].fechaUltimoCalculo;\n                            console.log('fechaInicioCalculo')\n                            console.log(fechaInicioCalculo)\n                            console.log('fechaUltimoCalculo')\n                            console.log(fechaUltimoCalculo)\n                            var tieneUltimoCalculo = false;\n                            console.log('fechaUltimoCalculo.getFullYear() = '+fechaUltimoCalculo.getFullYear())\n                            console.log('fechaUltimoCalculo.getMonth() = '+fechaUltimoCalculo.getMonth())\n                            console.log('fechaUltimoCalculo.getDate() = '+fechaUltimoCalculo.getDate())\n                            //si la fecha es null, realizar calculo (28, 4, 1964) POPS BIRTHDAY\n                            if(fechaUltimoCalculo.getFullYear() != 1964 && fechaUltimoCalculo.getMonth() != 4 && fechaUltimoCalculo.getDate() != 28) {\n                                tieneUltimoCalculo = true;\n                            }\n                            if(!tieneUltimoCalculo) {\n                                if(indexJ != null)\n                                    arreglo[indexI].variables[indexJ].realizarCalculo = true;\n                                else\n                                    arreglo[indexI].realizarCalculo = true;\n                            } else {\n                                var ultimoCalculoVigente = false;\n                                var periodicidad = variable.periodicidad;\n                                var fechaSiguienteCalculo = new Date(fechaInicioCalculo);\n                                console.log('periodicidad')\n                                console.log(periodicidad)\n                                console.log('fechaSiguienteCalculo')\n                                console.log(fechaSiguienteCalculo)\n                                while(fechaSiguienteCalculo.getFullYear() <= fechaUltimoCalculo.getFullYear() && fechaSiguienteCalculo.getMonth() <= fechaUltimoCalculo.getMonth() && fechaSiguienteCalculo.getDate() <= fechaUltimoCalculo.getDate()) {\n                                    if(periodicidad.localeCompare(\"diario\") == 0) {\n                                        fechaSiguienteCalculo = this.addDays(fechaSiguienteCalculo, 1);\n                                    } else if(periodicidad.localeCompare(\"semanal\") == 0) {\n                                        fechaSiguienteCalculo = this.addDays(fechaSiguienteCalculo, 7);\n                                    } else if(periodicidad.localeCompare(\"mensual\") == 0) {\n                                        fechaSiguienteCalculo = this.addMonths(fechaSiguienteCalculo, 1);\n                                    } else if(periodicidad.localeCompare(\"trimestral\") == 0) {\n                                        fechaSiguienteCalculo = this.addMonths(fechaSiguienteCalculo, 3);\n                                    } else if(periodicidad.localeCompare(\"bi-anual\") == 0) {\n                                        fechaSiguienteCalculo = this.addMonths(fechaSiguienteCalculo, 6);\n                                    } else if(periodicidad.localeCompare(\"anual\") == 0) {\n                                        fechaSiguienteCalculo = this.addYears(fechaSiguienteCalculo, 1);\n                                    }\n                                }\n                                console.log('fechaSiguienteCalculo')\n                                console.log(fechaSiguienteCalculo)\n                                var tocaNuevoCalculo = false;\n                                if(periodicidad.localeCompare(\"diario\") == 0) {\n                                    if(fechaSiguienteCalculo.getDate() >= fechaUltimoCalculo.getDate()+1) {\n                                        tocaNuevoCalculo = true;\n                                    }\n                                } else if(periodicidad.localeCompare(\"semanal\") == 0) {\n                                    if(fechaSiguienteCalculo.getDate() >= fechaUltimoCalculo.getDate()+7) {\n                                        tocaNuevoCalculo = true;\n                                    }\n                                } else if(periodicidad.localeCompare(\"mensual\") == 0) {\n                                    if(fechaSiguienteCalculo.getMonth() >= fechaUltimoCalculo.getMonth()+1) {\n                                        tocaNuevoCalculo = true;\n                                    }\n                                } else if(periodicidad.localeCompare(\"trimestral\") == 0) {\n                                    if(fechaSiguienteCalculo.getMonth() >= fechaUltimoCalculo.getMonth()+3) {\n                                        tocaNuevoCalculo = true;\n                                    }\n                                } else if(periodicidad.localeCompare(\"bi-anual\") == 0) {\n                                    if(fechaSiguienteCalculo.getMonth() >= fechaUltimoCalculo.getMonth()+6) {\n                                        tocaNuevoCalculo = true;\n                                    }\n                                } else if(periodicidad.localeCompare(\"anual\") == 0) {\n                                    if(fechaSiguienteCalculo.getFullYear() >= fechaUltimoCalculo.getFullYear()+1) {\n                                        tocaNuevoCalculo = true;\n                                    }\n                                }\n                                if(tocaNuevoCalculo) {\n                                    if(indexJ != null)\n                                        arreglo[indexI].variables[indexJ].realizarCalculo = true;\n                                    else\n                                        arreglo[indexI].realizarCalculo = true;\n                                } else {\n                                    if(indexJ != null)\n                                        arreglo[indexI].variables[indexJ].realizarCalculo = false;\n                                    else\n                                        arreglo[indexI].realizarCalculo = false;\n                                }\n                            }\n                        } else {\n                            if(indexJ != null)\n                                arreglo[indexI].variables[indexJ].realizarCalculo = true;\n                            else\n                                arreglo[indexI].realizarCalculo = true;\n                        }\n                        banderaVariablesATraer++;\n                        this.verificarFinTraerPeriodicidad(arreglo);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    verificarFinTraerPeriodicidad(arreglo) {\n        if(banderaVariablesATraer === this.state.variables.length-1 ) {\n            this.setState({\n                variables: arreglo\n            }, this.crearVariablesExcel );\n        }\n    }\n\n    crearVariablesExcel () {\n        var workbook = null;\n        workbook = XLSX.readFile(this.state.ubicacionArchivo);\n        var verificarSiGuardo = [];\n        if(workbook != null) {\n            for (var j = 0; j < this.state.variables.length; j++) {\n                for (var k = 0; k < workbook.SheetNames.length; k++) {\n                    if (workbook.SheetNames[k].localeCompare(this.state.variables[j].nombreHoja) == 0) {\n                        break;\n                    }\n                };\n                var sheet = workbook.Sheets[workbook.SheetNames[k]];\n                if(sheet != null && this.state.variables[j].realizarCalculo) {\n                    try {\n                        var arregloPosicionesExcel = this.getArregloPosicionesExcel(this.state.variables[j].celdas);\n                        if(arregloPosicionesExcel.length == 1) {\n                            var variable;\n                            if(arregloDeExcel[i].variables[j].tipo.localeCompare('numero') == 0 && sheet[arregloPosicionesExcel[0]].t.localeCompare('n') == 0 && sheet[arregloPosicionesExcel[0]].w.indexOf('/') == -1) {\n                                variable = parseFloat(sheet[arregloPosicionesExcel[0]].v);\n                            } else if(arregloDeExcel[i].variables[j].tipo.localeCompare('bit') == 0 && sheet[arregloPosicionesExcel[0]].t.localeCompare('b') == 0 && sheet[arregloPosicionesExcel[0]].w.indexOf('/') == -1) {\n                                variable = sheet[arregloPosicionesExcel[0]].v;\n                            } else if(arregloDeExcel[i].variables[j].tipo.localeCompare('varchar') == 0 && sheet[arregloPosicionesExcel[0]].t.localeCompare('s') == 0 && sheet[arregloPosicionesExcel[0]].w.indexOf('/') == -1) {\n                                variable = sheet[arregloPosicionesExcel[0]].v;\n                            } else if(arregloDeExcel[i].variables[j].tipo.localeCompare('date') == 0 && (sheet[arregloPosicionesExcel[0]].t.localeCompare('d') == 0 || sheet[arregloPosicionesExcel[0]].t.localeCompare('n') == 0) && sheet[arregloPosicionesExcel[0]].w.indexOf('/') != -1 ) {\n                                variable = new Date(sheet[arregloPosicionesExcel[0]].w);\n                            }\n                            window[this.state.variables[j].nombre] = variable;\n                        } else if(arregloPosicionesExcel.length > 1 && this.state.variables[j].operacion.localeCompare(\"ASIG\") == 0) {\n                            if(this.state.variables[j].tipo.localeCompare('numero') == 0) {\n                                window[this.state.variables[j].nombre] = [];\n                                for (var k = 0; k < arregloPosicionesExcel.length; k++) {\n                                    var variable = parseFloat(sheet[arregloPosicionesExcel[k]].v);\n                                    window[this.state.variables[j].nombre].push(variable);\n                                };\n                            } else if(this.state.variables[j].tipo.localeCompare('bit') == 0) {\n                                window[this.state.variables[j].nombre] = [];\n                                for (var k = 0; k < arregloPosicionesExcel.length; k++) {\n                                    var variable = sheet[arregloPosicionesExcel[k]].v;\n                                    window[this.state.variables[j].nombre].push(variable);\n                                };\n                            } else if(this.state.variables[j].tipo.localeCompare('varchar') == 0) {\n                                window[this.state.variables[j].nombre] = [];\n                                for (var k = 0; k < arregloPosicionesExcel.length; k++) {\n                                    var variable = sheet[arregloPosicionesExcel[k]].v;\n                                    window[this.state.variables[j].nombre].push(variable);\n                                };\n                            } else if(this.state.variables[j].tipo.localeCompare('date') == 0) {\n                                window[this.state.variables[j].nombre] = [];\n                                for (var k = 0; k < arregloPosicionesExcel.length; k++) {\n                                    var variable = new Date(sheet[arregloPosicionesExcel[k]].w);\n                                    window[this.state.variables[j].nombre].push(variable);\n                                };\n                            }\n                        } else if(arregloPosicionesExcel.length > 1) {\n                            if(this.state.variables[j].tipo.localeCompare(\"numero\") == 0 && this.state.variables[j].operacion.localeCompare(\"SUM\") == 0) {\n                                var suma = 0;\n                                for (var k = 0; k < arregloPosicionesExcel.length; k++) {\n                                    var variable = parseFloat(sheet[arregloPosicionesExcel[k]].v);\n                                    suma+=variable;\n                                };\n                                window[this.state.variables[j].nombre] = suma;\n                            } else if(this.state.variables[j].tipo.localeCompare(\"numero\") == 0 && this.state.variables[j].operacion.localeCompare(\"PROM\") == 0) {\n                                var suma = 0;\n                                for (var k = 0; k < arregloPosicionesExcel.length; k++) {\n                                    var variable = parseFloat(sheet[arregloPosicionesExcel[k]].v);\n                                    suma+=variable;\n                                };\n                                var promedio = suma / arregloPosicionesExcel.length;\n                                window[this.state.variables[j].nombre] = promedio;\n                            } else if(this.state.variables[j].operacion.localeCompare(\"MAX\") == 0) {\n                                if(this.state.variables[j].tipo.localeCompare(\"numero\") == 0) {\n                                    var max = 0;\n                                    for (var k = 0; k < arregloPosicionesExcel.length; k++) {\n                                        var variable = parseFloat(sheet[arregloPosicionesExcel[k]].v);\n                                        if(k == 0)\n                                            max = variable;\n                                        if (max < variable) {\n                                            max = variable;\n                                        }\n                                    };\n                                    window[this.state.variables[j].nombre] = max;\n                                }\n                                if(this.state.variables[j].tipo.localeCompare(\"date\") == 0) {\n                                    var max = new Date(1900, 1, 1);\n                                    for (var k = 0; k < arregloPosicionesExcel.length; k++) {\n                                        var variable = new Date(sheet[arregloPosicionesExcel[k]].w);\n                                        if(k == 0)\n                                            max = variable;\n                                        if (max.getTime() < variable.getTime()) {\n                                            max = variable;\n                                        }\n                                    };\n                                    window[this.state.variables[j].nombre] = max;\n                                }\n                            } else if(this.state.variables[j].operacion.localeCompare(\"MIN\") == 0) {\n                                if(this.state.variables[j].tipo.localeCompare(\"numero\") == 0) {\n                                    var min = 0;\n                                    for (var k = 0; k < arregloPosicionesExcel.length; k++) {\n                                        var variable = parseFloat(sheet[arregloPosicionesExcel[k]].v);\n                                        if(k == 0)\n                                            min = variable;\n                                        if (min > variable) {\n                                            min = variable;\n                                        }\n                                    };\n                                    window[this.state.variables[j].nombre] = min;\n                                }\n                                if(this.state.variables[j].tipo.localeCompare(\"date\") == 0) {\n                                    var min = new Date(1900, 1, 1);\n                                    for (var k = 0; k < arregloPosicionesExcel.length; k++) {\n                                        var variable = new Date(sheet[arregloPosicionesExcel[k]].w);\n                                        if(k == 0)\n                                            min = variable;\n                                        if (min.getTime() > variable.getTime()) {\n                                            min = variable;\n                                        }\n                                    };\n                                    window[this.state.variables[j].nombre] = min;\n                                }\n                            } else if(this.state.variables[j].operacion.localeCompare(\"COUNT\") == 0) {\n                                if(this.state.variables[j].tipo.localeCompare(\"numero\") == 0) {\n                                    var count = 0;\n                                    for (var k = 0; k < arregloPosicionesExcel.length; k++) {\n                                        var variable = parseFloat(sheet[arregloPosicionesExcel[k]].v);\n                                        if(!isNaN(variable))\n                                            count++;\n                                    };\n                                    window[this.state.variables[j].nombre] = count;\n                                }\n                                if(this.state.variables[j].tipo.localeCompare(\"date\") == 0) {\n                                    var count = 0;\n                                    for (var k = 0; k < arregloPosicionesExcel.length; k++) {\n                                        var variable = new Date(sheet[arregloPosicionesExcel[k]].w);\n                                        if(this.isValidDate(variable))\n                                            count++;\n                                    };\n                                    window[this.state.variables[j].nombre] = count;\n                                }\n                                if(this.state.variables[j].tipo.localeCompare(\"varchar\") == 0) {\n                                    var count = 0;\n                                    for (var k = 0; k < arregloPosicionesExcel.length; k++) {\n                                        var variable = sheet[arregloPosicionesExcel[k]].v;\n                                        if(variable.length > 0)\n                                            count++;\n                                    };\n                                    window[this.state.variables[j].nombre] = count;\n                                }\n                                if(this.state.variables[j].tipo.localeCompare(\"bit\") == 0) {\n                                    var count = 0;\n                                    for (var k = 0; k < arregloPosicionesExcel.length; k++) {\n                                        var variable = sheet[arregloPosicionesExcel[k]].v;\n                                        if(variable != undefined)\n                                            count++;\n                                    };\n                                    window[this.state.variables[j].nombre] = count;\n                                }\n                            }\n                        }\n                        this.verificarSiExisteExcelEnResultadosHistoricos(this.state.variables[j], verificarSiGuardo);\n                    } catch(err) {\n                        console.log(err.message);\n                        arregloDeErroresExcel.push({nombre: this.state.variables[j].nombre });\n                    }\n                } else {\n                    if(arregloDeExcel[i].variables[j].realizarCalculo) {\n                        arregloDeErroresExcel.push({nombre: this.state.variables[j].nombre });\n                        this.props.showMessage(\"Error\", \"Problema para leer la hoja: \"+arregloDeExcel[i].variables[j].nombreHoja+\".\", true, false, {});\n                    }\n                }\n            };\n        } else {\n            this.props.showMessage(\"Error\", \"Problema para leer archivo: \"+arregloDeExcel[i].ubicacionArchivo+\".\", true, false, {});\n        }\n    }\n\n    getArregloPosicionesExcel (celdas) {\n        var celdaInicial = this.getObjetoLetraNumeroCelda(celdas.split(\":\")[0]);\n        var celdaFinal;\n        if (celdas.indexOf(\":\") >= 0)\n            celdaFinal = this.getObjetoLetraNumeroCelda(celdas.split(\":\")[1]);\n        var arregloPosicionesExcel = [];\n        if(celdaFinal != undefined) {\n            if(celdaInicial.columna.toLowerCase().localeCompare(celdaFinal.columna.toLowerCase()) == 0) {\n                //misma columnas, se recorre para abajo en el archivo\n                var filaInicial = parseInt(celdaInicial.fila);\n                var filaFinal = parseInt(celdaFinal.fila);\n                for (var i = filaInicial; i <= filaFinal; i++) {\n                    arregloPosicionesExcel.push(celdaInicial.columna.toUpperCase()+i);\n                };\n            } else {\n                //misma fila, se recorre horizontal en el archivo\n                var numeroColumnaInicial = this.toColumnNumber(celdaInicial.columna.toUpperCase());\n                var numeroColumnaFinal = this.toColumnNumber(celdaFinal.columna.toUpperCase());\n                for (var i = numeroColumnaInicial; i <= numeroColumnaFinal; i++) {\n                    arregloPosicionesExcel.push(toColumnLetter(i)+celdaInicial.fila);\n                };\n            }\n        } else {\n            //solo se selecciono una celda\n            arregloPosicionesExcel.push(celdaInicial.columna+celdaInicial.fila);\n        }\n        return arregloPosicionesExcel;\n    }\n\n    getObjetoLetraNumeroCelda (celda) {\n        var columna = '';\n        var fila = '';\n        for (var i = 0; i < celda.length; i++) {\n            if ( this.esLetra(celda.charAt(i)) ) {\n                columna += celda.charAt(i);\n            } else {\n                break;\n            }\n        };\n        fila = celda.substring(i);\n        var celdaObjeto = {columna: columna, fila: fila};\n        return celdaObjeto;\n    }\n\n    esLetra (caracter) {\n        if(caracter.toLowerCase().localeCompare(\"a\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"b\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"c\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"d\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"e\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"f\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"g\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"h\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"i\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"j\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"k\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"l\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"m\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"n\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"o\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"p\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"q\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"r\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"s\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"t\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"u\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"v\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"w\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"x\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"y\") == 0) {\n            return true;\n        } else if(caracter.toLowerCase().localeCompare(\"z\") == 0) {\n            return true;\n        }\n    }\n\n    toColumnLetter (num) {\n        for (var ret = '', a = 1, b = 26; (num -= a) >= 0; a = b, b *= 26) {\n            ret = String.fromCharCode(parseInt((num % b) / a) + 65) + ret;\n        }\n        return ret;\n    }\n\n    toColumnNumber (val) {\n        var base = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', i, j, result = 0;\n        for (i = 0, j = val.length - 1; i < val.length; i += 1, j -= 1) {\n            result += Math.pow(base.length, j) * (base.indexOf(val[i]) + 1);\n        }\n        return result;\n    }\n\n    verificarSiExisteExcelEnResultadosHistoricos (variable, verificarSiGuardo) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ResultadosNombreVariables where nombreVariable = '\"+variable.nombre+\"' and finVigencia = '1964-05-28'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if (result.recordset.length == 0) {\n                            this.crearTablaDeResultadoNombreExcel(variable);\n                        } else {\n                            this.guardarResultadosNombreExcel(variable, result.recordset[0].inicioVigencia);\n                        }\n                        if(verificarSiGuardo.length == 0) {\n                            alert(\"Calculo realizado con exito.\");\n                            verificarSiGuardo.push(1);\n                        }\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    crearTablaDeResultadoNombreExcel (variable) {\n        //NOMBRE TABLA: NOMBREVARIABLE_AÑOVIGENCIA_MESVIGENCIA_DIAVIGENCIA_HORAVIGENCIA_MINUTOSVIGENCIA_SEGUNDOSVIGENCIA\n        //VIGENCIA: DIA CREACION\n        let hoy = new Date();\n        var textoCreacionTabla = 'CREATE TABLE '+variable.nombre+'_'+hoy.getFullYear()+'_'+(hoy.getMonth()+1)+'_'+hoy.getDate()+'_'+hoy.getHours()+'_'+hoy.getMinutes()+'_'+hoy.getSeconds()+' ( ID int IDENTITY(1,1) PRIMARY KEY, ';\n        for (var i = 0; i < variable.variables.length; i++) {\n            if(i != 0)\n                textoCreacionTabla += ', ';\n            if(variable.variables[i].tipo.localeCompare(\"numero\") == 0) {\n                textoCreacionTabla += variable.variables[i].nombre+' decimal(22,4)';\n            } else if(variable.variables[i].tipo.localeCompare(\"varchar\") == 0) {\n                textoCreacionTabla += variable.variables[i].nombre+' varchar(1000)';\n            } else if(variable.variables[i].tipo.localeCompare(\"bit\") == 0) {\n                textoCreacionTabla += variable.variables[i].nombre+' bit';\n            } else if(variable.variables[i].tipo.localeCompare(\"date\") == 0) {\n                textoCreacionTabla += variable.variables[i].nombre+' date';\n            }\n        };\n        textoCreacionTabla += ', f3ch4Gu4rd4do date )';\n        console.log('textoCreacionTabla')\n        console.log(textoCreacionTabla)\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(textoCreacionTabla, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        //console.log(\"Tabla \"+variable.nombre+'_'+hoy.getFullYear()+'_'+hoy.getMonth()+'_'+hoy.getDate()+'_'+hoy.getHours()+'_'+hoy.getMinutes()+'_'+hoy.getSeconds()+\" creada.\");\n                        console.log('CREO TABLA');\n                        this.crearResultadoNombreExcel(variable, hoy);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    crearResultadoNombreExcel (variable, hoy) {\n        console.log('INICAR CREAR RESULTADO');\n        let mes = hoy.getMonth()+1;\n        if(mes.toString().length == 1)\n            mes = '0'+mes;\n        let dia = hoy.getDate();\n        if(dia.toString().length == 1)\n            dia = '0'+dia;\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"insert into ResultadosNombreVariables (nombreVariable, inicioVigencia, finVigencia) values ('\"+variable.nombre+\"', '\"+hoy.getFullYear()+'-'+mes+'-'+dia+\" \"+hoy.getHours()+\":\"+hoy.getMinutes()+\":\"+hoy.getSeconds()+\"', '1964-05-28')\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        console.log('GUARDO RESULTADO');\n                        this.guardarResultadosNombreExcel(variable, hoy);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    guardarResultadosNombreExcel (variable, fechaNombreTabla) {\n        let hoy = new Date();\n        var textoInsertPrincipio = 'INSERT INTO '+variable.nombre+'_'+fechaNombreTabla.getFullYear()+'_'+(fechaNombreTabla.getMonth()+1)+'_'+fechaNombreTabla.getDate()+'_'+fechaNombreTabla.getHours()+'_'+fechaNombreTabla.getMinutes()+'_'+fechaNombreTabla.getSeconds()+' ( ';\n        textoInsertPrincipio += variable.nombre;\n        textoInsertPrincipio += ', f3ch4Gu4rd4do ) values ( ';\n        var instruccionSQLBorrar = \"DELETE FROM \"+variable.nombre+\"_\"+fechaNombreTabla.getFullYear()+\"_\"+(fechaNombreTabla.getMonth()+1)+\"_\"+fechaNombreTabla.getDate()+\"_\"+fechaNombreTabla.getHours()+\"_\"+fechaNombreTabla.getMinutes()+\"_\"+fechaNombreTabla.getSeconds()+ \" WHERE f3ch4Gu4rd4do = '\"+hoy.getFullYear()+\"-\"+(hoy.getMonth()+1)+\"-\"+hoy.getDate()+\"' \";\n        this.borrarExcel(instruccionSQLBorrar);\n        if(window[variable.nombre].length == undefined) {\n            var instruccionSQLFinal = textoInsertPrincipio;\n            if(variable.tipo.localeCompare(\"numero\") == 0) {\n                instruccionSQLFinal += window[variable.nombre];\n            } else if(variable.tipo.localeCompare(\"varchar\") == 0) {\n                instruccionSQLFinal += \"'\"+window[variable.nombre]+\"'\";\n            } else if(variable.tipo.localeCompare(\"bit\") == 0) {\n                instruccionSQLFinal += \"'\"+window[variable.nombre]+\"'\";\n            } else if(variable.tipo.localeCompare(\"date\") == 0) {\n                instruccionSQLFinal += \"'\"+window[variable.nombre].getFullYear()+\"-\"+(window[variable.nombre].getMonth()+1)+\"-\"+window[variable.nombre].getDate()+\"'\";\n            }\n            instruccionSQLFinal += \", '\"+hoy.getFullYear()+\"-\"+(hoy.getMonth()+1)+\"-\"+hoy.getDate()+\"' )\";\n            var self = this;\n            setTimeout(function () {\n                self.guardarExcel(instruccionSQLFinal, variable, 'excel', hoy);\n            }, 600);\n        } else {\n            var instruccionSQLFinal = textoInsertPrincipio;\n            for (var i = 0; i < window[variable.nombre].length; i++) {\n                if(i > 0)\n                    instruccionSQLFinal += ', ';\n                if(variable.tipo.localeCompare(\"numero\") == 0) {\n                    instruccionSQLFinal += window[variable.nombre][i];\n                } else if(variable.tipo.localeCompare(\"varchar\") == 0) {\n                    instruccionSQLFinal += \"'\"+window[variable.nombre][i]+\"'\";\n                } else if(variable.tipo.localeCompare(\"bit\") == 0) {\n                    instruccionSQLFinal += \"'\"+window[variable.nombre][i]+\"'\";\n                } else if(variable.tipo.localeCompare(\"date\") == 0) {\n                    instruccionSQLFinal += \"'\"+window[variable.nombre][i].getFullYear()+\"-\"+(window[variable.nombre][i].getMonth()+1)+\"-\"+window[variable.nombre][i].getDate()+\"'\";\n                }\n                instruccionSQLFinal += \", '\"+hoy.getFullYear()+\"-\"+(hoy.getMonth()+1)+\"-\"+hoy.getDate()+\"' )\";\n                var self = this;\n                setTimeout(function () {\n                    self.guardarExcel(instruccionSQLFinal, variable, 'excel', hoy);\n                }, 600);\n            };\n        }\n\n        this.saveBitacora(hoy, \"Usuario: \"+this.props.userName+\" realizo el cálculo para la variable tipo excel: \"+variable.nombre, \"variable\", variable.ID);\n    }\n\n    guardarExcel (instruccionSQL, variable, tabla, hoy) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(instruccionSQL, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if(variable.periodicidad.localeCompare(\"-1\") != 0)\n                            this.verificarPeriodicidadGuardar(variable, tabla, hoy);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    borrarExcel (instruccionSQL) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(instruccionSQL, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    verificarPeriodicidadGuardar (variable, tabla, hoy) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from PeriodicidadCalculo where variableID = \"+variable.ID+\" and tablaVariable = '\"+tabla+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        if(result.recordset.length > 0) {\n                            this.updatePeriodicidad(variable, tabla, hoy);\n                        } else {\n                            this.guardarPeriodicidad(variable, tabla, hoy);\n                        }\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    updatePeriodicidad (variable, tabla, hoy) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"update PeriodicidadCalculo set fechaUltimoCalculo = '\"+hoy.getFullYear()+\"-\"+(hoy.getMonth()+1)+\"-\"+hoy.getDate()+\"' where variableID = \"+variable.ID+\" and tablaVariable = '\"+tabla+\"'\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    guardarPeriodicidad (variable, tabla, hoy) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"insert into PeriodicidadCalculo (variableID, tablaVariable, fechaInicio, fechaUltimoCalculo) values (\"+variable.ID+\", '\"+tabla+\"', '\"+hoy.getFullYear()+\"-\"+(hoy.getMonth()+1)+\"-\"+hoy.getDate()+\"', '\"+hoy.getFullYear()+\"-\"+(hoy.getMonth()+1)+\"-\"+hoy.getDate()+\"') \", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    /*\n        **************************************\n        **************************************\n                FIN CALCULO CODIGO\n        **************************************\n        **************************************\n    */\n\n\n    tieneEspaciosEnBlanco (s) {\n        return /\\s/g.test(s);\n    }\n\n    getUsuarios () {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from Usuarios\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.setState({\n                            usuarios: result.recordset\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    goToTimeline (esExcel, idVariableExcel, nombreVariable, esColeccion) {\n        this.props.changeStateFirstTimeToTrue();\n        this.props.goToTimeline(esExcel, idVariableExcel, nombreVariable, esColeccion);\n    }\n\n    closeModal () {\n        this.setState({\n            showModal: false\n        });\n    }\n\n    actualizarNombreArchivo () {\n        var nombreArchivoN = $(\"#nombreArchivo\").val();\n        nombreArchivo = nombreArchivoN;\n    }\n\n    actualizarNombreVariable () {\n        var nombreVariableN = $(\"#nombreVariable\").val();\n        nombreVariable = nombreVariableN;\n    }\n\n    actualizarIdFormula () {\n        var idFormulaN = $(\"#idFormula\").val();\n        idFormula = idFormulaN;\n    }\n\n    actualizarDescripcionVariable () {\n        var descripcionVariableN = $(\"#descripcionVariable\").val();\n        descripcionVariable = descripcionVariableN;\n    }\n\n    updateOperacion () {\n        var operacionN = $(\"#operacion\").val();\n        operacion = operacionN;\n    }\n\n    updateHojaExcel () {\n        var hojaExcelVariableN = $(\"#hojaExcelVariable\").val();\n        hojaExcelVariable = hojaExcelVariableN;\n    }\n\n    updateTipoVariable () {\n        var tipoVariableN = $(\"#tipoVariable\").val();\n        tipoVariable = tipoVariableN;\n    }\n\n    actualizarCeldasVariable () {\n        var celdasVariableN = $(\"#celdasVariable\").val();\n        celdasVariable = celdasVariableN;\n    }\n\n    actualizarPeriodicidad () {\n        var periodicidadVariableN = $(\"#periodicidadVariable\").val();\n        periodicidadVariable = periodicidadVariableN;\n    }\n\n    actualizarNombreEncargado () {\n        var responsableVariableN = $(\"#responsableVariable\").val();\n        responsableVariable = responsableVariableN;\n    }\n\n    actualizarCategoriaVariable () {\n        var categoriaVariableN = $(\"#categoriaVariable\").val();\n        categoriaVariable = categoriaVariableN;\n    }\n\n    render() {\n        return (\n            <div>\n                <br/>\n                <div className={\"row\"} style={{width: \"100%\"}}>\n                    <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                        <label htmlFor=\"nombreArchivo\" className=\"col-form-label\">Nombre del Archivo:</label>\n                    </div>\n                    <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                        <input id=\"nombreArchivo\" defaultValue={nombreArchivo} onKeyUp={this.actualizarNombreArchivo} type=\"text\" className=\"form-control form-control-sm\"/>\n                    </div>\n                </div>\n                <div className={\"row\"} style={{width: \"100%\"}}>\n                    <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                        <label htmlFor=\"ubicacionArchivo\" className=\"col-form-label\">Ubicación del Archivo:</label>\n                    </div>\n                    <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                        <p className=\"lead\">{this.state.ubicacionArchivo}</p>\n                    </div>\n                </div>\n                <div className={\"text-center\"} style={{width: \"100%\", display: this.props.permision.variable.indexOf(\"E\") > -1 ? \"\" : \"none\"}}>\n                    <a href=\"#\" className=\"btn btn-primary active\" onClick={this.seleccionarArchivo}>Seleccionar Ubicación</a>\n                </div>\n                <br/>\n\n                <div style={{width: \"100%\", display: (this.state.ubicacionArchivo.length > 0 ? \"inline\" : \"none\"), display: this.props.permision.variable.indexOf(\"E\") > -1 ? \"\" : \"none\"}}>\n                    <div className={\"row\"} style={{width: \"100%\"}}>\n                        <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                            <label htmlFor=\"nombreVariable\" className=\"col-form-label\">Nombre de Variable:</label>\n                        </div>\n                        <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                            <input id=\"nombreVariable\" defaultValue={nombreVariable} onKeyUp={this.actualizarNombreVariable} type=\"text\" className=\"form-control form-control-sm\"/>\n                        </div>\n                    </div>\n                    <div className={\"row\"} style={{width: \"100%\"}}>\n                        <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                            <label htmlFor=\"idFormula\" className=\"col-form-label\">Identificador de la Variable en Fórmula</label>\n                        </div>\n                        <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                            <input id=\"idFormula\" defaultValue={idFormula} onKeyUp={this.actualizarIdFormula} type=\"text\" className=\"form-control form-control-sm\"/>\n                        </div>\n                    </div>\n                    <div className={\"row\"} style={{width: \"100%\"}}>\n                        <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3\"}>\n                            <label htmlFor=\"descripcionVariable\" className=\"col-form-label\">Descripción de Variable:</label>\n                        </div>\n                        <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9\"}>\n                            <textarea defaultValue={descripcionVariable} onKeyUp={this.actualizarDescripcionVariable} className=\"form-control\" id=\"descripcionVariable\" rows=\"3\"></textarea>\n                        </div>\n                    </div>\n                    <div className={\"row\"} style={{width: \"100%\"}}>\n                        <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                            <label htmlFor=\"operacion\" className=\"col-form-label\">Tipo:</label>\n                        </div>\n                        <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                            <select id=\"operacion\" className=\"form-control\" defaultValue={operacion} onChange={this.updateOperacion}>\n                                <option value=\"ASIG\">Asignar</option>\n                                <option value=\"SUM\">Sumar</option>\n                                <option value=\"PROM\">Promedio</option>\n                                <option value=\"MAX\">Máximo</option>\n                                <option value=\"MIN\">Mínimo</option>\n                                <option value=\"COUNT\">Contar</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div className={\"row\"} style={{width: \"100%\"}}>\n                        <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                            <label htmlFor=\"hojaExcelVariable\" className=\"col-form-label\">Hoja de Excel:</label>\n                        </div>\n                        <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                            <select id=\"hojaExcelVariable\" className=\"form-control\" defaultValue={hojaExcel} onChange={this.updateHojaExcel}>\n                                {this.state.hojas.map((hoja, i) =>\n                                    <option value={hoja} key={hoja}>{hoja}</option>\n                                )}\n                            </select>\n                        </div>\n                    </div>\n                    <div className={\"row\"} style={{width: \"100%\"}}>\n                        <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                            <label htmlFor=\"tipoVariable\" className=\"col-form-label\">Tipo de Variable en Celda:</label>\n                        </div>\n                        <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                            <select id=\"tipoVariable\" className=\"form-control\" defaultValue={tipoVariable} onChange={this.updateTipoVariable}>\n                                <option value=\"numero\">Número</option>\n                                <option value=\"varchar\">Cadena</option>\n                                <option value=\"date\">Fecha</option>\n                                <option value=\"bit\">Booleano</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div className={\"row\"} style={{width: \"100%\"}}>\n                        <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                            <label htmlFor=\"celdasVariable\" className=\"col-form-label\">Celdas de Variable:</label>\n                        </div>\n                        <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                            <input id=\"celdasVariable\" defaultValue={celdasVariable} onKeyUp={this.actualizarCeldasVariable} type=\"text\" className=\"form-control form-control-sm\"/>\n                        </div>\n                    </div>\n                    <div className={\"row\"} style={{width: \"100%\"}}>\n                        <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                            <label htmlFor=\"periodicidad\" className=\"col-form-label\">Periodicidad</label>\n                        </div>\n                        <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                            <select id=\"periodicidad\" className=\"form-control\" defaultValue={periodicidadVariable} onChange={this.actualizarPeriodicidad}>\n                                <option value=\"-1\">Ninguno</option>\n                                {periodicidad.map((periodicidad, i) =>\n                                    <option value={periodicidad.nombre} key={periodicidad.nombre}>{periodicidad.nombre}</option>\n                                )}\n                            </select>\n                        </div>\n                    </div>\n                    {\n                        this.state.valorPeriodicidad.localeCompare(\"-1\") != 0\n                        ?\n                            <div className={\"row\"} style={{width: \"100%\"}}>\n                                <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                    <label htmlFor=\"fecha\" className=\"col-form-label\">Fecha de Inicio de Cálculo:</label>\n                                </div>\n                                <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                                    <input type=\"text\" className=\"form-control\" id=\"fecha\"/>\n                                </div>\n                            </div>\n                        : null\n                    }\n                    <div className={\"row\"} style={{width: \"100%\"}}>\n                        <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                            <label htmlFor=\"responsable\" className=\"col-form-label\">Nombre Encargado</label>\n                        </div>\n                        <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                            <select id=\"responsable\" className=\"form-control\" defaultValue={responsableVariable} onChange={this.actualizarNombreEncargado}>\n                                <option value=\"-1\">Ninguno</option>\n                                {this.state.usuarios.map((usuario, i) =>\n                                    <option value={usuario.ID} key={usuario.ID}>{usuario.usuario}</option>\n                                )}\n                            </select>\n                        </div>\n                    </div>\n                    <div className={\"row\"} style={{width: \"100%\"}}>\n                        <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                            <label htmlFor=\"categoriaVariable\" className=\"col-form-label\">Categoría de Variable</label>\n                        </div>\n                        <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                            <input id=\"categoriaVariable\" defaultValue={categoriaVariable} onChange={this.actualizarCategoriaVariable} type=\"text\" className=\"form-control form-control-sm\"/>\n                        </div>\n                    </div>\n                    <div className={\"row\"} style={{width: \"100%\"}}>\n                        <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                            <label htmlFor=\"guardarVariable\" className=\"col-form-label\">Guardar Valores Obtenidos en Base de Datos</label>\n                        </div>\n                        <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                            <br/>\n                            <div className={\"switch-button switch-button-yesno\"} style={{margin:\"0 auto\", display:\"block\"}}>\n                                <input type=\"checkbox\" defaultChecked name={\"guardarVariable\"} id={\"guardarVariable\"}/><span>\n                                <label htmlFor={\"guardarVariable\"}></label></span>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={\"text-center\"} style={{width: \"100%\"}}>\n                        <a href=\"#\" className=\"btn btn-success active\" onClick={this.crearVariable}>Crear Variable</a>\n                    </div>\n                    <br/>\n                </div>\n\n                {this.state.variables.map((variable, i) => (\n                    <div key={variable.nombre+i} style={{width: \"100%\"}}>\n                        <hr/>\n                        <div className={\"row\"} style={{width: \"100%\"}}>\n                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                <label htmlFor={\"nombreVariable\"+i} className=\"col-form-label\">Nombre de Variable:</label>\n                            </div>\n                            <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                                <input id={\"nombreVariable\"+i} type=\"text\" defaultValue={variable.nombre} className=\"form-control form-control-sm\"/>\n                            </div>\n                        </div>\n                        <div className={\"row\"} style={{width: \"100%\"}}>\n                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                <label htmlFor={\"idFormula\"+i} className=\"col-form-label\">Identificador de la Variable en Fórmula</label>\n                            </div>\n                            <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                                <input id={\"idFormula\"+i} defaultValue={this.props.idFormula} onKeyUp={this.props.actualizarIdFormula} type=\"text\" className=\"form-control form-control-sm\"/>\n                            </div>\n                        </div>\n                        <div className={\"row\"} style={{width: \"100%\"}}>\n                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3\"}>\n                                <label htmlFor={\"descripcionVariable\"+i} className=\"col-form-label\">Descripción de Variable:</label>\n                            </div>\n                            <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9\"}>\n                                <textarea defaultValue={this.props.descripcionVariable} onKeyUp={this.props.actualizarDescripcionVariable} className=\"form-control\" id={\"descripcionVariable\"+i} rows=\"3\"></textarea>\n                            </div>\n                        </div>\n                        <div className={\"row\"} style={{width: \"100%\"}}>\n                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                <label htmlFor={\"operacion\"+i} className=\"col-form-label\">Operación:</label>\n                            </div>\n                            <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                                <select id={\"operacion\"+i} defaultValue={variable.operacion} className=\"form-control\">\n                                    <option value=\"ASIG\">Asignar</option>\n                                    <option value=\"SUM\">Sumar</option>\n                                    <option value=\"PROM\">Promedio</option>\n                                    <option value=\"MAX\">Máximo</option>\n                                    <option value=\"MIN\">Mínimo</option>\n                                    <option value=\"COUNT\">Contar</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div className={\"row\"} style={{width: \"100%\"}}>\n                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                <label htmlFor={\"hojaExcelVariable\"+i} className=\"col-form-label\">Hoja de Excel:</label>\n                            </div>\n                            <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                                <select id={\"hojaExcelVariable\"+i} defaultValue={variable.nombreHoja} className=\"form-control\">\n                                    {this.state.hojas.map((hoja, i) =>\n                                        <option value={hoja} key={hoja}>{hoja}</option>\n                                    )}\n                                </select>\n                            </div>\n                        </div>\n                        <div className={\"row\"} style={{width: \"100%\"}}>\n                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                <label htmlFor={\"tipoVariable\"+i} className=\"col-form-label\">Tipo de Variable en Celda:</label>\n                            </div>\n                            <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                                <select id={\"tipoVariable\"+i} defaultValue={variable.tipo} className=\"form-control\">\n                                    <option value=\"numero\">Número</option>\n                                    <option value=\"varchar\">Cadena</option>\n                                    <option value=\"date\">Fecha</option>\n                                    <option value=\"bit\">Booleano</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div className={\"row\"} style={{width: \"100%\"}}>\n                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                <label htmlFor={\"celdasVariable\"+i} className=\"col-form-label\">Celdas de Variable:</label>\n                            </div>\n                            <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                                <input id={\"celdasVariable\"+i} type=\"text\" defaultValue={variable.celdas} className=\"form-control form-control-sm\"/>\n                            </div>\n                        </div>\n                        <div className={\"row\"} style={{width: \"100%\"}}>\n                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                <label htmlFor={\"periodicidad\"+i} className=\"col-form-label\">Periodicidad</label>\n                            </div>\n                            <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                                <select id={\"periodicidad\"+i} defaultValue={variable.periodicidad} onChange={() => this.actualizarPeriodicidadUpdate(i)} className=\"form-control\">\n                                    <option value=\"-1\">Ninguno</option>\n                                    {periodicidad.map((periodicidad, i) =>\n                                        <option value={periodicidad.nombre} key={periodicidad.nombre}>{periodicidad.nombre}</option>\n                                    )}\n                                </select>\n                            </div>\n                        </div>\n                        {\n                            this.state.valoresPeriodicidad[i].localeCompare(\"-1\") != 0 && this.inicializarFecha(i, variable.fechaInicioCalculo)\n                            ?\n                                <div className={\"row\"} style={{width: \"100%\"}}>\n                                    <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                        <label htmlFor={\"fecha\"+i} className=\"col-form-label\">Fecha de Inicio de Cálculo:</label>\n                                    </div>\n                                    <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                                        <input type=\"text\" className=\"form-control\" id={\"fecha\"+i}/>\n                                    </div>\n                                </div>\n                            : null\n                        }\n                        <div className={\"row\"} style={{width: \"100%\"}}>\n                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                <label htmlFor={\"responsable\"+i} className=\"col-form-label\">Nombre Encargado</label>\n                            </div>\n                            <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                                <select id={\"responsable\"+i} defaultValue={variable.responsable} className=\"form-control\">\n                                    <option value=\"-1\">Ninguno</option>\n                                    {this.state.usuarios.map((usuario, i) =>\n                                        <option value={usuario.ID} key={usuario.ID}>{usuario.usuario}</option>\n                                    )}\n                                </select>\n                            </div>\n                        </div>\n                        <div className={\"row\"} style={{width: \"100%\"}}>\n                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                <label htmlFor={\"categoriaVariable\"+i} className=\"col-form-label\">Categoría de Variable</label>\n                            </div>\n                            <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                                <input id={\"categoriaVariable\"+i} defaultValue={variable.categoriaVariable} type=\"text\" className=\"form-control form-control-sm\"/>\n                            </div>\n                        </div>\n                        <div className={\"row\"} style={{width: \"100%\"}}>\n                            <div className={\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 form-group\"}>\n                                <label htmlFor={\"guardarVariable\"+i} className=\"col-form-label\">Guardar Valores Obtenidos en Base de Datos</label>\n                            </div>\n                            <div className={\"col-xl-9 col-lg-9 col-md-9 col-sm-9 col-9 form-group\"}>\n                                <br/>\n                                <div className={\"switch-button switch-button-yesno\"} style={{margin:\"0 auto\", display:\"block\"}}>\n                                    <input type=\"checkbox\" defaultChecked={variable.guardar} name={\"guardarVariable\"+i} id={\"guardarVariable\"+i}/><span>\n                                    <label htmlFor={\"guardarVariable\"+i}></label></span>\n                                </div>\n                            </div>\n                        </div>\n                        <div className={\"text-center\"} style={{width: \"100%\"}}>\n                            <a href=\"#\" className=\"btn btn-success active\" onClick={() => this.updateVariable(i)} style={{display: this.props.permision.variable.indexOf(\"E\") > -1 ? \"\" : \"none\" }}>Modificar Variable</a>\n                            <a href=\"#\" className=\"btn btn-danger active\" onClick={() => this.deleteVariable(i)} style={{marginLeft: \"10px\", display: this.props.permision.variable.indexOf(\"E\") > -1 ? \"\" : \"none\" }}>Eliminar Variable</a>\n                            {\n                                this.props.tipoVariableOriginal.localeCompare(\"excel\") == 0 && this.props.permision.variable.indexOf(\"V\") > -1 || this.props.permision.variable.indexOf(\"E\") > -1\n                                ? <a href=\"#\" className=\"btn btn-info active\" style={{marginLeft: \"10px\"}} onClick={() => this.goToTimeline(true, variable.ID, variable.nombre, false)}>Historial de Variable</a>\n                                : null\n                            }\n                        </div>\n                    </div>\n                ))}\n                <br/>\n                <div className={\"row\"} style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                    <a href=\"#\" className=\"btn btn-brand active\" onClick={this.guardarUbicacionArchivo} style={{display: this.props.permision.variable.indexOf(\"E\") > -1 ? \"\" : \"none\" }}>Modificar Configuración de Archivo de Excel</a>\n                    {\n                        this.props.tipoVariableOriginal.localeCompare(\"excel\") == 0 && this.props.permision.variable.indexOf(\"E\") > -1\n                        ? <a href=\"#\" className=\"btn btn-secondary active\" style={{marginLeft: \"10px\"}} onClick={() => this.props.eliminarVarExcel(true)}>Eliminar Variable</a>\n                        : null\n                    }\n                    {\n                        this.props.tipoVariableOriginal.localeCompare(\"excel\") == 0 && this.props.permision.variable.indexOf(\"C\") > -1\n                        ? <a href=\"#\" className=\"btn btn-primary active\" style={{marginLeft: \"10px\"}} onClick={this.verificarPeriodicidad}>Realizar Cálculo</a>\n                        : null\n                    }\n                </div>\n                <br/>\n                <Modal show={this.state.showModal}\n                    titulo={\"RESULTADOS\"}\n                    onClose={this.closeModal}>\n                        <ul className=\"list-group mb-3\">\n                            <li className=\"list-group-item d-flex justify-content-between\">\n                                <div style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                                    EXCEL ARCHIVO: {nombreArchivo}\n                                </div>\n                            </li>\n                            {this.state.variables.map((variable, i) =>\n                                <li key={\"var\"+variable.ID} className=\"list-group-item d-flex justify-content-between\">\n                                    <div>\n                                        <h6 className=\"my-0\">{variable.nombre}</h6>\n                                    </div>\n                                    <span className=\"text-muted\">{window[variable.nombre]}</span>\n                                </li>\n                            )}\n                        </ul>\n                </Modal>\n            </div>\n        );\n    }\n}\n"],"file":"FuenteDatoExcel.js"}