{"version":3,"sources":["components/Variables/Variables/SeleccionarVariables.js"],"names":["colores","banderaConseguirCategoriasVariablesINICIO","banderaConseguirCategoriasVariablesFIN","variables","excel","formas","SeleccionarVariable","props","state","accordions","getVariables","bind","getExcel","getExcelVariables","getFormas","checkEndImportingVariables","createAccordionArray","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","result","console","log","rollback","commit","arreglo","i","recordset","length","copyVar","jQuery","extend","tipo","push","variablesExcel","ID","archivoID","posArchivo","arregloAccordion","arregloAccordionSinCategoria","titulo","insertoVar","insertoExc","insertoFor","m","toLowerCase","localeCompare","categoriaVariable","j","setState","configuracionHome","goOptions","color","crearVariables","map","accordion","variable","editarVariable","esObjeto","esInstruccionSQL","nombre","width","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport sql from 'mssql';\n\nimport Accordion from '../../Accordion/Accordion.js';\n\nconst colores = [\"secondary\", \"success\", \"primary\", \"brand\"];\n\nvar banderaConseguirCategoriasVariablesINICIO = 0, banderaConseguirCategoriasVariablesFIN = 2;\nvar variables = [], excel = [], formas = [];\n\nexport default class SeleccionarVariable extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            accordions: []\n        }\n        this.getVariables = this.getVariables.bind(this);\n        this.getExcel = this.getExcel.bind(this);\n        this.getExcelVariables = this.getExcelVariables.bind(this);\n        this.getFormas = this.getFormas.bind(this);\n        this.checkEndImportingVariables = this.checkEndImportingVariables.bind(this);\n        this.createAccordionArray = this.createAccordionArray.bind(this);\n    }\n\n    componentWillUnmount() {\n        variables = [];\n        excel = [];\n        formas = [];\n    }\n\n    componentDidMount() {\n        banderaConseguirCategoriasVariablesINICIO = 0;\n        banderaConseguirCategoriasVariablesFIN = 2;\n        this.getVariables();\n        this.getExcel();\n        this.getFormas();\n    }\n\n    getVariables() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from Variables\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var arreglo = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            var copyVar = jQuery.extend(true, {}, result.recordset[i]);\n                            copyVar.tipo = 'variable';\n                            arreglo.push(copyVar);\n                        };\n                        banderaConseguirCategoriasVariablesINICIO++;\n                        variables = arreglo;\n                        /*this.setState({\n                            variables: arreglo\n                        });*/\n                        this.checkEndImportingVariables();\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getExcel() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ExcelArchivos\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var arreglo = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            var copyVar = jQuery.extend(true, {}, result.recordset[i]);\n                            copyVar.tipo = 'excel';\n                            copyVar.variablesExcel = [];\n                            arreglo.push(copyVar);\n                        };\n                        excel = arreglo;\n                        for (var i = 0; i < excel.length; i++) {\n                            banderaConseguirCategoriasVariablesFIN++;\n                            this.getExcelVariables( excel[i].ID, i );\n                        };\n                        /*this.setState({\n                            excel: arreglo\n                        });*/\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getExcelVariables(archivoID, posArchivo) {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from ExcelVariables where excelArchivoID = \"+archivoID, (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var arreglo = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            var copyVar = jQuery.extend(true, {}, result.recordset[i]);\n                            copyVar.tipo = 'excel';\n                            arreglo.push(copyVar);\n                        };\n                        banderaConseguirCategoriasVariablesINICIO++;\n                        excel[posArchivo].variablesExcel = arreglo;\n                        /*this.setState({\n                            excel: arreglo\n                        });*/\n                        this.checkEndImportingVariables();\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    getFormas() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from FormasVariables\", (err, result) => {\n                if (err) {\n                    console.log(err);\n                    if (!rolledBack) {\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var arreglo = [];\n                        for (var i = 0; i < result.recordset.length; i++) {\n                            var copyVar = jQuery.extend(true, {}, result.recordset[i]);\n                            copyVar.tipo = 'forma';\n                            arreglo.push(copyVar);\n                        };\n                        banderaConseguirCategoriasVariablesINICIO++;\n                        formas = arreglo;\n                        /*this.setState({\n                            formas: arreglo\n                        });*/\n                        this.checkEndImportingVariables();\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    checkEndImportingVariables () {\n        if(banderaConseguirCategoriasVariablesINICIO ===  banderaConseguirCategoriasVariablesFIN) {\n            this.createAccordionArray();\n        }\n    }\n\n    createAccordionArray () {\n        var arregloAccordion = [], arregloAccordionSinCategoria = {titulo: \"Sin Categoria\", variables: []};\n        var insertoVar = false, insertoExc = false, insertoFor = false;\n        for (var i = 0; i < variables.length; i++) {\n            var insertoVar = false;\n            for (var m = 0; m < arregloAccordion.length; m++) {\n                if (arregloAccordion[m].titulo.toLowerCase().localeCompare(variables[i].categoriaVariable.toLowerCase()) === 0) {\n                    var copyVar = jQuery.extend(true, {}, variables[i]);\n                    arregloAccordion[m].variables.push(copyVar);\n                    insertoVar = true;\n                    break;\n                }\n            };\n            if(!insertoVar && variables[i].categoriaVariable.length == 0) {\n                arregloAccordionSinCategoria.variables.push(variables[i]);\n            } else if(!insertoVar) {\n                arregloAccordion.push({titulo: variables[i].categoriaVariable, variables: variables[i]})\n            }\n        };\n        for (var i = 0; i < excel.length; i++) {\n            for (var j = 0; j < excel[i].variablesExcel.length; j++) {\n                var insertoExc = false;\n                for (var m = 0; m < arregloAccordion.length; m++) {\n                    if (arregloAccordion[m].titulo.toLowerCase().localeCompare(excel[i].variablesExcel[j].categoriaVariable.toLowerCase()) === 0) {\n                        var copyVar = jQuery.extend(true, {}, excel[i].variablesExcel[j]);\n                        copyVar.ID = excel[i].ID;\n                        arregloAccordion[m].variables.push(copyVar);\n                        insertoExc = true;\n                        break;\n                    }\n                };\n                if(!insertoExc && excel[i].variablesExcel[j].categoriaVariable.length == 0) {\n                    var copyVar = jQuery.extend(true, {}, excel[i].variablesExcel[j]);\n                    copyVar.ID = excel[i].ID;\n                    arregloAccordionSinCategoria.variables.push(copyVar);\n                } else if(!insertoExc) {\n                    var copyVar = jQuery.extend(true, {}, excel[i].variablesExcel[j]);\n                    copyVar.ID = excel[i].ID;\n                    arregloAccordion.push({titulo: excel[i].categoriaVariable, variables: copyVar})\n                }\n            };\n        };\n        for (var i = 0; i < formas.length; i++) {\n            var insertoFor = false;\n            for (var m = 0; m < arregloAccordion.length; m++) {\n                if (arregloAccordion[m].titulo.toLowerCase().localeCompare(formas[i].categoriaVariable.toLowerCase()) === 0) {\n                    var copyVar = jQuery.extend(true, {}, formas[i]);\n                    arregloAccordion[m].formas.push(copyVar);\n                    insertoFor = true;\n                    break;\n                }\n            };\n            if(!insertoFor && variables[i].categoriaVariable.length == 0) {\n                arregloAccordionSinCategoria.variables.push(formas[i]);\n            } else if(!insertoFor) {\n                arregloAccordion.push({titulo: formas[i].categoriaVariable, variables: formas[i]})\n            }\n        };\n        if(arregloAccordionSinCategoria.variables.length > 0)\n            arregloAccordion.push(arregloAccordionSinCategoria);\n        this.setState({\n            accordions: arregloAccordion\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <div className={\"row\"}>\n                    <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                        <div className={\"page-header\"}>\n                            <h2 className={\"pageheader-title\"}>Seleccionar Variable</h2>\n                            <div className={\"page-breadcrumb\"}>\n                                <nav aria-label=\"breadcrumb\">\n                                    <ol className={\"breadcrumb\"}>\n                                        <li className={\"breadcrumb-item font-16\"} aria-current=\"page\" onClick={this.props.configuracionHome}><a href=\"#\" className={\"breadcrumb-link\"}>Configuraci&oacute;n</a></li>\n                                        <li className={\"breadcrumb-item font-16\"} aria-current=\"page\" onClick={this.props.goOptions}><a href=\"#\" className={\"breadcrumb-link\"}>Tipo de Configuraci&oacute;n</a></li>\n                                        <li className={\"breadcrumb-item active font-16\"} aria-current=\"page\">Variables</li>\n                                    </ol>\n                                </nav>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className={\"row\"}>\n                    <a className={\"btn btn-success btn-block btnWhiteColorHover font-bold font-20\"} style={{color: \"#fafafa\"}} onClick={this.props.crearVariables}>Crear Variable</a>\n                </div>\n                <br/>\n\n                <div className={\"row\"}>\n                    <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                        {this.state.accordions.map((accordion, i) => (\n                            <div key={accordion.titulo}>\n                                <Accordion showTrash={false} showEdit={false} allowMultipleOpen color={\"#ffffff\"}>\n                                    <div label={accordion.titulo}>\n                                        <div>\n                                            {accordion.variables.map((variable, j) =>\n                                                <a onClick={() => this.props.editarVariable(variable.ID, variable.esObjeto, variable.esInstruccionSQL, variable.tipo)} style={{color: \"#fafafa\"}} className={\"btn btn-\" + (j <= colores.length-1 ? colores[j] : colores[j%colores.length]) + ' btn-block btnWhiteColorHover font-bold font-20'} key={i+j}>{variable.nombre}</a>\n                                            )}\n                                        </div>\n                                    </div>\n                                </Accordion>\n                                <br/>\n                            </div>\n                        ))}\n                        {\n                            this.state.accordions.length == 0\n                            ? <div className=\"p-3 mb-2 bg-dark text-white font-bold font-20 text-center\" style={{width: \"100%\"}}>No existen variables creadas</div>\n                            : null\n                        }\n                    </div>\n                </div>\n\n            </div>\n        );\n    }\n}\n"],"file":"SeleccionarVariables.js"}