{"version":3,"sources":["components/CriteriosDeterioro/EditarCriterioDeterioro.js"],"names":["subcategorias","categoria","EditarCriterioDeterioro","props","state","categoriasClasificacion","tiposDeCredito","campos","mensajeModal","mostrarMensaje","mensajeConfirmado","esError","esConfirmar","titulo","mensaje","iniciarCriterioDeterioro","bind","guardarCriterioDeterioro","traerAggararCategoriasClasificacion","getNombreCategoria","loadFields","verificarExistencia","eliminarCriterioDeterioro","showSuccesMessage","dismissMessageModal","traerAggararTiposCredito","mask","$","idCategoria","val","ID","idTipoCredito","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","result","console","log","rollback","commit","recordset","criterioDeterioroMismaCategoria","categoriaClasificacion","nombreClasPadre","tipoCredito","campoTipoGarantia","tipoGarantia","inicioMora","finMora","porcentajeEstimacionDeterioro","split","isNaN","undefined","length","criterioDeterioro","alert","setState","temp","i","existe","nombre","push","index","arreglo","localeCompare","returnSelCrit","self","setTimeout","showConfigurationComponent","width","categoriaClasPadre","map","tipoDeCredito","campoSelect","k","estimacionDeterioro","color","fontSize","fontWeight","confirmMessageModal","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport sql from 'mssql';\nimport Inputmask from \"inputmask\";\nimport MessageModal from '../MessageModal.js';\n\nvar subcategorias = [{categoria: \"A\"},{categoria: \"B\"},{categoria: \"C\"},{categoria: \"D\"},{categoria: \"E\"},{categoria: \"F\"},\n{categoria: \"G\"},{categoria: \"H\"},{categoria: \"I\"},{categoria: \"J\"},{categoria: \"K\"},{categoria: \"L\"},{categoria: \"M\"},\n{categoria: \"N\"},{categoria: \"O\"},{categoria: \"P\"},{categoria: \"Q\"},{categoria: \"R\"},{categoria: \"S\"},{categoria: \"T\"},\n{categoria: \"U\"},{categoria: \"V\"},{categoria: \"W\"},{categoria: \"X\"},{categoria: \"Y\"},{categoria: \"Z\"}];\n\nexport default class EditarCriterioDeterioro extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            categoriasClasificacion: [],\n            tiposDeCredito: [],\n            campos: [],\n            mensajeModal: {mostrarMensaje: false, mensajeConfirmado: false, esError: false, esConfirmar: false, titulo: \"\", mensaje: \"\"}\n        }\n        this.iniciarCriterioDeterioro = this.iniciarCriterioDeterioro.bind(this);\n        this.guardarCriterioDeterioro = this.guardarCriterioDeterioro.bind(this);\n        this.traerAggararCategoriasClasificacion = this.traerAggararCategoriasClasificacion.bind(this);\n        this.getNombreCategoria = this.getNombreCategoria.bind(this);\n        this.loadFields = this.loadFields.bind(this);\n        this.verificarExistencia = this.verificarExistencia.bind(this);\n        this.eliminarCriterioDeterioro = this.eliminarCriterioDeterioro.bind(this);\n        this.showSuccesMessage = this.showSuccesMessage.bind(this);\n        this.dismissMessageModal = this.dismissMessageModal.bind(this);\n    }\n\n    componentDidMount() {\n        this.traerAggararCategoriasClasificacion();\n        this.traerAggararTiposCredito();\n        this.loadFields();\n        //$(\"#porcentajeEstimacionDeterioro\").inputmask({\"mask\": \"999 %\"});\n        Inputmask({\"mask\": \"9[9][9][.99] %\"}).mask($(\"#porcentajeEstimacionDeterioro\"));\n        Inputmask({\"mask\": \"9[9][9][9]\"}).mask($(\"#inicioMora\"));\n        Inputmask({\"mask\": \"9[9][9][9]\"}).mask($(\"#finMora\"));\n    }\n\n    iniciarCriterioDeterioro() {\n        //trayendo los criterios de deterioro relacionados al tipo de credito para auto asignar subcategoria\n        var idCategoria = this.state.categoriasClasificacion[$(\"#categoriaClasificacionID\").val()].ID;\n        var idTipoCredito = this.state.tiposDeCredito[$(\"#tipoCreditoID\").val()].ID;\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from CriterioDeterioro where categoriaClasPadre = \"+idCategoria+\" and tipoDeCredito = \"+idTipoCredito, (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.guardarCriterioDeterioro(result.recordset);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    guardarCriterioDeterioro(criterioDeterioroMismaCategoria) {\n        let categoriaClasificacion = this.state.categoriasClasificacion[$(\"#categoriaClasificacionID\").val()].ID;\n        let nombreClasPadre = this.state.categoriasClasificacion[$(\"#categoriaClasificacionID\").val()].categoria+\" \"+this.state.categoriasClasificacion[$(\"#categoriaClasificacionID\").val()].tipoCredito;\n        let categoria = this.state.categoriasClasificacion[$(\"#categoriaClasificacionID\").val()].categoria+this.getNombreCategoria(criterioDeterioroMismaCategoria);      //es categoriaClasificacion la hijesima (n) vez del arreglo subcategorias ^^^inicio del archivo\n        let tipoCredito = this.state.tiposDeCredito[$(\"#tipoCreditoID\").val()].ID;\n        let campoTipoGarantia = $(\"#campo\").val();\n        let tipoGarantia = $(\"#nombreTipoGarantia\").val();\n        let inicioMora = $(\"#inicioMora\").val();\n        let finMora = $(\"#finMora\").val();\n        let porcentajeEstimacionDeterioro = $(\"#porcentajeEstimacionDeterioro\").val().split(\" \")[0];\n        if(!isNaN(categoriaClasificacion)) {\n            if(categoria != undefined && categoria.length > 0 && categoria.length < 91) {\n                if(!isNaN(tipoCredito)) {\n                    if(!isNaN(campoTipoGarantia)) {\n                        if(tipoGarantia != undefined && tipoGarantia.length > 0 && tipoGarantia.length < 101) {\n                            if(!isNaN(inicioMora)) {\n                                if(!isNaN(finMora)) {\n                                    if(!isNaN(porcentajeEstimacionDeterioro)) {\n                                        const transaction = new sql.Transaction( this.props.pool );\n                                        transaction.begin(err => {\n                                            var rolledBack = false;\n                                            transaction.on('rollback', aborted => {\n                                                rolledBack = true;\n                                            });\n                                            const request = new sql.Request(transaction);\n                                            request.query(\"update CriterioDeterioro set categoriaClasPadre = \"+categoriaClasificacion+\", nombreClasPadre = '\"+nombreClasPadre+\"', categoria = '\"+categoria+\"', tipoDeCredito = \"+tipoCredito+\", campoTipoGarantia = \"+campoTipoGarantia+\", tipoGarantia = '\"+tipoGarantia+\"', inicioMora = \"+inicioMora+\", finMora = \"+finMora+\", estimacionDeterioro = \"+porcentajeEstimacionDeterioro+\" where ID = \"+this.props.criterioDeterioro.ID, (err, result) => {\n                                                if (err) {\n                                                    if (!rolledBack) {\n                                                        console.log(err);\n                                                        transaction.rollback(err => {\n                                                        });\n                                                    }\n                                                } else {\n                                                    transaction.commit(err => {\n                                                        this.showSuccesMessage(\"Exito\", \"Criterio de Deterioro modificado con éxito.\");\n                                                    });\n                                                }\n                                            });\n                                        }); // fin transaction\n                                    } else {\n                                        alert(\"Error porcentajeEstimacionDeterioro\");\n                                    }\n                                } else {\n                                    alert(\"Error finMora\");\n                                }\n                            } else {\n                                alert(\"Error inicioMora\");\n                            }\n                        } else {\n                            alert(\"Error tipoGarantia\");\n                        }\n                    } else {\n                        alert(\"Error campoTipoGarantia\");\n                    }\n                } else {\n                    alert(\"Error tipoCredito\");\n                }\n            } else {\n                alert(\"Error categoria\");\n            }\n        } else {\n            alert(\"Error categoriaClasificacion\");\n        }\n    }\n\n    getNombreCategoria(criterioDeterioroMismaCategoria) {\n        if(criterioDeterioroMismaCategoria.length <= 26) {\n            return subcategorias[criterioDeterioroMismaCategoria.length].categoria;\n        } else {\n            return subcategorias[criterioDeterioroMismaCategoria.length%26].categoria;\n        }\n    }\n\n\n    traerAggararCategoriasClasificacion() {\n        //trayendo las categorias de clasificacion de creditos\n        var idCategoria = $(\"#categoriaClasificacionID\").val();\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from CategoriaClasificacion\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.setState({\n                            categoriasClasificacion: result.recordset\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    traerAggararTiposCredito() {\n        //trayendo las categorias de clasificacion de creditos\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from TipoCredito\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.setState({\n                            tiposDeCredito: result.recordset\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    loadFields() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from Campos where tabla = 'Préstamo'\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        var temp = [];\n                        for (var i = result.recordset.length - 1; i >= 0; i--) {\n                            var existe = this.verificarExistencia(result.recordset[i].nombre, i, result.recordset);\n                            if(!existe) {\n                                temp.push(result.recordset[i]);\n                            }\n                        };\n                        this.setState({\n                            campos: temp\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    verificarExistencia(nombre, index, arreglo) {\n        if(index > 0) {\n            for (var i = index-1; i >= 0; i--) {\n                if(arreglo[i].nombre.localeCompare(nombre) == 0) {\n                    return true;\n                }\n            };\n        }\n        return false;\n    }\n\n    eliminarCriterioDeterioro() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"delete CriterioDeterioro where ID = \"+this.props.criterioDeterioro.ID, (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.showSuccesMessage(\"Exito\", \"Criterio de Deterioro eliminado con éxito.\");\n                        this.props.returnSelCrit();\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    showSuccesMessage(titulo, mensaje) {\n        this.setState({\n            mensajeModal: {mostrarMensaje: true, mensajeConfirmado: false, esError: false, esConfirmar: false, titulo: titulo, mensaje: mensaje}\n        });\n        let self = this;\n        setTimeout(function(){\n            self.setState({\n                mensajeModal: {mostrarMensaje: false, mensajeConfirmado: false, esError: false, esConfirmar: false, titulo: \"\", mensaje: \"\"}\n            });\n        }, 850);\n    }\n\n    dismissMessageModal() {\n        this.setState({\n            mensajeModal: {mostrarMensaje: false, mensajeConfirmado: false, esError: false, esConfirmar: false, titulo: \"\", mensaje: \"\"}\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <div className={\"row\"}>\n                    <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                        <div className={\"page-header\"}>\n                            <h2 className={\"pageheader-title\"}>Configuraci&oacute;n</h2>\n                            <div className={\"page-breadcrumb\"}>\n                                <nav aria-label=\"breadcrumb\">\n                                    <ol className={\"breadcrumb\"}>\n                                        <li className={\"breadcrumb-item\"} aria-current=\"page\" onClick={this.props.showConfigurationComponent}><a href=\"#\" className={\"breadcrumb-link\"}>Configuraci&oacute;n</a></li>\n                                        <li className={\"breadcrumb-item\"} aria-current=\"page\" onClick={this.props.returnSelCrit}><a href=\"#\" className={\"breadcrumb-link\"}>Seleccionar Criterio de Deterioro</a></li>\n                                        <li className={\"breadcrumb-item active\"} aria-current=\"page\">Crear Criterio de Deterioro</li>\n                                    </ol>\n                                </nav>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className={\"row\"}>\n                    <div className={\"col-sm-6 col-6\"}>\n                        <div className=\"card\">\n                            <div className=\"card-body\">\n                                <div className=\"d-inline-block text-center\"  style={{width: \"100%\"}}>\n                                    <h2 className=\"text-muted\">Categoria de Clasificaci&oacute;n</h2>\n                                    <select id=\"categoriaClasificacionID\" className={\"form-control form-control-lg\"} defaultValue={this.props.criterioDeterioro.categoriaClasPadre}>\n                                        {this.state.categoriasClasificacion.map((categoriaClasificacion, i) => {\n                                                return <option value={i} key={categoriaClasificacion.ID}>{categoriaClasificacion.categoria} | {categoriaClasificacion.tipoCredito}</option>\n                                            }\n                                        )}\n                                    </select>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={\"col-sm-6 col-6\"}>\n                        <div className={\"card\"}>\n                            <div className={\"card-body\"}>\n                                <div className={\"d-inline-block text-center\"} style={{width: \"100%\"}}>\n                                    <h2 className=\"text-muted\">Tipo de Crédito</h2>\n                                    <select id=\"tipoCreditoID\" className={\"form-control form-control-lg\"} defaultValue={this.props.criterioDeterioro.tipoDeCredito}>\n                                        {this.state.tiposDeCredito.map((tipoDeCredito, i) => {\n                                                return <option value={i} key={tipoDeCredito.ID}>{tipoDeCredito.nombre}</option>\n                                            }\n                                        )}\n                                    </select>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={\"row\"}>\n                    <div className={\"col-sm-6 col-6\"}>\n                        <div className={\"card\"}>\n                            <div className={\"card-body\"}>\n                                <div className={\"d-inline-block text-center\"} style={{width: \"100%\"}}>\n                                    <h2 className=\"text-muted\">Campo de Tipo de Garant&iacute;a</h2>\n                                    <select id={\"campo\"} className={\"form-control\"} defaultValue={this.props.criterioDeterioro.campoTipoGarantia}>\n                                        <option value=\"\" key=\"0\">Seleccione un campo...</option>\n                                        {this.state.campos.map((campoSelect, k) =>\n                                            <option value={campoSelect.ID} key={k}>{campoSelect.nombre}</option>\n                                        )}\n                                    </select>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={\"col-sm-6 col-6\"}>\n                        <div className=\"card\">\n                            <div className=\"card-body\">\n                                <div className=\"d-inline-block text-center\"  style={{width: \"100%\"}}>\n                                    <h2 className=\"text-muted\">Tipo de Garant&iacute;a</h2>\n                                    <input id=\"nombreTipoGarantia\" type=\"text\" className={\"form-control\"} style={{width: \"100%\"}} defaultValue={this.props.criterioDeterioro.tipoGarantia}/>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={\"row\"}>\n                    <div className={\"col-sm-4 col-4\"}>\n                        <div className={\"card\"}>\n                            <div className={\"card-body\"}>\n                                <div className={\"d-inline-block text-center\"} style={{width: \"100%\"}}>\n                                    <h2 className=\"text-muted\">Estimacion por Deterioro</h2>\n                                    <input id=\"porcentajeEstimacionDeterioro\" type=\"text\" className={\"form-control\"} style={{width: \"100%\"}} defaultValue={this.props.criterioDeterioro.estimacionDeterioro}/>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={\"col-sm-4 col-4\"}>\n                        <div className={\"card\"}>\n                            <div className={\"card-body\"}>\n                                <div className={\"d-inline-block text-center\"} style={{width: \"100%\"}}>\n                                    <h2 className=\"text-muted\">Rango de Mora M&iacute;nimo</h2>\n                                    <input id=\"inicioMora\" type=\"text\" className={\"form-control\"} style={{width: \"100%\"}} defaultValue={this.props.criterioDeterioro.inicioMora}/>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={\"col-sm-4 col-4\"}>\n                        <div className={\"card\"}>\n                            <div className={\"card-body\"}>\n                                <div className={\"d-inline-block text-center\"} style={{width: \"100%\"}}>\n                                    <h2 className=\"text-muted\">Rango de Mora M&aacute;ximo</h2>\n                                    <input id=\"finMora\" type=\"text\" className={\"form-control\"} style={{width: \"100%\"}} defaultValue={this.props.criterioDeterioro.finMora}/>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className={\"text-center\"}>\n                    <a onClick={this.iniciarCriterioDeterioro} className={\"btn btn-primary col-xs-6 col-6\"} style={{color: \"white\", fontSize: \"1.2em\", fontWeight: \"bold\"}}>Guardar</a>\n                    <a onClick={this.eliminarCriterioDeterioro} className={\"btn btn-danger col-xs-6 col-6\"} style={{color: \"white\", fontSize: \"1.2em\", fontWeight: \"bold\"}}>Borrar</a>\n                </div>\n                <br/>\n                { this.state.mensajeModal.mostrarMensaje ? (\n                    <MessageModal esError={this.state.mensajeModal.esError} esConfirmar={this.state.mensajeModal.esConfirmar} dismissMessage={this.dismissMessageModal} confirmFunction={this.confirmMessageModal} titulo={this.state.mensajeModal.titulo} mensaje={this.state.mensajeModal.mensaje}> </MessageModal>\n                ) : (\n                    <span></span>\n                )}\n            </div>\n        );\n    }\n}\n"],"file":"EditarCriterioDeterioro.js"}