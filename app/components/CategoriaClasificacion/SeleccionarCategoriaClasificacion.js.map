{"version":3,"sources":["components/CategoriaClasificacion/SeleccionarCategoriaClasificacion.js"],"names":["SeleccionarCategoriaClasificacion","props","state","categoriasClasificacion","categoriaSel","mostrarVista","loadClassificationCategory","bind","goCreateClassificationCategory","returnChooseClassificationCategory","entrarEdit","returnEditCat","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","result","console","log","rollback","commit","setState","recordset","catClasN","localeCompare","showConfigurationComponent","seleccionarCategoriaClasificacion","color","fontSize","fontWeight","margin","display","map","categoriaClasificacion","i","ID","categoria","tipoCredito","length","React","Component"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AACA;;;;;;;;;;;;;;;;;;;;;;IAEqBA,iC;;;;;AACjB,6CAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,2GAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,uBAAuB,EAAE,EADhB;AAETC,MAAAA,YAAY,EAAE,EAFL;AAGTC,MAAAA,YAAY,EAAE;AAHL,KAAb;AAKA,UAAKC,0BAAL,GAAkC,MAAKA,0BAAL,CAAgCC,IAAhC,+BAAlC;AACA,UAAKC,8BAAL,GAAsC,MAAKA,8BAAL,CAAoCD,IAApC,+BAAtC;AACA,UAAKE,kCAAL,GAA0C,MAAKA,kCAAL,CAAwCF,IAAxC,+BAA1C;AACA,UAAKG,UAAL,GAAkB,MAAKA,UAAL,CAAgBH,IAAhB,+BAAlB;AACA,UAAKI,aAAL,GAAqB,MAAKA,aAAL,CAAmBJ,IAAnB,+BAArB;AAXe;AAYlB;;;;wCAEmB;AAChB,WAAKD,0BAAL;AACH;;;iDAE4B;AAAA;;AACzB,UAAMM,WAAW,GAAG,IAAIC,kBAAIC,WAAR,CAAqB,KAAKb,KAAL,CAAWc,IAAhC,CAApB;AACAH,MAAAA,WAAW,CAACI,KAAZ,CAAkB,UAAAC,GAAG,EAAI;AACrB,YAAIC,UAAU,GAAG,KAAjB;AACAN,QAAAA,WAAW,CAACO,EAAZ,CAAe,UAAf,EAA2B,UAAAC,OAAO,EAAI;AAClCF,UAAAA,UAAU,GAAG,IAAb;AACH,SAFD;AAGA,YAAMG,OAAO,GAAG,IAAIR,kBAAIS,OAAR,CAAgBV,WAAhB,CAAhB;AACAS,QAAAA,OAAO,CAACE,KAAR,CAAc,sCAAd,EAAsD,UAACN,GAAD,EAAMO,MAAN,EAAiB;AACnE,cAAIP,GAAJ,EAAS;AACL,gBAAI,CAACC,UAAL,EAAiB;AACbO,cAAAA,OAAO,CAACC,GAAR,CAAYT,GAAZ;AACAL,cAAAA,WAAW,CAACe,QAAZ,CAAqB,UAAAV,GAAG,EAAI,CAC3B,CADD;AAEH;AACJ,WAND,MAMO;AACHL,YAAAA,WAAW,CAACgB,MAAZ,CAAmB,UAAAX,GAAG,EAAI;AACtB,cAAA,MAAI,CAACY,QAAL,CAAc;AACV1B,gBAAAA,uBAAuB,EAAEqB,MAAM,CAACM;AADtB,eAAd;AAGH,aAJD;AAKH;AACJ,SAdD;AAeH,OArBD,EAFyB,CAuBrB;AACP;;;qDAEgC;AAC7B,WAAKD,QAAL,CAAc;AACVxB,QAAAA,YAAY,EAAE;AADJ,OAAd;AAGH;;;yDAEoC;AACjC,WAAKwB,QAAL,CAAc;AACVxB,QAAAA,YAAY,EAAE;AADJ,OAAd;AAGA,WAAKC,0BAAL;AACH;;;+BAEUyB,Q,EAAU;AACjB,WAAKF,QAAL,CAAc;AACVzB,QAAAA,YAAY,EAAE2B,QADJ;AAEV1B,QAAAA,YAAY,EAAE;AAFJ,OAAd;AAIH;;;oCAEe;AACZ,WAAKwB,QAAL,CAAc;AACVxB,QAAAA,YAAY,EAAE;AADJ,OAAd;AAGH;;;6BAEQ;AAAA;;AACL,UAAG,KAAKH,KAAL,CAAWG,YAAX,CAAwB2B,aAAxB,CAAsC,oBAAtC,KAA+D,CAAlE,EAAqE;AACjE,eACI,6CACI,gCAAC,uCAAD;AAA6B,UAAA,IAAI,EAAE,KAAK/B,KAAL,CAAWc,IAA9C;AAAoD,UAAA,gCAAgC,EAAE,KAAKN,kCAA3F;AAA+H,UAAA,0BAA0B,EAAE,KAAKR,KAAL,CAAWgC;AAAtK,eADJ,CADJ;AAKH,OAND,MAMO,IAAG,KAAK/B,KAAL,CAAWG,YAAX,CAAwB2B,aAAxB,CAAsC,mBAAtC,KAA8D,CAAjE,EAAoE;AACvE,eACI,6CACI,gCAAC,wCAAD;AAA8B,UAAA,sBAAsB,EAAE,KAAK9B,KAAL,CAAWE,YAAjE;AAA+E,UAAA,iCAAiC,EAAE,KAAKH,KAAL,CAAWiC,iCAA7H;AAAgK,UAAA,IAAI,EAAE,KAAKjC,KAAL,CAAWc,IAAjL;AAAuL,UAAA,gCAAgC,EAAE,KAAKN,kCAA9N;AAAkQ,UAAA,0BAA0B,EAAE,KAAKR,KAAL,CAAWgC;AAAzS,eADJ,CADJ;AAKH,OANM,MAMA,IAAG,KAAK/B,KAAL,CAAWG,YAAX,CAAwB2B,aAAxB,CAAsC,kBAAtC,KAA6D,CAAhE,EAAmE;AACtE,eACI,6CACI;AAAK,UAAA,SAAS,EAAE;AAAhB,WACI;AAAK,UAAA,SAAS,EAAE;AAAhB,WACI;AAAK,UAAA,SAAS,EAAE;AAAhB,WACI;AAAI,UAAA,SAAS,EAAE;AAAf,8BADJ,EAEI;AAAK,UAAA,SAAS,EAAE;AAAhB,WACI;AAAK,wBAAW;AAAhB,WACI;AAAI,UAAA,SAAS,EAAE;AAAf,WACI;AAAI,UAAA,SAAS,EAAE,iBAAf;AAAkC,0BAAa,MAA/C;AAAsD,UAAA,OAAO,EAAE,KAAK/B,KAAL,CAAWgC;AAA1E,WAAsG;AAAG,UAAA,IAAI,EAAC,GAAR;AAAY,UAAA,SAAS,EAAE;AAAvB,8BAAtG,CADJ,EAEI;AAAI,UAAA,SAAS,EAAE,wBAAf;AAAyC,0BAAa;AAAtD,uDAFJ,CADJ,CADJ,CAFJ,CADJ,CADJ,CADJ,EAgBI;AAAK,UAAA,SAAS,EAAE;AAAhB,WACI;AAAQ,UAAA,OAAO,EAAE,KAAKzB,8BAAtB;AAAsD,UAAA,SAAS,EAAE,4CAAjE;AAA+G,UAAA,KAAK,EAAE;AAAC2B,YAAAA,KAAK,EAAE,OAAR;AAAiBC,YAAAA,QAAQ,EAAE,OAA3B;AAAoCC,YAAAA,UAAU,EAAE,MAAhD;AAAwDC,YAAAA,MAAM,EAAE,QAAhE;AAA0EC,YAAAA,OAAO,EAAE;AAAnF;AAAtH,mBADJ,CAhBJ,EAmBI,2CAnBJ,EAoBI;AAAK,UAAA,SAAS,EAAE;AAAhB,WACI;AAAK,UAAA,SAAS,EAAE;AAAhB,WACI;AAAK,UAAA,SAAS,EAAE;AAAhB,WACI;AAAK,UAAA,SAAS,EAAE;AAAhB,WACI;AAAK,UAAA,SAAS,EAAE;AAAhB,WACK,KAAKrC,KAAL,CAAWC,uBAAX,CAAmCqC,GAAnC,CAAuC,UAACC,sBAAD,EAAyBC,CAAzB;AAAA,iBACpC;AAAG,YAAA,SAAS,EAAE,+DAAd;AAA+E,YAAA,OAAO,EAAE;AAAA,qBAAM,MAAI,CAAChC,UAAL,CAAgB+B,sBAAhB,CAAN;AAAA,aAAxF;AAAuI,YAAA,GAAG,EAAEA,sBAAsB,CAACE;AAAnK,aAAwKF,sBAAsB,CAACG,SAA/L,SAA6MH,sBAAsB,CAACI,WAApO,CADoC;AAAA,SAAvC,CADL,EAIM,KAAK3C,KAAL,CAAWC,uBAAX,CAAmC2C,MAAnC,IAA6C,CAA7C,GACE;AAAG,UAAA,SAAS,EAAE;AAAd,+DADF,GAGE,6CAPR,CADJ,CADJ,CADJ,CADJ,CApBJ,CADJ;AAyCH;AACJ;;;;EA/H0DC,kBAAMC,S","sourcesContent":["import React from 'react';\nimport sql from 'mssql';\n\nimport CrearCategoriaClasificacion from './CrearCategoriaClasificacion.js';\nimport EditarCategoriaClasificacion from './EditarCategoriaClasificacion.js';\n\nexport default class SeleccionarCategoriaClasificacion extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            categoriasClasificacion: [],\n            categoriaSel: {},\n            mostrarVista: \"selCategoriaClas\"\n        }\n        this.loadClassificationCategory = this.loadClassificationCategory.bind(this);\n        this.goCreateClassificationCategory = this.goCreateClassificationCategory.bind(this);\n        this.returnChooseClassificationCategory = this.returnChooseClassificationCategory.bind(this);\n        this.entrarEdit = this.entrarEdit.bind(this);\n        this.returnEditCat = this.returnEditCat.bind(this);\n    }\n\n    componentDidMount() {\n        this.loadClassificationCategory();\n    }\n\n    loadClassificationCategory() {\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from CategoriaClasificacion\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.setState({\n                            categoriasClasificacion: result.recordset\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    goCreateClassificationCategory() {\n        this.setState({\n            mostrarVista: \"crearCategoriaClas\"\n        });\n    }\n\n    returnChooseClassificationCategory() {\n        this.setState({\n            mostrarVista: \"selCategoriaClas\"\n        });\n        this.loadClassificationCategory();\n    }\n\n    entrarEdit(catClasN) {\n        this.setState({\n            categoriaSel: catClasN,\n            mostrarVista: \"editCategoriaClas\"\n        });\n    }\n\n    returnEditCat() {\n        this.setState({\n            mostrarVista: \"editCategoriaClas\"\n        });\n    }\n\n    render() {\n        if(this.state.mostrarVista.localeCompare(\"crearCategoriaClas\") == 0) {\n            return (\n                <div>\n                    <CrearCategoriaClasificacion pool={this.props.pool} retornoSelCategoriaClasificacion={this.returnChooseClassificationCategory} showConfigurationComponent={this.props.showConfigurationComponent}> </CrearCategoriaClasificacion>\n                </div>\n            );\n        } else if(this.state.mostrarVista.localeCompare(\"editCategoriaClas\") == 0) {\n            return (\n                <div>\n                    <EditarCategoriaClasificacion categoriaClasificacion={this.state.categoriaSel} seleccionarCategoriaClasificacion={this.props.seleccionarCategoriaClasificacion} pool={this.props.pool} retornoSelCategoriaClasificacion={this.returnChooseClassificationCategory} showConfigurationComponent={this.props.showConfigurationComponent}> </EditarCategoriaClasificacion>\n                </div>\n            );\n        } else if(this.state.mostrarVista.localeCompare(\"selCategoriaClas\") == 0) {\n            return (\n                <div>\n                    <div className={\"row\"}>\n                        <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                            <div className={\"page-header\"}>\n                                <h2 className={\"pageheader-title\"}>Configuraci&oacute;n</h2>\n                                <div className={\"page-breadcrumb\"}>\n                                    <nav aria-label=\"breadcrumb\">\n                                        <ol className={\"breadcrumb\"}>\n                                            <li className={\"breadcrumb-item\"} aria-current=\"page\" onClick={this.props.showConfigurationComponent}><a href=\"#\" className={\"breadcrumb-link\"}>Configuraci&oacute;n</a></li>\n                                            <li className={\"breadcrumb-item active\"} aria-current=\"page\">Seleccionar Categoria de Clasificaci&oacute;n</li>\n                                        </ol>\n                                    </nav>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={\"row\"}>\n                        <button onClick={this.goCreateClassificationCategory} className={\"btn btn-success btn-block col-xl-10 col-10\"} style={{color: \"white\", fontSize: \"1.2em\", fontWeight: \"bold\", margin: \"0 auto\", display: \"block\"}}>Crear</button>\n                    </div>\n                    <br/>\n                    <div className={\"row\"}>\n                        <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                            <div className={\"card influencer-profile-data\"}>\n                                <div className={\"card-body\"}>\n                                    <div className={\"row border-top border-bottom addPaddingToConfig\"}>\n                                        {this.state.categoriasClasificacion.map((categoriaClasificacion, i) =>\n                                            <a className={\"btn btn-outline-info btn-block btnWhiteColorHover fontSize1EM\"} onClick={() => this.entrarEdit(categoriaClasificacion)} key={categoriaClasificacion.ID}>{categoriaClasificacion.categoria} | {categoriaClasificacion.tipoCredito}</a>\n                                        )}\n                                        { this.state.categoriasClasificacion.length == 0 ? (\n                                            <a className={\"btn btn-outline-dark btn-block btnWhiteColorHover fontSize1EM\"}>No existen categorias de clasificación creados</a>\n                                        ) : (\n                                            <span></span>\n                                        )}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n    }\n}\n"],"file":"SeleccionarCategoriaClasificacion.js"}