{"version":3,"sources":["app.js"],"names":["config","user","password","server","database","stream","pool","max","min","idleTimeoutMillis","options","useUTC","sql","ConnectionPool","err","console","log","App","state","isLoggedIn","userName","permision","login","bind","logOff","setState","query","result","React","Component"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AACA;;;;;;;;;;;;;;;;;;;;;;AACA;AAEA,IAAMA,MAAM,GAAG;AACXC,EAAAA,IAAI,EAAE,IADK;AAEXC,EAAAA,QAAQ,EAAE,cAFC;AAGXC,EAAAA,MAAM,EAAE,WAHG;AAIXC,EAAAA,QAAQ,EAAE,aAJC;AAKXC,EAAAA,MAAM,EAAE,IALG;AAMXC,EAAAA,IAAI,EAAE;AACFC,IAAAA,GAAG,EAAE,EADH;AAEFC,IAAAA,GAAG,EAAE,CAFH;AAGFC,IAAAA,iBAAiB,EAAE;AAHjB,GANK;AAWXC,EAAAA,OAAO,EAAE;AACLC,IAAAA,MAAM,EAAE;AADH;AAXE,CAAf;AAgBA,IAAML,IAAI,GAAG,IAAIM,kBAAIC,cAAR,CAAuBb,MAAvB,EAA+B,UAAAc,GAAG,EAAI;AAC/C,MAAGA,GAAH,EAAQ;AACJC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,yCAAZ;AACA;;;;;;;;AAQH,GAXD,MAWO;AACHD,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACH;AACJ,CAfY,CAAb;;IAiBqBC,G;;;;;AACjB,iBAAc;AAAA;;AAAA;;AACV;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,UAAU,EAAE,KADH;AAETC,MAAAA,QAAQ,EAAE,IAFD;AAGTC,MAAAA,SAAS,EAAE,EAHF,CAKb;;AACA;;;;;;;;;;;;AAYA;;AAlBa,KAAb;AAmBA,UAAKC,KAAL,GAAa,MAAKA,KAAL,CAAWC,IAAX,+BAAb;AACA,UAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYD,IAAZ,+BAAd;AAtBU;AAuBb;;;;0BAEKH,Q,EAAUC,S,EAAW;AACvB,WAAKI,QAAL,CAAc;AACVN,QAAAA,UAAU,EAAE,IADF;AAEVC,QAAAA,QAAQ,EAAE,IAFA;AAGVC,QAAAA,SAAS,EAAEA;AAHD,OAAd;AAKH;;;6BAES;AACN,WAAKI,QAAL,CAAc;AACVN,QAAAA,UAAU,EAAE;AADF,OAAd;AAGH;;;6BAEO;AACJ,UAAMnB,MAAM,GAAG;AACXC,QAAAA,IAAI,EAAE,IADK;AAEXC,QAAAA,QAAQ,EAAE,cAFC;AAGXC,QAAAA,MAAM,EAAE,WAHG;AAIXC,QAAAA,QAAQ,EAAE,SAJC;AAKXC,QAAAA,MAAM,EAAE,IALG;AAMXC,QAAAA,IAAI,EAAE;AACFC,UAAAA,GAAG,EAAE,EADH;AAEFC,UAAAA,GAAG,EAAE,CAFH;AAGFC,UAAAA,iBAAiB,EAAE;AAHjB;AANK,OAAf;AAYA,UAAMH,IAAI,GAAG,IAAIM,kBAAIC,cAAR,CAAuBb,MAAvB,EAA+B,UAAAc,GAAG,EAAI;AAC/CC,QAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;;AACA,YAAGF,GAAH,EAAQ;AACJC,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,SAFD,MAEO;AACHC,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACA,iBAAOV,IAAI,CAACoB,KAAL,CAAW,8BAAX,EAA2C,UAACZ,GAAD,EAAMa,MAAN,EAAiB;AAC/DZ,YAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACAD,YAAAA,OAAO,CAACC,GAAR,CAAYW,MAAZ;AACH,WAHM,CAAP;AAIH;AACJ,OAXY,CAAb;AAYH;;;6BACQ;AACL,aACI,6CACM,KAAKT,KAAL,CAAWC,UAAX,GACE,gCAAC,kBAAD;AAAQ,QAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWE,QAA7B;AAAuC,QAAA,SAAS,EAAE,KAAKF,KAAL,CAAWG,SAA7D;AAAwE,QAAA,MAAM,EAAE,KAAKG,MAArF;AAA6F,QAAA,IAAI,EAAElB;AAAnG,aADF,GAGE,gCAAC,qBAAD;AAAW,QAAA,KAAK,EAAE,KAAKgB,KAAvB;AAA8B,QAAA,IAAI,EAAEhB;AAApC,aAJR,CADJ;AASH;;;;EA5E4BsB,kBAAMC,S","sourcesContent":["import React from 'react';\nimport sql from 'mssql';\n\nimport Layout from './components/Layout.js';\nimport LoginPage from './components/LoginPage.js';\n//import odbc from 'odbc';\n\nconst config = {\n    user: 'SA',\n    password: 'password111!',\n    server: 'localhost',\n    database: 'TOLOC_INTEG',\n    stream: true,\n    pool: {\n        max: 40,\n        min: 0,\n        idleTimeoutMillis: 60000\n    },\n    options: {\n        useUTC: false\n    }\n}\n\nconst pool = new sql.ConnectionPool(config, err => {\n    if(err) {\n        console.log(err);\n        console.log(\"Error en conección con la base de datos\");\n        /*$(\"body\").overhang({\n            type: \"error\",\n            primary: \"#f84a1d\",\n            accent: \"#d94e2a\",\n            message: \"Error en conección con la base de datos.\",\n            overlay: true,\n            closeConfirm: true\n        });*/\n    } else {\n        console.log('pool loaded');\n    }\n});\n\nexport default class App extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            isLoggedIn: false,\n            userName: null,\n            permision: \"\"\n        }\n        // or using a configuration object\n        /*const connectionString = {\n            connectionString: 'DSN=ClasificacionCartera',\n            connectionTimeout: 360,\n            loginTimeout: 360\n        }\n        odbc.connect(connectionString, (error, connection) => {\n            console.log(connection);\n            connection.columns(null, null, null, null, (error, result) => {\n                if (error) { return; } // handle\n                console.log(result);\n            });\n        });*/\n        // connection2 is now an open Connection\n        this.login = this.login.bind(this);\n        this.logOff = this.logOff.bind(this);\n    }\n\n    login(userName, permision) {\n        this.setState({\n            isLoggedIn: true,\n            userName: null,\n            permision: permision\n        });\n    }\n\n    logOff () {\n        this.setState({\n            isLoggedIn: false\n        });\n    }\n\n    select(){\n        const config = {\n            user: 'SA',\n            password: 'password111!',\n            server: 'localhost',\n            database: 'RCL_Dev',\n            stream: true,\n            pool: {\n                max: 40,\n                min: 0,\n                idleTimeoutMillis: 60000\n            }\n        }\n        const pool = new sql.ConnectionPool(config, err => {\n            console.log(\"11\");\n            if(err) {\n                console.log(err);\n            } else {\n                console.log(\"222\");\n                return pool.query('select * from Activos_Bancos', (err, result) => {\n                    console.log(\"333\");\n                    console.log(result);\n                });\n            }\n        });\n    }\n    render() {\n        return (\n            <div>\n                { this.state.isLoggedIn ? (\n                    <Layout userName={this.state.userName} permision={this.state.permision} logOff={this.logOff} pool={pool}> </Layout>\n                ) : (\n                    <LoginPage login={this.login} pool={pool}> </LoginPage>\n                )}\n            </div>\n        );\n    }\n}\n"],"file":"app.js"}